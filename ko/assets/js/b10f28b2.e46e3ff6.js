"use strict";(self.webpackChunktemp_docusaurus=self.webpackChunktemp_docusaurus||[]).push([[136],{593:(n,e,a)=>{a.r(e),a.d(e,{assets:()=>c,contentTitle:()=>i,default:()=>h,frontMatter:()=>s,metadata:()=>o,toc:()=>t});const o=JSON.parse('{"id":"for-engineers/katago-source/architecture","title":"\uc18c\uc2a4\ucf54\ub4dc \uc544\ud0a4\ud14d\ucc98","description":"\ubcf8\ubb38\uc5d0\uc11c\ub294 KataGo\uc758 \uc18c\uc2a4\ucf54\ub4dc \uad6c\uc870\ub97c \uc2ec\uce35 \ud574\uc11d\ud558\uc5ec \ub0b4\ubd80 \uad6c\ud604\uc744 \uc774\ud574\ud558\ub294 \ub370 \ub3c4\uc6c0\uc744 \ub4dc\ub9bd\ub2c8\ub2e4. \ucf54\ub4dc \uae30\uc5ec, \uae30\ub2a5 \uc218\uc815, \ub610\ub294 \uae30\uc220\uc744 \uc790\uccb4 \ud504\ub85c\uc81d\ud2b8\uc5d0 \uc801\uc6a9\ud558\ub824\ub294 \ubd84\uaed8 \ud544\uc218 \ucc38\uace0 \uc790\ub8cc\uc785\ub2c8\ub2e4.","source":"@site/i18n/ko/docusaurus-plugin-content-docs/current/for-engineers/katago-source/architecture.md","sourceDirName":"for-engineers/katago-source","slug":"/for-engineers/katago-source/architecture","permalink":"/www.weiqi.kids/ko/docs/for-engineers/katago-source/architecture","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/for-engineers/katago-source/architecture.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3,"title":"\uc18c\uc2a4\ucf54\ub4dc \uc544\ud0a4\ud14d\ucc98"},"sidebar":"tutorialSidebar","previous":{"title":"\uc790\uc8fc \uc0ac\uc6a9\ud558\ub294 \uba85\ub839\uc5b4","permalink":"/www.weiqi.kids/ko/docs/for-engineers/katago-source/commands"},"next":{"title":"\ubc14\ub451 \uae30\uc0ac\ub97c \uc704\ud55c \uc790\ub8cc","permalink":"/www.weiqi.kids/ko/docs/for-players/"}}');var r=a(3420),l=a(5521);const s={sidebar_position:3,title:"\uc18c\uc2a4\ucf54\ub4dc \uc544\ud0a4\ud14d\ucc98"},i="KataGo \uc18c\uc2a4\ucf54\ub4dc \uc544\ud0a4\ud14d\ucc98",c={},t=[{value:"\ud504\ub85c\uc81d\ud2b8 \ub514\ub809\ud1a0\ub9ac \uad6c\uc870",id:"\ud504\ub85c\uc81d\ud2b8-\ub514\ub809\ud1a0\ub9ac-\uad6c\uc870",level:2},{value:"cpp/ \ub514\ub809\ud1a0\ub9ac \uc0c1\uc138",id:"cpp-\ub514\ub809\ud1a0\ub9ac-\uc0c1\uc138",level:3},{value:"\uc2e0\uacbd\ub9dd \uc544\ud0a4\ud14d\ucc98",id:"\uc2e0\uacbd\ub9dd-\uc544\ud0a4\ud14d\ucc98",level:2},{value:"\ub124\ud2b8\uc6cc\ud06c \uad6c\uc870 \uac1c\uc694",id:"\ub124\ud2b8\uc6cc\ud06c-\uad6c\uc870-\uac1c\uc694",level:3},{value:"\uc785\ub825 \ud2b9\uc9d5(nninputs.cpp)",id:"\uc785\ub825-\ud2b9\uc9d5nninputscpp",level:3},{value:"\uc804\uc5ed \ud480\ub9c1 \ubd84\uae30",id:"\uc804\uc5ed-\ud480\ub9c1-\ubd84\uae30",level:3},{value:"\ucd9c\ub825 \ud5e4\ub4dc",id:"\ucd9c\ub825-\ud5e4\ub4dc",level:3},{value:"\ud0d0\uc0c9 \uc5d4\uc9c4 \uad6c\ud604",id:"\ud0d0\uc0c9-\uc5d4\uc9c4-\uad6c\ud604",level:2},{value:"MCTS \ud575\uc2ec \ud074\ub798\uc2a4",id:"mcts-\ud575\uc2ec-\ud074\ub798\uc2a4",level:3},{value:"\ud0d0\uc0c9 \ub178\ub4dc \uad6c\uc870",id:"\ud0d0\uc0c9-\ub178\ub4dc-\uad6c\uc870",level:3},{value:"PUCT \uc120\ud0dd \uc54c\uace0\ub9ac\uc998",id:"puct-\uc120\ud0dd-\uc54c\uace0\ub9ac\uc998",level:3},{value:"\ubcd1\ub82c \ud0d0\uc0c9 \uad6c\ud604",id:"\ubcd1\ub82c-\ud0d0\uc0c9-\uad6c\ud604",level:3},{value:"\uac00\uc0c1 \uc190\uc2e4(Virtual Loss)",id:"\uac00\uc0c1-\uc190\uc2e4virtual-loss",level:3},{value:"\ud6c8\ub828 \ud504\ub85c\uc138\uc2a4 \uac1c\uc694",id:"\ud6c8\ub828-\ud504\ub85c\uc138\uc2a4-\uac1c\uc694",level:2},{value:"\ud6c8\ub828 \ub370\uc774\ud130 \uc0dd\uc131",id:"\ud6c8\ub828-\ub370\uc774\ud130-\uc0dd\uc131",level:3},{value:"\uc790\uac00\ub300\uad6d(cpp/command/selfplay.cpp)",id:"\uc790\uac00\ub300\uad6dcppcommandselfplaycpp",level:3},{value:"\ud6c8\ub828 \ub370\uc774\ud130 \ud615\uc2dd",id:"\ud6c8\ub828-\ub370\uc774\ud130-\ud615\uc2dd",level:3},{value:"Python \ud6c8\ub828 \ud504\ub85c\uadf8\ub7a8(python/train.py)",id:"python-\ud6c8\ub828-\ud504\ub85c\uadf8\ub7a8pythontrainpy",level:3},{value:"\ubaa8\ub378 \uc815\uc758(python/model.py)",id:"\ubaa8\ub378-\uc815\uc758pythonmodelpy",level:3},{value:"\ud575\uc2ec \ub370\uc774\ud130 \uad6c\uc870",id:"\ud575\uc2ec-\ub370\uc774\ud130-\uad6c\uc870",level:2},{value:"Board(game/board.h)",id:"boardgameboardh",level:3},{value:"BoardHistory(game/boardhistory.h)",id:"boardhistorygameboardhistoryh",level:3},{value:"NNOutput(neuralnet/nneval.h)",id:"nnoutputneuralnetnnevalh",level:3},{value:"\uac1c\ubc1c \ubc0f \ub514\ubc84\uae45",id:"\uac1c\ubc1c-\ubc0f-\ub514\ubc84\uae45",level:2},{value:"\ub514\ubc84\uadf8 \ubc84\uc804 \ucef4\ud30c\uc77c",id:"\ub514\ubc84\uadf8-\ubc84\uc804-\ucef4\ud30c\uc77c",level:3},{value:"\uc720\ub2db \ud14c\uc2a4\ud2b8 \uc2e4\ud589",id:"\uc720\ub2db-\ud14c\uc2a4\ud2b8-\uc2e4\ud589",level:3},{value:"\ud754\ud55c \ub514\ubc84\uae45 \ubc29\ubc95",id:"\ud754\ud55c-\ub514\ubc84\uae45-\ubc29\ubc95",level:3},{value:"\uc131\ub2a5 \ubd84\uc11d",id:"\uc131\ub2a5-\ubd84\uc11d",level:3},{value:"\ucd94\uac00 \uc77d\uae30",id:"\ucd94\uac00-\uc77d\uae30",level:2}];function d(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,l.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.header,{children:(0,r.jsx)(e.h1,{id:"katago-\uc18c\uc2a4\ucf54\ub4dc-\uc544\ud0a4\ud14d\ucc98",children:"KataGo \uc18c\uc2a4\ucf54\ub4dc \uc544\ud0a4\ud14d\ucc98"})}),"\n",(0,r.jsx)(e.p,{children:"\ubcf8\ubb38\uc5d0\uc11c\ub294 KataGo\uc758 \uc18c\uc2a4\ucf54\ub4dc \uad6c\uc870\ub97c \uc2ec\uce35 \ud574\uc11d\ud558\uc5ec \ub0b4\ubd80 \uad6c\ud604\uc744 \uc774\ud574\ud558\ub294 \ub370 \ub3c4\uc6c0\uc744 \ub4dc\ub9bd\ub2c8\ub2e4. \ucf54\ub4dc \uae30\uc5ec, \uae30\ub2a5 \uc218\uc815, \ub610\ub294 \uae30\uc220\uc744 \uc790\uccb4 \ud504\ub85c\uc81d\ud2b8\uc5d0 \uc801\uc6a9\ud558\ub824\ub294 \ubd84\uaed8 \ud544\uc218 \ucc38\uace0 \uc790\ub8cc\uc785\ub2c8\ub2e4."}),"\n",(0,r.jsx)(e.h2,{id:"\ud504\ub85c\uc81d\ud2b8-\ub514\ub809\ud1a0\ub9ac-\uad6c\uc870",children:"\ud504\ub85c\uc81d\ud2b8 \ub514\ub809\ud1a0\ub9ac \uad6c\uc870"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"KataGo/\n\u251c\u2500\u2500 cpp/                    # C++ \ud575\uc2ec \ucf54\ub4dc\n\u2502   \u251c\u2500\u2500 main.cpp           # \uba54\uc778 \ud504\ub85c\uadf8\ub7a8 \uc9c4\uc785\uc810\n\u2502   \u251c\u2500\u2500 command/           # \uac01\uc885 \uc2e4\ud589 \ubaa8\ub4dc\n\u2502   \u251c\u2500\u2500 core/              # \ud575\uc2ec \uc720\ud2f8\ub9ac\ud2f0 \ud074\ub798\uc2a4\n\u2502   \u251c\u2500\u2500 game/              # \ubc14\ub451 \uaddc\uce59 \ubc0f \ubc14\ub451\ud310\n\u2502   \u251c\u2500\u2500 search/            # MCTS \ud0d0\uc0c9 \uc5d4\uc9c4\n\u2502   \u251c\u2500\u2500 neuralnet/         # \uc2e0\uacbd\ub9dd \uc778\ud130\ud398\uc774\uc2a4\n\u2502   \u251c\u2500\u2500 dataio/            # \ub370\uc774\ud130 I/O\n\u2502   \u251c\u2500\u2500 configs/           # \uc124\uc815 \ud30c\uc77c \uc608\uc81c\n\u2502   \u2514\u2500\u2500 tests/             # \uc720\ub2db \ud14c\uc2a4\ud2b8\n\u251c\u2500\u2500 python/                 # Python \ud6c8\ub828 \ucf54\ub4dc\n\u2502   \u251c\u2500\u2500 train.py           # \ud6c8\ub828 \uba54\uc778 \ud504\ub85c\uadf8\ub7a8\n\u2502   \u251c\u2500\u2500 model.py           # \ubaa8\ub378 \uc815\uc758\n\u2502   \u251c\u2500\u2500 data_processing_pytorch.py\n\u2502   \u2514\u2500\u2500 configs/           # \ud6c8\ub828 \uc124\uc815\n\u251c\u2500\u2500 docs/                   # \ubb38\uc11c\n\u2514\u2500\u2500 scripts/               # \ubcf4\uc870 \uc2a4\ud06c\ub9bd\ud2b8\n"})}),"\n",(0,r.jsx)(e.h3,{id:"cpp-\ub514\ub809\ud1a0\ub9ac-\uc0c1\uc138",children:"cpp/ \ub514\ub809\ud1a0\ub9ac \uc0c1\uc138"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"cpp/\n\u251c\u2500\u2500 main.cpp                # \ud504\ub85c\uadf8\ub7a8 \uc9c4\uc785\uc810, \uba85\ub839\uc904 \uc778\uc790 \ud30c\uc2f1\n\u251c\u2500\u2500 command/\n\u2502   \u251c\u2500\u2500 gtp.cpp            # GTP \ud504\ub85c\ud1a0\ucf5c \uad6c\ud604\n\u2502   \u251c\u2500\u2500 analysis.cpp       # Analysis Engine \uad6c\ud604\n\u2502   \u251c\u2500\u2500 benchmark.cpp      # \ubca4\uce58\ub9c8\ud06c \ud14c\uc2a4\ud2b8\n\u2502   \u251c\u2500\u2500 genconfig.cpp      # \uc124\uc815 \ud30c\uc77c \uc0dd\uc131\n\u2502   \u2514\u2500\u2500 selfplay.cpp       # \uc790\uac00\ub300\uad6d\n\u251c\u2500\u2500 core/\n\u2502   \u251c\u2500\u2500 global.h           # \uc804\uc5ed \uc0c1\uc218 \ubc0f \uc124\uc815\n\u2502   \u251c\u2500\u2500 hash.h             # Zobrist \ud574\uc2dc\n\u2502   \u251c\u2500\u2500 rand.h             # \ub09c\uc218 \uc0dd\uc131\n\u2502   \u251c\u2500\u2500 logger.h           # \ub85c\uae45 \uc2dc\uc2a4\ud15c\n\u2502   \u251c\u2500\u2500 config_parser.h    # \uc124\uc815 \ud30c\uc77c \ud30c\uc2f1\n\u2502   \u2514\u2500\u2500 threadsafe*.h      # \uc2a4\ub808\ub4dc \uc548\uc804 \ub3c4\uad6c\n\u251c\u2500\u2500 game/\n\u2502   \u251c\u2500\u2500 board.h/cpp        # \ubc14\ub451\ud310 \ud45c\ud604 \ubc0f \uae30\ubcf8 \uc870\uc791\n\u2502   \u251c\u2500\u2500 rules.h/cpp        # \ubc14\ub451 \uaddc\uce59\n\u2502   \u251c\u2500\u2500 boardhistory.h/cpp # \ub300\uad6d \ud788\uc2a4\ud1a0\ub9ac\n\u2502   \u2514\u2500\u2500 graphhash.h/cpp    # \uad6d\uba74 \ud574\uc2dc\n\u251c\u2500\u2500 search/\n\u2502   \u251c\u2500\u2500 search.h/cpp       # \ud0d0\uc0c9 \uc5d4\uc9c4 \uba54\uc778 \ud074\ub798\uc2a4\n\u2502   \u251c\u2500\u2500 searchnode.h/cpp   # \ud0d0\uc0c9 \ud2b8\ub9ac \ub178\ub4dc\n\u2502   \u251c\u2500\u2500 searchparams.h     # \ud0d0\uc0c9 \ud30c\ub77c\ubbf8\ud130\n\u2502   \u251c\u2500\u2500 mutexpool.h        # \ub77d \ud480\n\u2502   \u251c\u2500\u2500 searchresults.h    # \ud0d0\uc0c9 \uacb0\uacfc\n\u2502   \u2514\u2500\u2500 asyncbot.h/cpp     # \ube44\ub3d9\uae30 \ubd07\n\u251c\u2500\u2500 neuralnet/\n\u2502   \u251c\u2500\u2500 nninputs.h/cpp     # \uc2e0\uacbd\ub9dd \uc785\ub825 \ud2b9\uc9d5\n\u2502   \u251c\u2500\u2500 nneval.h/cpp       # \uc2e0\uacbd\ub9dd \ud3c9\uac00\n\u2502   \u251c\u2500\u2500 nninterface.h      # \ubc31\uc5d4\ub4dc \ucd94\uc0c1 \uc778\ud130\ud398\uc774\uc2a4\n\u2502   \u251c\u2500\u2500 cudabackend.cpp    # CUDA \ubc31\uc5d4\ub4dc\n\u2502   \u251c\u2500\u2500 openclbackend.cpp  # OpenCL \ubc31\uc5d4\ub4dc\n\u2502   \u251c\u2500\u2500 eigenbackend.cpp   # Eigen(CPU) \ubc31\uc5d4\ub4dc\n\u2502   \u2514\u2500\u2500 modelversion.h     # \ubaa8\ub378 \ubc84\uc804 \uad00\ub9ac\n\u2514\u2500\u2500 dataio/\n    \u251c\u2500\u2500 sgf.h/cpp          # SGF \ud30c\uc77c \ucc98\ub9ac\n    \u251c\u2500\u2500 numpywrite.h/cpp   # NumPy \ud615\uc2dd \ucd9c\ub825\n    \u2514\u2500\u2500 trainingwrite.h/cpp # \ud6c8\ub828 \ub370\uc774\ud130 \uae30\ub85d\n"})}),"\n",(0,r.jsx)(e.h2,{id:"\uc2e0\uacbd\ub9dd-\uc544\ud0a4\ud14d\ucc98",children:"\uc2e0\uacbd\ub9dd \uc544\ud0a4\ud14d\ucc98"}),"\n",(0,r.jsx)(e.h3,{id:"\ub124\ud2b8\uc6cc\ud06c-\uad6c\uc870-\uac1c\uc694",children:"\ub124\ud2b8\uc6cc\ud06c \uad6c\uc870 \uac1c\uc694"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    KataGo \uc2e0\uacbd\ub9dd \uc544\ud0a4\ud14d\ucc98                     \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                             \u2502\n\u2502   \uc785\ub825\uce35 (22\uac1c \ud2b9\uc9d5 \ud3c9\uba74 \xd7 19 \xd7 19)                           \u2502\n\u2502                        \u2502                                    \u2502\n\u2502                        \u25bc                                    \u2502\n\u2502              \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                           \u2502\n\u2502              \u2502   \ucd08\uae30 \ud569\uc131\uacf1\uce35   \u2502                           \u2502\n\u2502              \u2502  3\xd73, C channels \u2502                           \u2502\n\u2502              \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                           \u2502\n\u2502                       \u2502                                    \u2502\n\u2502                       \u25bc                                    \u2502\n\u2502   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510           \u2502\n\u2502   \u2502           \uc794\ucc28 \ube14\ub85d \xd7 N                     \u2502           \u2502\n\u2502   \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502           \u2502\n\u2502   \u2502  \u2502  BatchNorm \u2192 ReLU \u2192 Conv 3\xd73        \u2502  \u2502           \u2502\n\u2502   \u2502  \u2502  BatchNorm \u2192 ReLU \u2192 Conv 3\xd73        \u2502  \u2502           \u2502\n\u2502   \u2502  \u2502  + Global Pooling Branch            \u2502  \u2502           \u2502\n\u2502   \u2502  \u2502  + Skip Connection                  \u2502  \u2502           \u2502\n\u2502   \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502           \u2502\n\u2502   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518           \u2502\n\u2502                       \u2502                                    \u2502\n\u2502       \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                   \u2502\n\u2502       \u25bc               \u25bc               \u25bc                   \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510              \u2502\n\u2502  \u2502 Policy  \u2502    \u2502  Value  \u2502    \u2502  Other  \u2502              \u2502\n\u2502  \u2502  Head   \u2502    \u2502  Head   \u2502    \u2502  Heads  \u2502              \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518              \u2502\n\u2502                                                             \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,r.jsx)(e.h3,{id:"\uc785\ub825-\ud2b9\uc9d5nninputscpp",children:"\uc785\ub825 \ud2b9\uc9d5(nninputs.cpp)"}),"\n",(0,r.jsx)(e.p,{children:"KataGo\ub294 22\uac1c \ud2b9\uc9d5 \ud3c9\uba74\uc744 \uc785\ub825\uc73c\ub85c \uc0ac\uc6a9\ud569\ub2c8\ub2e4:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-cpp",children:"// \uc8fc\uc694 \uc785\ub825 \ud2b9\uc9d5 \uce74\ud14c\uace0\ub9ac\nenum {\n  // \ubc14\ub451\ud310 \uc0c1\ud0dc\n  INPUT_FEATURE_STONE_OUR,      // \uc6b0\ub9ac \ub3cc\n  INPUT_FEATURE_STONE_OPP,      // \uc0c1\ub300 \ub3cc\n\n  // \ud65c\ub85c \uad00\ub828(1-8\ud65c\ub85c)\n  INPUT_FEATURE_LIBERTIES_1,\n  INPUT_FEATURE_LIBERTIES_2,\n  // ...\n  INPUT_FEATURE_LIBERTIES_8_OR_MORE,\n\n  // \ud788\uc2a4\ud1a0\ub9ac \uc0c1\ud0dc\n  INPUT_FEATURE_LAST_MOVE,      // \uc774\uc804 \uc218 \uc704\uce58\n  INPUT_FEATURE_SECOND_LAST_MOVE,\n\n  // \uaddc\uce59 \uad00\ub828\n  INPUT_FEATURE_KOMI,           // \ub364\n  INPUT_FEATURE_RULES,          // \uaddc\uce59 \uc778\ucf54\ub529\n  // ...\n};\n"})}),"\n",(0,r.jsx)(e.h3,{id:"\uc804\uc5ed-\ud480\ub9c1-\ubd84\uae30",children:"\uc804\uc5ed \ud480\ub9c1 \ubd84\uae30"}),"\n",(0,r.jsx)(e.p,{children:"KataGo\uc758 \ud601\uc2e0 \uc911 \ud558\ub098\ub294 \uc794\ucc28 \ube14\ub85d\uc5d0 \uc804\uc5ed \ud480\ub9c1 \ucd94\uac00:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-cpp",children:"// \uac04\uc18c\ud654\ub41c \uc804\uc5ed \ud480\ub9c1 \uad6c\ud604 \uac1c\ub150\nclass GlobalPoolingResBlock {\npublic:\n  void forward(Tensor& x) {\n    // \ud45c\uc900 \uc794\ucc28 \uacbd\ub85c\n    Tensor regular_out = regular_conv_path(x);\n\n    // \uc804\uc5ed \ud480\ub9c1 \uacbd\ub85c\n    Tensor global_mean = global_avg_pool(x);  // [batch, C]\n    Tensor global_max = global_max_pool(x);    // [batch, C]\n    Tensor global_features = concat(global_mean, global_max);\n\n    // \uc804\uc5ed \ud2b9\uc9d5 \ucc98\ub9ac\n    global_features = dense_layer(global_features);  // [batch, C]\n\n    // \uacf5\uac04 \ucc28\uc6d0\uc73c\ub85c \ube0c\ub85c\ub4dc\uce90\uc2a4\ud2b8\ud558\uc5ec \uc77c\ubc18 \uacbd\ub85c\uc640 \uacb0\ud569\n    Tensor global_broadcast = broadcast_to_spatial(global_features);\n    x = regular_out + global_broadcast;\n  }\n};\n"})}),"\n",(0,r.jsx)(e.h3,{id:"\ucd9c\ub825-\ud5e4\ub4dc",children:"\ucd9c\ub825 \ud5e4\ub4dc"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-cpp",children:"// Policy Head: \ucc29\uc810 \ud655\ub960 \uc608\uce21\nclass PolicyHead {\n  // \ucd9c\ub825: 19\xd719+1(pass \ud3ec\ud568)\n  // softmax \uc815\uaddc\ud654 \uc0ac\uc6a9\n};\n\n// Value Head: \uc2b9\ud328 \uc608\uce21\nclass ValueHead {\n  // \ucd9c\ub825: 3(\uc2b9/\ud328/\ubb34 \ud655\ub960)\n  // softmax \uc815\uaddc\ud654 \uc0ac\uc6a9\n};\n\n// Score Head: \uc9d1\uc218 \uc608\uce21\nclass ScoreHead {\n  // \ucd9c\ub825: \uc5f0\uc18d\uac12(\uc608\uc0c1 \uc9d1\uc218 \ucc28)\n};\n\n// Ownership Head: \uc601\uc5ed \uc608\uce21\nclass OwnershipHead {\n  // \ucd9c\ub825: 19\xd719(\uac01 \uc810 \uadc0\uc18d, tanh)\n};\n"})}),"\n",(0,r.jsx)(e.h2,{id:"\ud0d0\uc0c9-\uc5d4\uc9c4-\uad6c\ud604",children:"\ud0d0\uc0c9 \uc5d4\uc9c4 \uad6c\ud604"}),"\n",(0,r.jsx)(e.h3,{id:"mcts-\ud575\uc2ec-\ud074\ub798\uc2a4",children:"MCTS \ud575\uc2ec \ud074\ub798\uc2a4"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-cpp",children:"// search/search.h\nclass Search {\npublic:\n  // \ud0d0\uc0c9 \uc2e4\ud589\n  void runWholeSearch(Player pla);\n\n  // \ucd5c\uc120\uc218 \uac00\uc838\uc624\uae30\n  Loc getBestMove();\n\n  // \ubd84\uc11d \uacb0\uacfc \uac00\uc838\uc624\uae30\n  AnalysisData getAnalysisData();\n\nprivate:\n  SearchParams params;          // \ud0d0\uc0c9 \ud30c\ub77c\ubbf8\ud130\n  SearchNode* rootNode;         // \ub8e8\ud2b8 \ub178\ub4dc\n  NNEvaluator* nnEval;         // \uc2e0\uacbd\ub9dd \ud3c9\uac00\uae30\n  std::mutex* mutexPool;       // \ub77d \ud480\n};\n"})}),"\n",(0,r.jsx)(e.h3,{id:"\ud0d0\uc0c9-\ub178\ub4dc-\uad6c\uc870",children:"\ud0d0\uc0c9 \ub178\ub4dc \uad6c\uc870"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-cpp",children:"// search/searchnode.h\nstruct SearchNode {\n  // \ub178\ub4dc \ud1b5\uacc4\n  std::atomic<int64_t> visits;           // \ubc29\ubb38 \ud69f\uc218\n  std::atomic<double> valueSumWeight;    // \uac00\uce58 \ub204\uc801 \uac00\uc911\uce58\n  std::atomic<double> valueSum;          // \uac00\uce58 \ub204\uc801 \ud569\n\n  // \uc790\uc2dd \ub178\ub4dc\n  std::atomic<int> numChildren;\n  SearchChildPointer* children;          // \uc790\uc2dd \ub178\ub4dc \ud3ec\uc778\ud130 \ubc30\uc5f4\n\n  // \uc2e0\uacbd\ub9dd \ucd9c\ub825 \uce90\uc2dc\n  std::shared_ptr<NNOutput> nnOutput;\n};\n\nstruct SearchChildPointer {\n  Loc moveLoc;                           // \ucc29\uc810\n  std::atomic<SearchNode*> node;         // \uc790\uc2dd \ub178\ub4dc \ud3ec\uc778\ud130\n  std::atomic<int64_t> edgeVisits;       // \uc5e3\uc9c0 \ubc29\ubb38 \ud69f\uc218\n};\n"})}),"\n",(0,r.jsx)(e.h3,{id:"puct-\uc120\ud0dd-\uc54c\uace0\ub9ac\uc998",children:"PUCT \uc120\ud0dd \uc54c\uace0\ub9ac\uc998"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-cpp",children:"// \ud0d0\uc0c9\ud560 \uc790\uc2dd \ub178\ub4dc \uc120\ud0dd\nint Search::selectChildToDescend(SearchNode* node, Player pla) {\n  int bestIdx = -1;\n  double bestValue = -1e100;\n\n  for (int i = 0; i < node->numChildren; i++) {\n    SearchChildPointer& child = node->children[i];\n\n    // Q\uac12 \uacc4\uc0b0(exploitation)\n    double q = getChildQ(child);\n\n    // U\uac12 \uacc4\uc0b0(exploration)\n    double prior = getPrior(node, child.moveLoc);\n    double parentVisits = node->visits.load();\n    double childVisits = child.edgeVisits.load();\n\n    double u = params.cpuctExploration * prior *\n               sqrt(parentVisits) / (1.0 + childVisits);\n\n    // PUCT \uacf5\uc2dd\n    double value = q + u;\n\n    if (value > bestValue) {\n      bestValue = value;\n      bestIdx = i;\n    }\n  }\n\n  return bestIdx;\n}\n"})}),"\n",(0,r.jsx)(e.h3,{id:"\ubcd1\ub82c-\ud0d0\uc0c9-\uad6c\ud604",children:"\ubcd1\ub82c \ud0d0\uc0c9 \uad6c\ud604"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-cpp",children:"void Search::runWholeSearch(Player pla) {\n  // \uc5ec\ub7ec \ud0d0\uc0c9 \uc2a4\ub808\ub4dc \uc2dc\uc791\n  std::vector<std::thread> threads;\n  for (int i = 0; i < params.numSearchThreads; i++) {\n    threads.emplace_back([this, pla]() {\n      runSingleSearchThread(pla);\n    });\n  }\n\n  // \ubaa8\ub4e0 \uc2a4\ub808\ub4dc \uc644\ub8cc \ub300\uae30\n  for (auto& t : threads) {\n    t.join();\n  }\n}\n\nvoid Search::runSingleSearchThread(Player pla) {\n  while (!shouldStop()) {\n    // \uacbd\ub85c \uc120\ud0dd\n    std::vector<SearchNode*> path;\n    SearchNode* leaf = selectAndDescend(rootNode, path);\n\n    // \ub178\ub4dc \ud655\uc7a5\n    expandNode(leaf);\n\n    // \uc2e0\uacbd\ub9dd \ud3c9\uac00\n    NNOutput output = nnEval->evaluate(leaf->board);\n\n    // \uc5ed\uc804\ud30c \uc5c5\ub370\uc774\ud2b8\n    backpropagateValue(path, output.value);\n  }\n}\n"})}),"\n",(0,r.jsx)(e.h3,{id:"\uac00\uc0c1-\uc190\uc2e4virtual-loss",children:"\uac00\uc0c1 \uc190\uc2e4(Virtual Loss)"}),"\n",(0,r.jsx)(e.p,{children:"\ubcd1\ub82c \ud0d0\uc0c9 \uc2dc \uc5ec\ub7ec \uc2a4\ub808\ub4dc\uac00 \uac19\uc740 \uacbd\ub85c\ub97c \uc120\ud0dd\ud558\uc9c0 \uc54a\ub3c4\ub85d:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-cpp",children:"void Search::applyVirtualLoss(SearchNode* node) {\n  // \uc774 \ub178\ub4dc\uc758 \ud3c9\uac00\uac12\uc744 \uc77c\uc2dc\uc801\uc73c\ub85c \ub0ae\ucda4\n  // \ub2e4\ub978 \uc2a4\ub808\ub4dc\uac00 \ub2e4\ub978 \uacbd\ub85c\ub97c \uc120\ud0dd\ud558\ub3c4\ub85d \ud568\n  node->virtualLoss.fetch_add(1);\n}\n\nvoid Search::removeVirtualLoss(SearchNode* node) {\n  node->virtualLoss.fetch_sub(1);\n}\n"})}),"\n",(0,r.jsx)(e.h2,{id:"\ud6c8\ub828-\ud504\ub85c\uc138\uc2a4-\uac1c\uc694",children:"\ud6c8\ub828 \ud504\ub85c\uc138\uc2a4 \uac1c\uc694"}),"\n",(0,r.jsx)(e.h3,{id:"\ud6c8\ub828-\ub370\uc774\ud130-\uc0dd\uc131",children:"\ud6c8\ub828 \ub370\uc774\ud130 \uc0dd\uc131"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                     \ud6c8\ub828 \ud504\ub85c\uc138\uc2a4 \uac1c\uc694                        \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                             \u2502\n\u2502   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u2502\n\u2502   \u2502  Self-play  \u2502 \u2192  \u2502  \ud6c8\ub828 \ub370\uc774\ud130 \u2502 \u2192  \u2502   \ud6c8\ub828\uae30    \u2502    \u2502\n\u2502   \u2502    Worker   \u2502    \u2502    Buffer   \u2502    \u2502  (PyTorch)  \u2502    \u2502\n\u2502   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2502\n\u2502          \u25b2                                      \u2502           \u2502\n\u2502          \u2502                                      \u25bc           \u2502\n\u2502          \u2502                               \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u2502\n\u2502          \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502   \uc0c8 \ubaa8\ub378   \u2502    \u2502\n\u2502                                          \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2502\n\u2502                                                             \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,r.jsx)(e.h3,{id:"\uc790\uac00\ub300\uad6dcppcommandselfplaycpp",children:"\uc790\uac00\ub300\uad6d(cpp/command/selfplay.cpp)"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-cpp",children:"// Self-play \uba54\uc778 \ub8e8\ud504\nvoid runSelfPlayLoop() {\n  while (true) {\n    // \ucd5c\uc2e0 \ubaa8\ub378 \ub85c\ub4dc\n    loadLatestModel();\n\n    // \ud55c \ub300\uad6d \uc9c4\ud589\n    GameData gameData = playSingleGame();\n\n    // \ud6c8\ub828 \ub370\uc774\ud130 \uc800\uc7a5\n    writeTrainingData(gameData);\n  }\n}\n\nGameData playSingleGame() {\n  Board board;\n  BoardHistory history;\n  GameData gameData;\n\n  while (!history.isGameOver()) {\n    // MCTS\ub85c \uc218 \uc120\ud0dd\n    Search search(board, history, params);\n    search.runWholeSearch(history.currentPla);\n\n    // MCTS \uacb0\uacfc\ub97c \ud6c8\ub828 \ubaa9\ud45c\ub85c \uc0ac\uc6a9\n    MoveData moveData;\n    moveData.policyTarget = search.getPolicyDistribution();\n    moveData.valueTarget = search.getValue();\n\n    // \uc218 \uc2e4\ud589\n    Loc move = search.sampleMove();\n    board.playMove(move, history.currentPla);\n\n    gameData.moves.push_back(moveData);\n  }\n\n  // \ucd5c\uc885 \uacb0\uacfc \uc5ed\ucda9\uc804\n  gameData.finalScore = history.finalScore();\n  return gameData;\n}\n"})}),"\n",(0,r.jsx)(e.h3,{id:"\ud6c8\ub828-\ub370\uc774\ud130-\ud615\uc2dd",children:"\ud6c8\ub828 \ub370\uc774\ud130 \ud615\uc2dd"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-cpp",children:"// dataio/trainingwrite.h\nstruct TrainingRow {\n  // \uc785\ub825 \ud2b9\uc9d5\n  float inputFeatures[NUM_FEATURES][BOARD_SIZE][BOARD_SIZE];\n\n  // \ud6c8\ub828 \ubaa9\ud45c\n  float policyTarget[BOARD_SIZE * BOARD_SIZE + 1];  // pass \ud3ec\ud568\n  float valueTarget[3];                              // \uc2b9/\ud328/\ubb34\n  float scoreTarget;                                 // \uc9d1\uc218\n  float ownershipTarget[BOARD_SIZE][BOARD_SIZE];    // \uc601\uc5ed\n\n  // \uba54\ud0c0\ub370\uc774\ud130\n  int turn;\n  int rules;\n  float komi;\n};\n"})}),"\n",(0,r.jsx)(e.h3,{id:"python-\ud6c8\ub828-\ud504\ub85c\uadf8\ub7a8pythontrainpy",children:"Python \ud6c8\ub828 \ud504\ub85c\uadf8\ub7a8(python/train.py)"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",children:"# \ud6c8\ub828 \uba54\uc778 \ub8e8\ud504(\uac04\uc18c\ud654)\ndef train():\n    model = KataGoModel(config)\n    optimizer = torch.optim.SGD(model.parameters(), lr=config.lr)\n\n    for epoch in range(config.num_epochs):\n        for batch in data_loader:\n            # \uc21c\uc804\ud30c\n            policy_pred, value_pred, score_pred, ownership_pred = model(batch.input)\n\n            # \uc190\uc2e4 \uacc4\uc0b0\n            policy_loss = cross_entropy(policy_pred, batch.policy_target)\n            value_loss = cross_entropy(value_pred, batch.value_target)\n            score_loss = mse_loss(score_pred, batch.score_target)\n            ownership_loss = mse_loss(ownership_pred, batch.ownership_target)\n\n            # \ucd1d \uc190\uc2e4(\uac00\uc911\ud569)\n            total_loss = (\n                policy_loss +\n                config.value_weight * value_loss +\n                config.score_weight * score_loss +\n                config.ownership_weight * ownership_loss\n            )\n\n            # \uc5ed\uc804\ud30c\n            optimizer.zero_grad()\n            total_loss.backward()\n            optimizer.step()\n\n        # \uccb4\ud06c\ud3ec\uc778\ud2b8 \uc800\uc7a5\n        save_checkpoint(model, epoch)\n"})}),"\n",(0,r.jsx)(e.h3,{id:"\ubaa8\ub378-\uc815\uc758pythonmodelpy",children:"\ubaa8\ub378 \uc815\uc758(python/model.py)"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",children:"class KataGoModel(nn.Module):\n    def __init__(self, config):\n        super().__init__()\n\n        # \ucd08\uae30 \ud569\uc131\uacf1\n        self.initial_conv = nn.Conv2d(\n            config.input_channels,\n            config.trunk_channels,\n            kernel_size=3, padding=1\n        )\n\n        # \uc794\ucc28 \ube14\ub85d\n        self.blocks = nn.ModuleList([\n            ResBlock(config.trunk_channels, use_global_pooling=True)\n            for _ in range(config.num_blocks)\n        ])\n\n        # \ucd9c\ub825 \ud5e4\ub4dc\n        self.policy_head = PolicyHead(config)\n        self.value_head = ValueHead(config)\n        self.score_head = ScoreHead(config)\n        self.ownership_head = OwnershipHead(config)\n\n    def forward(self, x):\n        # \uc8fc\uac04 \ub124\ud2b8\uc6cc\ud06c\n        x = self.initial_conv(x)\n        for block in self.blocks:\n            x = block(x)\n\n        # \uac01 \ucd9c\ub825 \ud5e4\ub4dc\n        policy = self.policy_head(x)\n        value = self.value_head(x)\n        score = self.score_head(x)\n        ownership = self.ownership_head(x)\n\n        return policy, value, score, ownership\n"})}),"\n",(0,r.jsx)(e.h2,{id:"\ud575\uc2ec-\ub370\uc774\ud130-\uad6c\uc870",children:"\ud575\uc2ec \ub370\uc774\ud130 \uad6c\uc870"}),"\n",(0,r.jsx)(e.h3,{id:"boardgameboardh",children:"Board(game/board.h)"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-cpp",children:"class Board {\npublic:\n  // \ubc14\ub451\ud310 \uc0c1\ud0dc\n  Color stones[MAX_BOARD_AREA];    // \uac01 \uc810\uc758 \uc0c9\uc0c1\n  Chain chains[MAX_BOARD_AREA];    // \ub3cc\ub369\uc5b4\ub9ac \uc815\ubcf4\n\n  // \ud328\n  Loc koLoc;\n\n  // \uc218 \uc2e4\ud589\n  void playMove(Loc loc, Color pla);\n\n  // \ud569\ubc95\uc131 \uac80\uc0ac\n  bool isLegal(Loc loc, Color pla) const;\n\n  // \ud65c\ub85c \uacc4\uc0b0\n  int getLiberties(Loc loc) const;\n};\n\nstruct Chain {\n  int liberties;                   // \ud65c\ub85c \uc218\n  int numStones;                   // \ub3cc \uc218\n  Loc head;                        // \uc5f0\uacb0 \ub9ac\uc2a4\ud2b8 \ud5e4\ub4dc\n};\n"})}),"\n",(0,r.jsx)(e.h3,{id:"boardhistorygameboardhistoryh",children:"BoardHistory(game/boardhistory.h)"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-cpp",children:"class BoardHistory {\npublic:\n  std::vector<Board> boards;       // \ud788\uc2a4\ud1a0\ub9ac \ubc14\ub451\ud310 \uc0c1\ud0dc\n  std::vector<Move> moves;         // \uc218 \ud788\uc2a4\ud1a0\ub9ac\n  Rules rules;                     // \uaddc\uce59\n  Player currentPla;               // \ud604\uc7ac \ucc28\ub840\n\n  // \uac8c\uc784 \uc0c1\ud0dc\n  bool isGameOver() const;\n  float finalScore() const;\n};\n"})}),"\n",(0,r.jsx)(e.h3,{id:"nnoutputneuralnetnnevalh",children:"NNOutput(neuralnet/nneval.h)"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-cpp",children:"struct NNOutput {\n  // Policy\n  float policyProbs[MAX_BOARD_AREA + 1];  // pass \ud3ec\ud568\n\n  // Value\n  float whiteWinProb;\n  float whiteLossProb;\n  float noResultProb;\n\n  // Score\n  float whiteScoreMean;\n  float whiteScoreStdev;\n\n  // Ownership\n  float ownership[MAX_BOARD_AREA];  // -1\uc5d0\uc11c 1\n};\n"})}),"\n",(0,r.jsx)(e.h2,{id:"\uac1c\ubc1c-\ubc0f-\ub514\ubc84\uae45",children:"\uac1c\ubc1c \ubc0f \ub514\ubc84\uae45"}),"\n",(0,r.jsx)(e.h3,{id:"\ub514\ubc84\uadf8-\ubc84\uc804-\ucef4\ud30c\uc77c",children:"\ub514\ubc84\uadf8 \ubc84\uc804 \ucef4\ud30c\uc77c"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"cd cpp\nmkdir build_debug && cd build_debug\ncmake .. -DCMAKE_BUILD_TYPE=Debug -DUSE_BACKEND=OPENCL\nmake -j$(nproc)\n"})}),"\n",(0,r.jsx)(e.h3,{id:"\uc720\ub2db-\ud14c\uc2a4\ud2b8-\uc2e4\ud589",children:"\uc720\ub2db \ud14c\uc2a4\ud2b8 \uc2e4\ud589"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"./katago runtests\n"})}),"\n",(0,r.jsx)(e.h3,{id:"\ud754\ud55c-\ub514\ubc84\uae45-\ubc29\ubc95",children:"\ud754\ud55c \ub514\ubc84\uae45 \ubc29\ubc95"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-cpp",children:'// 1. \ub85c\uae45 \uc0ac\uc6a9\n#include "core/logger.h"\nLogger::log("Debug message", value);\n\n// 2. kata-debug-print GTP \uba85\ub839\uc5b4 \uc0ac\uc6a9\n// \uc0c1\uc138 \ud0d0\uc0c9 \uc815\ubcf4 \ucd9c\ub825\n\n// 3. \ucef4\ud30c\uc77c \uc2dc sanitizers \ud65c\uc131\ud654\ncmake .. -DCMAKE_CXX_FLAGS="-fsanitize=address"\n'})}),"\n",(0,r.jsx)(e.h3,{id:"\uc131\ub2a5-\ubd84\uc11d",children:"\uc131\ub2a5 \ubd84\uc11d"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:'# perf \uc0ac\uc6a9(Linux)\nperf record ./katago benchmark -model model.bin.gz\nperf report\n\n# Instruments \uc0ac\uc6a9(macOS)\ninstruments -t "Time Profiler" ./katago benchmark -model model.bin.gz\n'})}),"\n",(0,r.jsx)(e.h2,{id:"\ucd94\uac00-\uc77d\uae30",children:"\ucd94\uac00 \uc77d\uae30"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://github.com/lightvector/KataGo",children:"KataGo GitHub"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://arxiv.org/abs/1902.10565",children:"KataGo \ub17c\ubb38"})}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.a,{href:"https://discord.gg/bqkZAz3",children:"KataGo Discord"})," - \uac1c\ubc1c\uc790\uc640 \uad50\ub958"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.a,{href:"https://katagotraining.org/",children:"KataGo Training"})," - \ud6c8\ub828 \uc9c4\ud589 \ud655\uc778"]}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"KataGo\uc758 \uc18c\uc2a4\ucf54\ub4dc \uc544\ud0a4\ud14d\ucc98\ub97c \uc774\ud574\ud588\ub2e4\uba74, \uc2ec\uce35 \uc5f0\uad6c\ub098 \uc624\ud508\uc18c\uc2a4 \ud504\ub85c\uc81d\ud2b8 \uae30\uc5ec \ub2a5\ub825\uc744 \uac16\ucd94\uac8c \ub429\ub2c8\ub2e4. \ub354 \uae4a\uc774 \uc54c\uace0 \uc2f6\ub2e4\uba74 KataGo\uc758 GitHub \uc18c\uc2a4\ucf54\ub4dc\ub97c \uc9c1\uc811 \uc77d\uace0 \ucee4\ubba4\ub2c8\ud2f0 \ud1a0\ub860\uc5d0 \ucc38\uc5ec\ud558\uc2dc\uae38 \uad8c\uc7a5\ud569\ub2c8\ub2e4."})]})}function h(n={}){const{wrapper:e}={...(0,l.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(d,{...n})}):d(n)}},5521:(n,e,a)=>{a.d(e,{R:()=>s,x:()=>i});var o=a(6672);const r={},l=o.createContext(r);function s(n){const e=o.useContext(l);return o.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function i(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:s(n.components),o.createElement(l.Provider,{value:e},n.children)}}}]);