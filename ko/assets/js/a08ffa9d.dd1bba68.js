"use strict";(globalThis.webpackChunktemp_docusaurus=globalThis.webpackChunktemp_docusaurus||[]).push([[8138],{15473(e,n,l){l.r(n),l.d(n,{assets:()=>h,contentTitle:()=>r,default:()=>x,frontMatter:()=>c,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"tech/deep-dive/gpu-optimization","title":"GPU \ubc31\uc5d4\ub4dc\uc640 \ucd5c\uc801\ud654","description":"KataGo\uc758 CUDA, OpenCL, Metal \ubc31\uc5d4\ub4dc \ube44\uad50 \ubc0f \uc131\ub2a5 \ud29c\ub2dd \uac00\uc774\ub4dc","source":"@site/i18n/ko/docusaurus-plugin-content-docs/current/tech/deep-dive/gpu-optimization.md","sourceDirName":"tech/deep-dive","slug":"/tech/deep-dive/gpu-optimization","permalink":"/ko/docs/tech/deep-dive/gpu-optimization","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/tech/deep-dive/gpu-optimization.md","tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"sidebar_position":6,"title":"GPU \ubc31\uc5d4\ub4dc\uc640 \ucd5c\uc801\ud654","description":"KataGo\uc758 CUDA, OpenCL, Metal \ubc31\uc5d4\ub4dc \ube44\uad50 \ubc0f \uc131\ub2a5 \ud29c\ub2dd \uac00\uc774\ub4dc"},"sidebar":"tutorialSidebar","previous":{"title":"MCTS \uad6c\ud604 \uc138\ubd80\uc0ac\ud56d","permalink":"/ko/docs/tech/deep-dive/mcts-implementation"},"next":{"title":"\ubd84\uc0b0 \ud559\uc2b5 \uc544\ud0a4\ud14d\ucc98","permalink":"/ko/docs/tech/deep-dive/distributed-training"}}');var d=l(62615),s=l(30416);const c={sidebar_position:6,title:"GPU \ubc31\uc5d4\ub4dc\uc640 \ucd5c\uc801\ud654",description:"KataGo\uc758 CUDA, OpenCL, Metal \ubc31\uc5d4\ub4dc \ube44\uad50 \ubc0f \uc131\ub2a5 \ud29c\ub2dd \uac00\uc774\ub4dc"},r="GPU \ubc31\uc5d4\ub4dc\uc640 \ucd5c\uc801\ud654",h={},a=[{value:"\ubc31\uc5d4\ub4dc \uac1c\uc694",id:"\ubc31\uc5d4\ub4dc-\uac1c\uc694",level:2},{value:"CUDA \ubc31\uc5d4\ub4dc",id:"cuda-\ubc31\uc5d4\ub4dc",level:2},{value:"\uc801\uc6a9 \uc2dc\ub098\ub9ac\uc624",id:"\uc801\uc6a9-\uc2dc\ub098\ub9ac\uc624",level:3},{value:"\uc124\uce58 \uc694\uad6c\uc0ac\ud56d",id:"\uc124\uce58-\uc694\uad6c\uc0ac\ud56d",level:3},{value:"\ucef4\ud30c\uc77c",id:"\ucef4\ud30c\uc77c",level:3},{value:"\uc131\ub2a5 \ud2b9\uc9d5",id:"\uc131\ub2a5-\ud2b9\uc9d5",level:3},{value:"OpenCL \ubc31\uc5d4\ub4dc",id:"opencl-\ubc31\uc5d4\ub4dc",level:2},{value:"\uc801\uc6a9 \uc2dc\ub098\ub9ac\uc624",id:"\uc801\uc6a9-\uc2dc\ub098\ub9ac\uc624-1",level:3},{value:"\uc124\uce58 \uc694\uad6c\uc0ac\ud56d",id:"\uc124\uce58-\uc694\uad6c\uc0ac\ud56d-1",level:3},{value:"\ucef4\ud30c\uc77c",id:"\ucef4\ud30c\uc77c-1",level:3},{value:"\ub4dc\ub77c\uc774\ubc84 \uc120\ud0dd",id:"\ub4dc\ub77c\uc774\ubc84-\uc120\ud0dd",level:3},{value:"\uc131\ub2a5 \ud29c\ub2dd",id:"\uc131\ub2a5-\ud29c\ub2dd",level:3},{value:"Metal \ubc31\uc5d4\ub4dc",id:"metal-\ubc31\uc5d4\ub4dc",level:2},{value:"\uc801\uc6a9 \uc2dc\ub098\ub9ac\uc624",id:"\uc801\uc6a9-\uc2dc\ub098\ub9ac\uc624-2",level:3},{value:"\ucef4\ud30c\uc77c",id:"\ucef4\ud30c\uc77c-2",level:3},{value:"Apple Silicon \ucd5c\uc801\ud654",id:"apple-silicon-\ucd5c\uc801\ud654",level:3},{value:"\uc131\ub2a5 \ube44\uad50",id:"\uc131\ub2a5-\ube44\uad50",level:3},{value:"Eigen \ubc31\uc5d4\ub4dc (\uc21c\uc218 CPU)",id:"eigen-\ubc31\uc5d4\ub4dc-\uc21c\uc218-cpu",level:2},{value:"\uc801\uc6a9 \uc2dc\ub098\ub9ac\uc624",id:"\uc801\uc6a9-\uc2dc\ub098\ub9ac\uc624-3",level:3},{value:"\ucef4\ud30c\uc77c",id:"\ucef4\ud30c\uc77c-3",level:3},{value:"\uc608\uc0c1 \uc131\ub2a5",id:"\uc608\uc0c1-\uc131\ub2a5",level:3},{value:"\uc131\ub2a5 \ud29c\ub2dd \ud30c\ub77c\ubbf8\ud130",id:"\uc131\ub2a5-\ud29c\ub2dd-\ud30c\ub77c\ubbf8\ud130",level:2},{value:"\ud575\uc2ec \ud30c\ub77c\ubbf8\ud130",id:"\ud575\uc2ec-\ud30c\ub77c\ubbf8\ud130",level:3},{value:"\ud30c\ub77c\ubbf8\ud130 \ud29c\ub2dd \uac00\uc774\ub4dc",id:"\ud30c\ub77c\ubbf8\ud130-\ud29c\ub2dd-\uac00\uc774\ub4dc",level:3},{value:"nnMaxBatchSize",id:"nnmaxbatchsize",level:4},{value:"numSearchThreads",id:"numsearchthreads",level:4},{value:"numNNServerThreadsPerModel",id:"numnnserverthreadspermodel",level:4},{value:"\uba54\ubaa8\ub9ac \ud29c\ub2dd",id:"\uba54\ubaa8\ub9ac-\ud29c\ub2dd",level:3},{value:"\ub2e4\uc911 GPU \uc124\uc815",id:"\ub2e4\uc911-gpu-\uc124\uc815",level:2},{value:"\ub2e8\uc77c \uba38\uc2e0 \ub2e4\uc911 GPU",id:"\ub2e8\uc77c-\uba38\uc2e0-\ub2e4\uc911-gpu",level:3},{value:"\ub85c\ub4dc \ubc38\ub7f0\uc2f1",id:"\ub85c\ub4dc-\ubc38\ub7f0\uc2f1",level:3},{value:"\ubca4\uce58\ub9c8\ud06c \ud14c\uc2a4\ud2b8",id:"\ubca4\uce58\ub9c8\ud06c-\ud14c\uc2a4\ud2b8",level:2},{value:"\ubca4\uce58\ub9c8\ud06c \uc2e4\ud589",id:"\ubca4\uce58\ub9c8\ud06c-\uc2e4\ud589",level:3},{value:"\ucd9c\ub825 \ud574\uc11d",id:"\ucd9c\ub825-\ud574\uc11d",level:3},{value:"\uc77c\ubc18\uc801\uc778 \uc131\ub2a5 \ub370\uc774\ud130",id:"\uc77c\ubc18\uc801\uc778-\uc131\ub2a5-\ub370\uc774\ud130",level:3},{value:"TensorRT \uac00\uc18d",id:"tensorrt-\uac00\uc18d",level:2},{value:"\uc801\uc6a9 \uc2dc\ub098\ub9ac\uc624",id:"\uc801\uc6a9-\uc2dc\ub098\ub9ac\uc624-4",level:3},{value:"\ud65c\uc131\ud654 \ubc29\ubc95",id:"\ud65c\uc131\ud654-\ubc29\ubc95",level:3},{value:"\uc131\ub2a5 \ud5a5\uc0c1",id:"\uc131\ub2a5-\ud5a5\uc0c1",level:3},{value:"\uc8fc\uc758\uc0ac\ud56d",id:"\uc8fc\uc758\uc0ac\ud56d",level:3},{value:"\uc77c\ubc18\uc801\uc778 \ubb38\uc81c",id:"\uc77c\ubc18\uc801\uc778-\ubb38\uc81c",level:2},{value:"GPU\uac00 \uac10\uc9c0\ub418\uc9c0 \uc54a\uc74c",id:"gpu\uac00-\uac10\uc9c0\ub418\uc9c0-\uc54a\uc74c",level:3},{value:"VRAM \ubd80\uc871",id:"vram-\ubd80\uc871",level:3},{value:"\uc608\uc0c1\ubcf4\ub2e4 \ub0ae\uc740 \uc131\ub2a5",id:"\uc608\uc0c1\ubcf4\ub2e4-\ub0ae\uc740-\uc131\ub2a5",level:3},{value:"\uc131\ub2a5 \ucd5c\uc801\ud654 \uccb4\ud06c\ub9ac\uc2a4\ud2b8",id:"\uc131\ub2a5-\ucd5c\uc801\ud654-\uccb4\ud06c\ub9ac\uc2a4\ud2b8",level:2},{value:"\ucd94\uac00 \uc77d\uae30",id:"\ucd94\uac00-\uc77d\uae30",level:2}];function t(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",input:"input",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.header,{children:(0,d.jsx)(n.h1,{id:"gpu-\ubc31\uc5d4\ub4dc\uc640-\ucd5c\uc801\ud654",children:"GPU \ubc31\uc5d4\ub4dc\uc640 \ucd5c\uc801\ud654"})}),"\n",(0,d.jsx)(n.p,{children:"\uc774 \ubb38\uc11c\ub294 KataGo\uac00 \uc9c0\uc6d0\ud558\ub294 \ub2e4\uc591\ud55c GPU \ubc31\uc5d4\ub4dc, \uc131\ub2a5 \ucc28\uc774 \ubc0f \ucd5c\uc801 \uc131\ub2a5\uc744 \uc704\ud55c \ud29c\ub2dd \ubc29\ubc95\uc744 \uc18c\uac1c\ud569\ub2c8\ub2e4."}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"\ubc31\uc5d4\ub4dc-\uac1c\uc694",children:"\ubc31\uc5d4\ub4dc \uac1c\uc694"}),"\n",(0,d.jsx)(n.p,{children:"KataGo\ub294 \ub124 \uac00\uc9c0 \uacc4\uc0b0 \ubc31\uc5d4\ub4dc\ub97c \uc9c0\uc6d0\ud569\ub2c8\ub2e4:"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"\ubc31\uc5d4\ub4dc"}),(0,d.jsx)(n.th,{children:"\ud558\ub4dc\uc6e8\uc5b4 \uc9c0\uc6d0"}),(0,d.jsx)(n.th,{children:"\uc131\ub2a5"}),(0,d.jsx)(n.th,{children:"\uc124\uce58 \ub09c\uc774\ub3c4"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"CUDA"})}),(0,d.jsx)(n.td,{children:"NVIDIA GPU"}),(0,d.jsx)(n.td,{children:"\ucd5c\uc0c1"}),(0,d.jsx)(n.td,{children:"\uc911\uac04"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"OpenCL"})}),(0,d.jsx)(n.td,{children:"NVIDIA/AMD/Intel GPU"}),(0,d.jsx)(n.td,{children:"\uc591\ud638"}),(0,d.jsx)(n.td,{children:"\uc26c\uc6c0"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"Metal"})}),(0,d.jsx)(n.td,{children:"Apple Silicon"}),(0,d.jsx)(n.td,{children:"\uc591\ud638"}),(0,d.jsx)(n.td,{children:"\uc26c\uc6c0"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"Eigen"})}),(0,d.jsx)(n.td,{children:"\uc21c\uc218 CPU"}),(0,d.jsx)(n.td,{children:"\ub290\ub9bc"}),(0,d.jsx)(n.td,{children:"\uac00\uc7a5 \uc26c\uc6c0"})]})]})]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"cuda-\ubc31\uc5d4\ub4dc",children:"CUDA \ubc31\uc5d4\ub4dc"}),"\n",(0,d.jsx)(n.h3,{id:"\uc801\uc6a9-\uc2dc\ub098\ub9ac\uc624",children:"\uc801\uc6a9 \uc2dc\ub098\ub9ac\uc624"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"NVIDIA GPU (GTX 10 \uc2dc\ub9ac\uc988 \uc774\uc0c1)"}),"\n",(0,d.jsx)(n.li,{children:"\ucd5c\uace0 \uc131\ub2a5 \ud544\uc694"}),"\n",(0,d.jsx)(n.li,{children:"CUDA \uac1c\ubc1c \ud658\uacbd \ubcf4\uc720"}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"\uc124\uce58-\uc694\uad6c\uc0ac\ud56d",children:"\uc124\uce58 \uc694\uad6c\uc0ac\ud56d"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"# CUDA \ubc84\uc804 \ud655\uc778\nnvcc --version\n\n# cuDNN \ud655\uc778\ncat /usr/local/cuda/include/cudnn_version.h | grep CUDNN_MAJOR\n"})}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"\uad6c\uc131 \uc694\uc18c"}),(0,d.jsx)(n.th,{children:"\uad8c\uc7a5 \ubc84\uc804"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"CUDA"}),(0,d.jsx)(n.td,{children:"11.x \ub610\ub294 12.x"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"cuDNN"}),(0,d.jsx)(n.td,{children:"8.x"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"\ub4dc\ub77c\uc774\ubc84"}),(0,d.jsx)(n.td,{children:"470+"})]})]})]}),"\n",(0,d.jsx)(n.h3,{id:"\ucef4\ud30c\uc77c",children:"\ucef4\ud30c\uc77c"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"cd KataGo/cpp\nmkdir build && cd build\n\ncmake .. -DUSE_BACKEND=CUDA \\\n         -DCUDNN_INCLUDE_DIR=/usr/local/cuda/include \\\n         -DCUDNN_LIBRARY=/usr/local/cuda/lib64/libcudnn.so\n\nmake -j$(nproc)\n"})}),"\n",(0,d.jsx)(n.h3,{id:"\uc131\ub2a5-\ud2b9\uc9d5",children:"\uc131\ub2a5 \ud2b9\uc9d5"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Tensor Cores"}),": FP16 \uac00\uc18d \uc9c0\uc6d0 (RTX \uc2dc\ub9ac\uc988)"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"\ubc30\uce58 \ucd94\ub860"}),": GPU \ud65c\uc6a9\ub960 \ucd5c\uc0c1"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"\uba54\ubaa8\ub9ac \uad00\ub9ac"}),": VRAM \uc0ac\uc6a9\ub7c9 \uc138\ubc00\ud558\uac8c \uc81c\uc5b4 \uac00\ub2a5"]}),"\n"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"opencl-\ubc31\uc5d4\ub4dc",children:"OpenCL \ubc31\uc5d4\ub4dc"}),"\n",(0,d.jsx)(n.h3,{id:"\uc801\uc6a9-\uc2dc\ub098\ub9ac\uc624-1",children:"\uc801\uc6a9 \uc2dc\ub098\ub9ac\uc624"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"AMD GPU"}),"\n",(0,d.jsx)(n.li,{children:"Intel \ub0b4\uc7a5 \uadf8\ub798\ud53d"}),"\n",(0,d.jsx)(n.li,{children:"NVIDIA GPU (CUDA \ud658\uacbd \uc5c6\uc774)"}),"\n",(0,d.jsx)(n.li,{children:"\ud06c\ub85c\uc2a4 \ud50c\ub7ab\ud3fc \ubc30\ud3ec"}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"\uc124\uce58-\uc694\uad6c\uc0ac\ud56d-1",children:"\uc124\uce58 \uc694\uad6c\uc0ac\ud56d"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"# Linux - OpenCL \uac1c\ubc1c \ud328\ud0a4\uc9c0 \uc124\uce58\nsudo apt install ocl-icd-opencl-dev\n\n# \uc0ac\uc6a9 \uac00\ub2a5\ud55c OpenCL \uc7a5\uce58 \ud655\uc778\nclinfo\n"})}),"\n",(0,d.jsx)(n.h3,{id:"\ucef4\ud30c\uc77c-1",children:"\ucef4\ud30c\uc77c"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"cmake .. -DUSE_BACKEND=OPENCL\nmake -j$(nproc)\n"})}),"\n",(0,d.jsx)(n.h3,{id:"\ub4dc\ub77c\uc774\ubc84-\uc120\ud0dd",children:"\ub4dc\ub77c\uc774\ubc84 \uc120\ud0dd"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"GPU \uc720\ud615"}),(0,d.jsx)(n.th,{children:"\uad8c\uc7a5 \ub4dc\ub77c\uc774\ubc84"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"AMD"}),(0,d.jsx)(n.td,{children:"ROCm \ub610\ub294 AMDGPU-PRO"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Intel"}),(0,d.jsx)(n.td,{children:"intel-opencl-icd"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"NVIDIA"}),(0,d.jsx)(n.td,{children:"nvidia-opencl-icd"})]})]})]}),"\n",(0,d.jsx)(n.h3,{id:"\uc131\ub2a5-\ud29c\ub2dd",children:"\uc131\ub2a5 \ud29c\ub2dd"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-ini",children:"# config.cfg\nopenclDeviceToUse = 0          # GPU \ubc88\ud638\nopenclUseFP16 = auto           # \ubc18\uc815\ubc00\ub3c4 (\uc9c0\uc6d0 \uc2dc)\nopenclUseFP16Storage = true    # FP16 \uc800\uc7a5\n"})}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"metal-\ubc31\uc5d4\ub4dc",children:"Metal \ubc31\uc5d4\ub4dc"}),"\n",(0,d.jsx)(n.h3,{id:"\uc801\uc6a9-\uc2dc\ub098\ub9ac\uc624-2",children:"\uc801\uc6a9 \uc2dc\ub098\ub9ac\uc624"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"Apple Silicon (M1/M2/M3)"}),"\n",(0,d.jsx)(n.li,{children:"macOS \uc2dc\uc2a4\ud15c"}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"\ucef4\ud30c\uc77c-2",children:"\ucef4\ud30c\uc77c"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"cmake .. -DUSE_BACKEND=METAL\nmake -j$(sysctl -n hw.ncpu)\n"})}),"\n",(0,d.jsx)(n.h3,{id:"apple-silicon-\ucd5c\uc801\ud654",children:"Apple Silicon \ucd5c\uc801\ud654"}),"\n",(0,d.jsx)(n.p,{children:"Apple Silicon\uc758 \ud1b5\ud569 \uba54\ubaa8\ub9ac \uc544\ud0a4\ud14d\ucc98\ub294 \ud2b9\ubcc4\ud55c \uc7a5\uc810\uc774 \uc788\uc2b5\ub2c8\ub2e4:"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-ini",children:"# Apple Silicon \uad8c\uc7a5 \uc124\uc815\nnumNNServerThreadsPerModel = 1\nnnMaxBatchSize = 16\nnumSearchThreads = 4\n"})}),"\n",(0,d.jsx)(n.h3,{id:"\uc131\ub2a5-\ube44\uad50",children:"\uc131\ub2a5 \ube44\uad50"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"\uce69"}),(0,d.jsx)(n.th,{children:"\uc0c1\ub300 \uc131\ub2a5"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"M1"}),(0,d.jsx)(n.td,{children:"~RTX 2060"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"M1 Pro/Max"}),(0,d.jsx)(n.td,{children:"~RTX 3060"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"M2"}),(0,d.jsx)(n.td,{children:"~RTX 2070"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"M3 Pro/Max"}),(0,d.jsx)(n.td,{children:"~RTX 3070"})]})]})]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"eigen-\ubc31\uc5d4\ub4dc-\uc21c\uc218-cpu",children:"Eigen \ubc31\uc5d4\ub4dc (\uc21c\uc218 CPU)"}),"\n",(0,d.jsx)(n.h3,{id:"\uc801\uc6a9-\uc2dc\ub098\ub9ac\uc624-3",children:"\uc801\uc6a9 \uc2dc\ub098\ub9ac\uc624"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"GPU \ud658\uacbd \uc5c6\uc74c"}),"\n",(0,d.jsx)(n.li,{children:"\ube60\ub978 \ud14c\uc2a4\ud2b8"}),"\n",(0,d.jsx)(n.li,{children:"\ub0ae\uc740 \uac15\ub3c4 \uc0ac\uc6a9"}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"\ucef4\ud30c\uc77c-3",children:"\ucef4\ud30c\uc77c"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"sudo apt install libeigen3-dev\ncmake .. -DUSE_BACKEND=EIGEN\nmake -j$(nproc)\n"})}),"\n",(0,d.jsx)(n.h3,{id:"\uc608\uc0c1-\uc131\ub2a5",children:"\uc608\uc0c1 \uc131\ub2a5"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"CPU \uc2f1\uae00 \ucf54\uc5b4: ~10-30 playouts/sec\nCPU \uba40\ud2f0 \ucf54\uc5b4: ~50-150 playouts/sec\nGPU (\uc911\uae09): ~1000-3000 playouts/sec\n"})}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"\uc131\ub2a5-\ud29c\ub2dd-\ud30c\ub77c\ubbf8\ud130",children:"\uc131\ub2a5 \ud29c\ub2dd \ud30c\ub77c\ubbf8\ud130"}),"\n",(0,d.jsx)(n.h3,{id:"\ud575\uc2ec-\ud30c\ub77c\ubbf8\ud130",children:"\ud575\uc2ec \ud30c\ub77c\ubbf8\ud130"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-ini",children:"# config.cfg\n\n# === \uc2e0\uacbd\ub9dd \uc124\uc815 ===\n# GPU \ubc88\ud638 (\ub2e4\uc911 GPU \uc2dc \uc0ac\uc6a9)\nnnDeviceIdxs = 0\n\n# \ubaa8\ub378\ub2f9 \ucd94\ub860 \uc2a4\ub808\ub4dc \uc218\nnumNNServerThreadsPerModel = 2\n\n# \ucd5c\ub300 \ubc30\uce58 \ud06c\uae30\nnnMaxBatchSize = 16\n\n# \uce90\uc2dc \ud06c\uae30 (2^N \uc704\uce58)\nnnCacheSizePowerOfTwo = 20\n\n# === \ud0d0\uc0c9 \uc124\uc815 ===\n# \ud0d0\uc0c9 \uc2a4\ub808\ub4dc \uc218\nnumSearchThreads = 8\n\n# \uc218\ub2f9 \ucd5c\ub300 \ubc29\ubb38 \ud69f\uc218\nmaxVisits = 800\n"})}),"\n",(0,d.jsx)(n.h3,{id:"\ud30c\ub77c\ubbf8\ud130-\ud29c\ub2dd-\uac00\uc774\ub4dc",children:"\ud30c\ub77c\ubbf8\ud130 \ud29c\ub2dd \uac00\uc774\ub4dc"}),"\n",(0,d.jsx)(n.h4,{id:"nnmaxbatchsize",children:"nnMaxBatchSize"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"\ub108\ubb34 \uc791\uc73c\uba74: GPU \ud65c\uc6a9\ub960 \ub0ae\uc74c, \ucd94\ub860 \uc9c0\uc5f0 \ub192\uc74c\n\ub108\ubb34 \ud06c\uba74: VRAM \ubd80\uc871, \ub300\uae30 \uc2dc\uac04 \uae40\n\n\uad8c\uc7a5\uac12:\n- 4GB VRAM: 8-12\n- 8GB VRAM: 16-24\n- 16GB+ VRAM: 32-64\n"})}),"\n",(0,d.jsx)(n.h4,{id:"numsearchthreads",children:"numSearchThreads"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"\ub108\ubb34 \uc801\uc73c\uba74: GPU\ub97c \ucda9\ubd84\ud788 \ud65c\uc6a9 \ubabb\ud568\n\ub108\ubb34 \ub9ce\uc73c\uba74: CPU \ubcd1\ubaa9, \uba54\ubaa8\ub9ac \uc555\ubc15\n\n\uad8c\uc7a5\uac12:\n- CPU \ucf54\uc5b4 \uc218\uc758 1-2\ubc30\n- nnMaxBatchSize\uc640 \ube44\uc2b7\ud558\uac8c\n"})}),"\n",(0,d.jsx)(n.h4,{id:"numnnserverthreadspermodel",children:"numNNServerThreadsPerModel"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"CUDA: 1-2\nOpenCL: 1-2\nEigen: CPU \ucf54\uc5b4 \uc218\n"})}),"\n",(0,d.jsx)(n.h3,{id:"\uba54\ubaa8\ub9ac-\ud29c\ub2dd",children:"\uba54\ubaa8\ub9ac \ud29c\ub2dd"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-ini",children:"# VRAM \uc0ac\uc6a9\ub7c9 \uc904\uc774\uae30\nnnMaxBatchSize = 8\nnnCacheSizePowerOfTwo = 18\n\n# VRAM \uc0ac\uc6a9\ub7c9 \ub298\ub9ac\uae30 (\uc131\ub2a5 \ud5a5\uc0c1)\nnnMaxBatchSize = 32\nnnCacheSizePowerOfTwo = 22\n"})}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"\ub2e4\uc911-gpu-\uc124\uc815",children:"\ub2e4\uc911 GPU \uc124\uc815"}),"\n",(0,d.jsx)(n.h3,{id:"\ub2e8\uc77c-\uba38\uc2e0-\ub2e4\uc911-gpu",children:"\ub2e8\uc77c \uba38\uc2e0 \ub2e4\uc911 GPU"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-ini",children:"# GPU 0\uacfc GPU 1 \uc0ac\uc6a9\nnnDeviceIdxs = 0,1\n\n# GPU\ub2f9 \uc2a4\ub808\ub4dc \uc218\nnumNNServerThreadsPerModel = 2\n"})}),"\n",(0,d.jsx)(n.h3,{id:"\ub85c\ub4dc-\ubc38\ub7f0\uc2f1",children:"\ub85c\ub4dc \ubc38\ub7f0\uc2f1"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-ini",children:"# GPU \uc131\ub2a5\uc5d0 \ub530\ub77c \uac00\uc911\uce58 \ubc30\ubd84\n# GPU 0\uc774 \ub354 \uac15\ub825\ud558\uba74 \ub354 \ub9ce\uc740 \uc791\uc5c5 \ubc30\ubd84\nnnDeviceIdxs = 0,0,1\n"})}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"\ubca4\uce58\ub9c8\ud06c-\ud14c\uc2a4\ud2b8",children:"\ubca4\uce58\ub9c8\ud06c \ud14c\uc2a4\ud2b8"}),"\n",(0,d.jsx)(n.h3,{id:"\ubca4\uce58\ub9c8\ud06c-\uc2e4\ud589",children:"\ubca4\uce58\ub9c8\ud06c \uc2e4\ud589"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"katago benchmark -model model.bin.gz -config config.cfg\n"})}),"\n",(0,d.jsx)(n.h3,{id:"\ucd9c\ub825-\ud574\uc11d",children:"\ucd9c\ub825 \ud574\uc11d"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"GPU 0: NVIDIA GeForce RTX 3080\nThreads: 8, Batch Size: 16\n\nBenchmark results:\n- Neural net evals/second: 2847.3\n- Playouts/second: 4521.8\n- Time per move (1000 visits): 0.221 sec\n\nMemory usage:\n- Peak GPU memory: 2.1 GB\n- Peak system memory: 1.3 GB\n"})}),"\n",(0,d.jsx)(n.h3,{id:"\uc77c\ubc18\uc801\uc778-\uc131\ub2a5-\ub370\uc774\ud130",children:"\uc77c\ubc18\uc801\uc778 \uc131\ub2a5 \ub370\uc774\ud130"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"GPU"}),(0,d.jsx)(n.th,{children:"\ubaa8\ub378"}),(0,d.jsx)(n.th,{children:"Playouts/\ucd08"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"RTX 3060"}),(0,d.jsx)(n.td,{children:"b18c384"}),(0,d.jsx)(n.td,{children:"~2500"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"RTX 3080"}),(0,d.jsx)(n.td,{children:"b18c384"}),(0,d.jsx)(n.td,{children:"~4500"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"RTX 4090"}),(0,d.jsx)(n.td,{children:"b18c384"}),(0,d.jsx)(n.td,{children:"~8000"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"M1 Pro"}),(0,d.jsx)(n.td,{children:"b18c384"}),(0,d.jsx)(n.td,{children:"~1500"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"M2 Max"}),(0,d.jsx)(n.td,{children:"b18c384"}),(0,d.jsx)(n.td,{children:"~2200"})]})]})]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"tensorrt-\uac00\uc18d",children:"TensorRT \uac00\uc18d"}),"\n",(0,d.jsx)(n.h3,{id:"\uc801\uc6a9-\uc2dc\ub098\ub9ac\uc624-4",children:"\uc801\uc6a9 \uc2dc\ub098\ub9ac\uc624"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"NVIDIA GPU"}),"\n",(0,d.jsx)(n.li,{children:"\uadf9\ud55c \uc131\ub2a5 \ucd94\uad6c"}),"\n",(0,d.jsx)(n.li,{children:"\uae34 \ucd08\uae30\ud654 \uc2dc\uac04 \uc218\uc6a9 \uac00\ub2a5"}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"\ud65c\uc131\ud654-\ubc29\ubc95",children:"\ud65c\uc131\ud654 \ubc29\ubc95"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"# \ucef4\ud30c\uc77c \uc2dc \ud65c\uc131\ud654\ncmake .. -DUSE_BACKEND=CUDA -DUSE_TENSORRT=ON\n\n# \ub610\ub294 \uc0ac\uc804 \ucef4\ud30c\uc77c \ubc84\uc804 \uc0ac\uc6a9\nkatago-tensorrt\n"})}),"\n",(0,d.jsx)(n.h3,{id:"\uc131\ub2a5-\ud5a5\uc0c1",children:"\uc131\ub2a5 \ud5a5\uc0c1"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"\ud45c\uc900 CUDA: 100%\nTensorRT FP32: +20-30%\nTensorRT FP16: +50-80% (RTX \uc2dc\ub9ac\uc988)\nTensorRT INT8: +100-150% (\uad50\uc815 \ud544\uc694)\n"})}),"\n",(0,d.jsx)(n.h3,{id:"\uc8fc\uc758\uc0ac\ud56d",children:"\uc8fc\uc758\uc0ac\ud56d"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"\uccab \uc2dc\uc791 \uc2dc TensorRT \uc5d4\uc9c4 \ucef4\ud30c\uc77c \ud544\uc694 (\uc218 \ubd84)"}),"\n",(0,d.jsx)(n.li,{children:"\ub2e4\ub978 GPU\ub294 \uc7ac\ucef4\ud30c\uc77c \ud544\uc694"}),"\n",(0,d.jsx)(n.li,{children:"FP16/INT8\uc740 \uc815\ubc00\ub3c4\uac00 \uc57d\uac04 \ub5a8\uc5b4\uc9c8 \uc218 \uc788\uc74c"}),"\n"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"\uc77c\ubc18\uc801\uc778-\ubb38\uc81c",children:"\uc77c\ubc18\uc801\uc778 \ubb38\uc81c"}),"\n",(0,d.jsx)(n.h3,{id:"gpu\uac00-\uac10\uc9c0\ub418\uc9c0-\uc54a\uc74c",children:"GPU\uac00 \uac10\uc9c0\ub418\uc9c0 \uc54a\uc74c"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"# GPU \uc0c1\ud0dc \ud655\uc778\nnvidia-smi  # NVIDIA\nrocm-smi    # AMD\nclinfo      # OpenCL\n\n# KataGo\uc5d0\uc11c \uc0ac\uc6a9 \uac00\ub2a5\ud55c GPU \ub098\uc5f4\nkatago gpuinfo\n"})}),"\n",(0,d.jsx)(n.h3,{id:"vram-\ubd80\uc871",children:"VRAM \ubd80\uc871"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-ini",children:"# \ub354 \uc791\uc740 \ubaa8\ub378 \uc0ac\uc6a9\n# b18c384 \u2192 b10c128\n\n# \ubc30\uce58 \ud06c\uae30 \uc904\uc774\uae30\nnnMaxBatchSize = 4\n\n# \uce90\uc2dc \uc904\uc774\uae30\nnnCacheSizePowerOfTwo = 16\n"})}),"\n",(0,d.jsx)(n.h3,{id:"\uc608\uc0c1\ubcf4\ub2e4-\ub0ae\uc740-\uc131\ub2a5",children:"\uc608\uc0c1\ubcf4\ub2e4 \ub0ae\uc740 \uc131\ub2a5"}),"\n",(0,d.jsxs)(n.ol,{children:["\n",(0,d.jsx)(n.li,{children:"\uc62c\ubc14\ub978 \ubc31\uc5d4\ub4dc \uc0ac\uc6a9 \ud655\uc778 (CUDA > OpenCL > Eigen)"}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"numSearchThreads"}),"\uac00 \ucda9\ubd84\ud55c\uc9c0 \ud655\uc778"]}),"\n",(0,d.jsx)(n.li,{children:"GPU\uac00 \ub2e4\ub978 \ud504\ub85c\uadf8\ub7a8\uc5d0 \uc810\uc720\ub418\uc5b4 \uc788\uc9c0 \uc54a\uc740\uc9c0 \ud655\uc778"}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"benchmark"})," \uba85\ub839\uc73c\ub85c \uc131\ub2a5 \ud655\uc778"]}),"\n"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"\uc131\ub2a5-\ucd5c\uc801\ud654-\uccb4\ud06c\ub9ac\uc2a4\ud2b8",children:"\uc131\ub2a5 \ucd5c\uc801\ud654 \uccb4\ud06c\ub9ac\uc2a4\ud2b8"}),"\n",(0,d.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,d.jsxs)(n.li,{className:"task-list-item",children:[(0,d.jsx)(n.input,{type:"checkbox",disabled:!0})," ","\uc62c\ubc14\ub978 \ubc31\uc5d4\ub4dc \uc120\ud0dd (CUDA/OpenCL/Metal)"]}),"\n",(0,d.jsxs)(n.li,{className:"task-list-item",children:[(0,d.jsx)(n.input,{type:"checkbox",disabled:!0})," ","\ucd5c\uc2e0 GPU \ub4dc\ub77c\uc774\ubc84 \uc124\uce58"]}),"\n",(0,d.jsxs)(n.li,{className:"task-list-item",children:[(0,d.jsx)(n.input,{type:"checkbox",disabled:!0})," ","VRAM\uc5d0 \ub9de\uac8c ",(0,d.jsx)(n.code,{children:"nnMaxBatchSize"})," \uc870\uc815"]}),"\n",(0,d.jsxs)(n.li,{className:"task-list-item",children:[(0,d.jsx)(n.input,{type:"checkbox",disabled:!0})," ","CPU\uc5d0 \ub9de\uac8c ",(0,d.jsx)(n.code,{children:"numSearchThreads"})," \uc870\uc815"]}),"\n",(0,d.jsxs)(n.li,{className:"task-list-item",children:[(0,d.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,d.jsx)(n.code,{children:"benchmark"})," \uc2e4\ud589\ud558\uc5ec \uc131\ub2a5 \ud655\uc778"]}),"\n",(0,d.jsxs)(n.li,{className:"task-list-item",children:[(0,d.jsx)(n.input,{type:"checkbox",disabled:!0})," ","GPU \uc0ac\uc6a9\ub960 \ubaa8\ub2c8\ud130\ub9c1 (80% \uc774\uc0c1\uc774\uc5b4\uc57c \ud568)"]}),"\n"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"\ucd94\uac00-\uc77d\uae30",children:"\ucd94\uac00 \uc77d\uae30"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.a,{href:"../mcts-implementation",children:"MCTS \uad6c\ud604 \uc138\ubd80\uc0ac\ud56d"})," \u2014 \ubc30\uce58 \ucd94\ub860\uc758 \ud544\uc694\uc131"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.a,{href:"../quantization-deploy",children:"\ubaa8\ub378 \uc591\uc790\ud654\uc640 \ubc30\ud3ec"})," \u2014 \ucd94\uac00 \uc131\ub2a5 \ucd5c\uc801\ud654"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.a,{href:"../../hands-on/setup",children:"\uc124\uce58 \uac00\uc774\ub4dc"})," \u2014 \uac01 \ud50c\ub7ab\ud3fc \uc124\uce58 \ub2e8\uacc4"]}),"\n"]})]})}function x(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(t,{...e})}):t(e)}},30416(e,n,l){l.d(n,{R:()=>c,x:()=>r});var i=l(59471);const d={},s=i.createContext(d);function c(e){const n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:c(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);