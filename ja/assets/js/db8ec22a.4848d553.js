"use strict";(globalThis.webpackChunktemp_docusaurus=globalThis.webpackChunktemp_docusaurus||[]).push([[2076],{39474(e,n,s){s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>o,frontMatter:()=>t,metadata:()=>l,toc:()=>a});const l=JSON.parse('{"id":"for-engineers/deep-dive/evaluation","title":"\u8a55\u4fa1\u3068\u30d9\u30f3\u30c1\u30de\u30fc\u30af","description":"\u56f2\u7881AI\u306eElo\u30ec\u30fc\u30c6\u30a3\u30f3\u30b0\u30b7\u30b9\u30c6\u30e0\u3001\u5bfe\u5c40\u30c6\u30b9\u30c8\u3001\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u30d9\u30f3\u30c1\u30de\u30fc\u30af\u624b\u6cd5","source":"@site/i18n/ja/docusaurus-plugin-content-docs/current/for-engineers/deep-dive/evaluation.md","sourceDirName":"for-engineers/deep-dive","slug":"/for-engineers/deep-dive/evaluation","permalink":"/ja/docs/for-engineers/deep-dive/evaluation","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/for-engineers/deep-dive/evaluation.md","tags":[],"version":"current","sidebarPosition":9,"frontMatter":{"sidebar_position":9,"title":"\u8a55\u4fa1\u3068\u30d9\u30f3\u30c1\u30de\u30fc\u30af","description":"\u56f2\u7881AI\u306eElo\u30ec\u30fc\u30c6\u30a3\u30f3\u30b0\u30b7\u30b9\u30c6\u30e0\u3001\u5bfe\u5c40\u30c6\u30b9\u30c8\u3001\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u30d9\u30f3\u30c1\u30de\u30fc\u30af\u624b\u6cd5"},"sidebar":"tutorialSidebar","previous":{"title":"\u30e2\u30c7\u30eb\u91cf\u5b50\u5316\u3068\u30c7\u30d7\u30ed\u30a4\u30e1\u30f3\u30c8","permalink":"/ja/docs/for-engineers/deep-dive/quantization-deploy"},"next":{"title":"\u30ab\u30b9\u30bf\u30e0\u30eb\u30fc\u30eb\u3068\u5909\u5247","permalink":"/ja/docs/for-engineers/deep-dive/custom-rules"}}');var r=s(62615),i=s(30416);const t={sidebar_position:9,title:"\u8a55\u4fa1\u3068\u30d9\u30f3\u30c1\u30de\u30fc\u30af",description:"\u56f2\u7881AI\u306eElo\u30ec\u30fc\u30c6\u30a3\u30f3\u30b0\u30b7\u30b9\u30c6\u30e0\u3001\u5bfe\u5c40\u30c6\u30b9\u30c8\u3001\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u30d9\u30f3\u30c1\u30de\u30fc\u30af\u624b\u6cd5"},d="\u8a55\u4fa1\u3068\u30d9\u30f3\u30c1\u30de\u30fc\u30af",c={},a=[{value:"Elo\u30ec\u30fc\u30c6\u30a3\u30f3\u30b0\u30b7\u30b9\u30c6\u30e0",id:"elo\u30ec\u30fc\u30c6\u30a3\u30f3\u30b0\u30b7\u30b9\u30c6\u30e0",level:2},{value:"\u57fa\u672c\u6982\u5ff5",id:"\u57fa\u672c\u6982\u5ff5",level:3},{value:"Elo\u5dee\u3068\u52dd\u7387\u5bfe\u7167\u8868",id:"elo\u5dee\u3068\u52dd\u7387\u5bfe\u7167\u8868",level:3},{value:"\u5b9f\u88c5",id:"\u5b9f\u88c5",level:3},{value:"\u5bfe\u5c40\u30c6\u30b9\u30c8",id:"\u5bfe\u5c40\u30c6\u30b9\u30c8",level:2},{value:"\u30c6\u30b9\u30c8\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af",id:"\u30c6\u30b9\u30c8\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af",level:3},{value:"\u7d71\u8a08\u7684\u6709\u610f\u6027",id:"\u7d71\u8a08\u7684\u6709\u610f\u6027",level:3},{value:"\u63a8\u5968\u5bfe\u5c40\u6570",id:"\u63a8\u5968\u5bfe\u5c40\u6570",level:3},{value:"SPRT\uff08\u9010\u6b21\u78ba\u7387\u6bd4\u691c\u5b9a\uff09",id:"sprt\u9010\u6b21\u78ba\u7387\u6bd4\u691c\u5b9a",level:2},{value:"\u6982\u5ff5",id:"\u6982\u5ff5",level:3},{value:"KataGo\u30d9\u30f3\u30c1\u30de\u30fc\u30af",id:"katago\u30d9\u30f3\u30c1\u30de\u30fc\u30af",level:2},{value:"\u30d9\u30f3\u30c1\u30de\u30fc\u30af\u306e\u5b9f\u884c",id:"\u30d9\u30f3\u30c1\u30de\u30fc\u30af\u306e\u5b9f\u884c",level:3},{value:"\u51fa\u529b\u306e\u89e3\u91c8",id:"\u51fa\u529b\u306e\u89e3\u91c8",level:3},{value:"\u4e3b\u8981\u6307\u6a19",id:"\u4e3b\u8981\u6307\u6a19",level:3},{value:"\u68cb\u529b\u8a55\u4fa1",id:"\u68cb\u529b\u8a55\u4fa1",level:2},{value:"\u4eba\u9593\u306e\u68cb\u529b\u5bfe\u7167",id:"\u4eba\u9593\u306e\u68cb\u529b\u5bfe\u7167",level:3},{value:"\u4e3b\u8981AI\u306eElo",id:"\u4e3b\u8981ai\u306eelo",level:3},{value:"\u30c6\u30b9\u30c8\u5bfe\u7167",id:"\u30c6\u30b9\u30c8\u5bfe\u7167",level:3},{value:"\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u76e3\u8996",id:"\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u76e3\u8996",level:2},{value:"\u7d99\u7d9a\u7684\u76e3\u8996",id:"\u7d99\u7d9a\u7684\u76e3\u8996",level:3},{value:"\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u30dc\u30c8\u30eb\u30cd\u30c3\u30af\u8a3a\u65ad",id:"\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u30dc\u30c8\u30eb\u30cd\u30c3\u30af\u8a3a\u65ad",level:3},{value:"\u81ea\u52d5\u5316\u30c6\u30b9\u30c8",id:"\u81ea\u52d5\u5316\u30c6\u30b9\u30c8",level:2},{value:"CI/CD\u7d71\u5408",id:"cicd\u7d71\u5408",level:3},{value:"\u56de\u5e30\u30c6\u30b9\u30c8",id:"\u56de\u5e30\u30c6\u30b9\u30c8",level:3},{value:"\u95a2\u9023\u8a18\u4e8b",id:"\u95a2\u9023\u8a18\u4e8b",level:2}];function h(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"\u8a55\u4fa1\u3068\u30d9\u30f3\u30c1\u30de\u30fc\u30af",children:"\u8a55\u4fa1\u3068\u30d9\u30f3\u30c1\u30de\u30fc\u30af"})}),"\n",(0,r.jsx)(n.p,{children:"\u672c\u8a18\u4e8b\u3067\u306f\u3001\u56f2\u7881AI\u306e\u68cb\u529b\u3068\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u306e\u8a55\u4fa1\u65b9\u6cd5\u3092\u3001Elo\u30ec\u30fc\u30c6\u30a3\u30f3\u30b0\u30b7\u30b9\u30c6\u30e0\u3001\u5bfe\u5c40\u30c6\u30b9\u30c8\u624b\u6cd5\u3001\u6a19\u6e96\u30d9\u30f3\u30c1\u30de\u30fc\u30af\u3092\u542b\u3081\u3066\u7d39\u4ecb\u3057\u307e\u3059\u3002"}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"elo\u30ec\u30fc\u30c6\u30a3\u30f3\u30b0\u30b7\u30b9\u30c6\u30e0",children:"Elo\u30ec\u30fc\u30c6\u30a3\u30f3\u30b0\u30b7\u30b9\u30c6\u30e0"}),"\n",(0,r.jsx)(n.h3,{id:"\u57fa\u672c\u6982\u5ff5",children:"\u57fa\u672c\u6982\u5ff5"}),"\n",(0,r.jsx)(n.p,{children:"Elo\u30ec\u30fc\u30c6\u30a3\u30f3\u30b0\u306f\u76f8\u5bfe\u7684\u306a\u68cb\u529b\u3092\u6e2c\u5b9a\u3059\u308b\u6a19\u6e96\u7684\u306a\u65b9\u6cd5\u3067\u3059\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"\u671f\u5f85\u52dd\u7387 E_A = 1 / (1 + 10^((R_B - R_A) / 400))\n\n\u65b0Elo = \u65e7Elo + K \xd7 (\u5b9f\u969b\u306e\u7d50\u679c - \u671f\u5f85\u7d50\u679c)\n"})}),"\n",(0,r.jsx)(n.h3,{id:"elo\u5dee\u3068\u52dd\u7387\u5bfe\u7167\u8868",children:"Elo\u5dee\u3068\u52dd\u7387\u5bfe\u7167\u8868"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Elo\u5dee"}),(0,r.jsx)(n.th,{children:"\u5f37\u8005\u306e\u52dd\u7387"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"0"}),(0,r.jsx)(n.td,{children:"50%"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"100"}),(0,r.jsx)(n.td,{children:"64%"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"200"}),(0,r.jsx)(n.td,{children:"76%"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"400"}),(0,r.jsx)(n.td,{children:"91%"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"800"}),(0,r.jsx)(n.td,{children:"99%"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"\u5b9f\u88c5",children:"\u5b9f\u88c5"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'def expected_score(rating_a, rating_b):\n    """A\u306eB\u306b\u5bfe\u3059\u308b\u671f\u5f85\u30b9\u30b3\u30a2\u3092\u8a08\u7b97"""\n    return 1 / (1 + 10 ** ((rating_b - rating_a) / 400))\n\ndef update_elo(rating, expected, actual, k=32):\n    """Elo\u30ec\u30fc\u30c6\u30a3\u30f3\u30b0\u3092\u66f4\u65b0"""\n    return rating + k * (actual - expected)\n\ndef calculate_elo_diff(wins, losses, draws):\n    """\u5bfe\u6226\u7d50\u679c\u304b\u3089Elo\u5dee\u3092\u8a08\u7b97"""\n    total = wins + losses + draws\n    win_rate = (wins + 0.5 * draws) / total\n\n    if win_rate <= 0 or win_rate >= 1:\n        return float(\'inf\') if win_rate >= 1 else float(\'-inf\')\n\n    return 400 * math.log10(win_rate / (1 - win_rate))\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"\u5bfe\u5c40\u30c6\u30b9\u30c8",children:"\u5bfe\u5c40\u30c6\u30b9\u30c8"}),"\n",(0,r.jsx)(n.h3,{id:"\u30c6\u30b9\u30c8\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af",children:"\u30c6\u30b9\u30c8\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"class MatchTester:\n    def __init__(self, engine_a, engine_b):\n        self.engine_a = engine_a\n        self.engine_b = engine_b\n        self.results = {'a_wins': 0, 'b_wins': 0, 'draws': 0}\n\n    def run_match(self, num_games=400):\n        \"\"\"\u5bfe\u6226\u30c6\u30b9\u30c8\u3092\u5b9f\u884c\"\"\"\n        for i in range(num_games):\n            # \u5148\u5f8c\u3092\u4ea4\u4ee3\n            if i % 2 == 0:\n                black, white = self.engine_a, self.engine_b\n                a_is_black = True\n            else:\n                black, white = self.engine_b, self.engine_a\n                a_is_black = False\n\n            # \u5bfe\u5c40\u3092\u5b9f\u65bd\n            result = self.play_game(black, white)\n\n            # \u7d50\u679c\u3092\u8a18\u9332\n            if result == 'black':\n                if a_is_black:\n                    self.results['a_wins'] += 1\n                else:\n                    self.results['b_wins'] += 1\n            elif result == 'white':\n                if a_is_black:\n                    self.results['b_wins'] += 1\n                else:\n                    self.results['a_wins'] += 1\n            else:\n                self.results['draws'] += 1\n\n        return self.results\n\n    def play_game(self, black_engine, white_engine):\n        \"\"\"1\u5c40\u306e\u5bfe\u5c40\u3092\u5b9f\u65bd\"\"\"\n        game = Game()\n\n        while not game.is_terminal():\n            if game.current_player == 'black':\n                move = black_engine.get_move(game.state)\n            else:\n                move = white_engine.get_move(game.state)\n\n            game.play(move)\n\n        return game.get_winner()\n"})}),"\n",(0,r.jsx)(n.h3,{id:"\u7d71\u8a08\u7684\u6709\u610f\u6027",children:"\u7d71\u8a08\u7684\u6709\u610f\u6027"}),"\n",(0,r.jsx)(n.p,{children:"\u30c6\u30b9\u30c8\u7d50\u679c\u306b\u7d71\u8a08\u7684\u610f\u5473\u304c\u3042\u308b\u3053\u3068\u3092\u78ba\u8a8d\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'from scipy import stats\n\ndef calculate_confidence_interval(wins, total, confidence=0.95):\n    """\u52dd\u7387\u306e\u4fe1\u983c\u533a\u9593\u3092\u8a08\u7b97"""\n    p = wins / total\n    z = stats.norm.ppf((1 + confidence) / 2)\n    margin = z * math.sqrt(p * (1 - p) / total)\n\n    return (p - margin, p + margin)\n\n# \u4f8b\nwins, total = 220, 400\nci_low, ci_high = calculate_confidence_interval(wins, total)\nprint(f"\u52dd\u7387: {wins/total:.1%}, 95% CI: [{ci_low:.1%}, {ci_high:.1%}]")\n'})}),"\n",(0,r.jsx)(n.h3,{id:"\u63a8\u5968\u5bfe\u5c40\u6570",children:"\u63a8\u5968\u5bfe\u5c40\u6570"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u4e88\u60f3Elo\u5dee"}),(0,r.jsx)(n.th,{children:"\u63a8\u5968\u5bfe\u5c40\u6570"}),(0,r.jsx)(n.th,{children:"\u4fe1\u983c\u5ea6"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:">100"}),(0,r.jsx)(n.td,{children:"100"}),(0,r.jsx)(n.td,{children:"95%"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"50-100"}),(0,r.jsx)(n.td,{children:"200"}),(0,r.jsx)(n.td,{children:"95%"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"20-50"}),(0,r.jsx)(n.td,{children:"400"}),(0,r.jsx)(n.td,{children:"95%"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"<20"}),(0,r.jsx)(n.td,{children:"1000\u4ee5\u4e0a"}),(0,r.jsx)(n.td,{children:"95%"})]})]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"sprt\u9010\u6b21\u78ba\u7387\u6bd4\u691c\u5b9a",children:"SPRT\uff08\u9010\u6b21\u78ba\u7387\u6bd4\u691c\u5b9a\uff09"}),"\n",(0,r.jsx)(n.h3,{id:"\u6982\u5ff5",children:"\u6982\u5ff5"}),"\n",(0,r.jsx)(n.p,{children:"\u5bfe\u5c40\u6570\u3092\u56fa\u5b9a\u305b\u305a\u3001\u7d2f\u7a4d\u7d50\u679c\u306b\u57fa\u3065\u3044\u3066\u52d5\u7684\u306b\u505c\u6b62\u3092\u5224\u65ad\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"def sprt(wins, losses, elo0=0, elo1=10, alpha=0.05, beta=0.05):\n    \"\"\"\n    \u9010\u6b21\u78ba\u7387\u6bd4\u691c\u5b9a\n\n    elo0: \u5e30\u7121\u4eee\u8aac\u306eElo\u5dee\uff08\u901a\u5e380\uff09\n    elo1: \u5bfe\u7acb\u4eee\u8aac\u306eElo\u5dee\uff08\u901a\u5e385-20\uff09\n    alpha: \u507d\u967d\u6027\u7387\n    beta: \u507d\u9670\u6027\u7387\n    \"\"\"\n    if wins + losses == 0:\n        return 'continue'\n\n    # \u5bfe\u6570\u5c24\u5ea6\u6bd4\u3092\u8a08\u7b97\n    p0 = expected_score(elo1, 0)  # H1\u3067\u306e\u671f\u5f85\u52dd\u7387\n    p1 = expected_score(elo0, 0)  # H0\u3067\u306e\u671f\u5f85\u52dd\u7387\n\n    llr = (\n        wins * math.log(p0 / p1) +\n        losses * math.log((1 - p0) / (1 - p1))\n    )\n\n    # \u6c7a\u5b9a\u5883\u754c\n    lower = math.log(beta / (1 - alpha))\n    upper = math.log((1 - beta) / alpha)\n\n    if llr <= lower:\n        return 'reject'  # H0\u304c\u68c4\u5374\u3001\u65b0\u30e2\u30c7\u30eb\u306f\u5f31\u3044\n    elif llr >= upper:\n        return 'accept'  # H0\u304c\u53d7\u5bb9\u3001\u65b0\u30e2\u30c7\u30eb\u306f\u5f37\u3044\n    else:\n        return 'continue'  # \u30c6\u30b9\u30c8\u3092\u7d99\u7d9a\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"katago\u30d9\u30f3\u30c1\u30de\u30fc\u30af",children:"KataGo\u30d9\u30f3\u30c1\u30de\u30fc\u30af"}),"\n",(0,r.jsx)(n.h3,{id:"\u30d9\u30f3\u30c1\u30de\u30fc\u30af\u306e\u5b9f\u884c",children:"\u30d9\u30f3\u30c1\u30de\u30fc\u30af\u306e\u5b9f\u884c"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# \u57fa\u672c\u30c6\u30b9\u30c8\nkatago benchmark -model model.bin.gz\n\n# \u8a2a\u554f\u56de\u6570\u3092\u6307\u5b9a\nkatago benchmark -model model.bin.gz -v 1000\n\n# \u8a73\u7d30\u51fa\u529b\nkatago benchmark -model model.bin.gz -v 1000 -t 8\n"})}),"\n",(0,r.jsx)(n.h3,{id:"\u51fa\u529b\u306e\u89e3\u91c8",children:"\u51fa\u529b\u306e\u89e3\u91c8"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"KataGo Benchmark Results\n========================\n\nConfiguration:\n  Model: kata-b18c384.bin.gz\n  Backend: CUDA\n  Threads: 8\n  Visits: 1000\n\nPerformance:\n  NN evals/second: 2847.3\n  Playouts/second: 4521.8\n  Avg time per move: 0.221 seconds\n\nMemory:\n  GPU memory usage: 2.1 GB\n  System memory: 1.3 GB\n\nQuality metrics:\n  Policy accuracy: 0.612\n  Value accuracy: 0.891\n"})}),"\n",(0,r.jsx)(n.h3,{id:"\u4e3b\u8981\u6307\u6a19",children:"\u4e3b\u8981\u6307\u6a19"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u6307\u6a19"}),(0,r.jsx)(n.th,{children:"\u8aac\u660e"}),(0,r.jsx)(n.th,{children:"\u826f\u597d\u306a\u5024"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"NN evals/sec"}),(0,r.jsx)(n.td,{children:"\u30cb\u30e5\u30fc\u30e9\u30eb\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u8a55\u4fa1\u901f\u5ea6"}),(0,r.jsx)(n.td,{children:">1000"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Playouts/sec"}),(0,r.jsx)(n.td,{children:"MCTS\u30b7\u30df\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u901f\u5ea6"}),(0,r.jsx)(n.td,{children:">2000"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"GPU\u4f7f\u7528\u7387"}),(0,r.jsx)(n.td,{children:"GPU\u4f7f\u7528\u52b9\u7387"}),(0,r.jsx)(n.td,{children:">80%"})]})]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"\u68cb\u529b\u8a55\u4fa1",children:"\u68cb\u529b\u8a55\u4fa1"}),"\n",(0,r.jsx)(n.h3,{id:"\u4eba\u9593\u306e\u68cb\u529b\u5bfe\u7167",children:"\u4eba\u9593\u306e\u68cb\u529b\u5bfe\u7167"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"AI Elo"}),(0,r.jsx)(n.th,{children:"\u4eba\u9593\u306e\u68cb\u529b"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"~1500"}),(0,r.jsx)(n.td,{children:"\u30a2\u30de\u30c1\u30e5\u30a2\u521d\u6bb5"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"~2000"}),(0,r.jsx)(n.td,{children:"\u30a2\u30de\u30c1\u30e5\u30a25\u6bb5"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"~2500"}),(0,r.jsx)(n.td,{children:"\u30d7\u30ed\u521d\u6bb5"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"~3000"}),(0,r.jsx)(n.td,{children:"\u30d7\u30ed\u4e94\u6bb5"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"~3500"}),(0,r.jsx)(n.td,{children:"\u4e16\u754c\u30c1\u30e3\u30f3\u30d4\u30aa\u30f3\u7d1a"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"~4000\u4ee5\u4e0a"}),(0,r.jsx)(n.td,{children:"\u4eba\u9593\u3092\u8d85\u8d8a"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"\u4e3b\u8981ai\u306eelo",children:"\u4e3b\u8981AI\u306eElo"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"AI"}),(0,r.jsx)(n.th,{children:"Elo\uff08\u63a8\u5b9a\uff09"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"KataGo (\u6700\u65b0)"}),(0,r.jsx)(n.td,{children:"~5000"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"AlphaGo Zero"}),(0,r.jsx)(n.td,{children:"~5000"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Leela Zero"}),(0,r.jsx)(n.td,{children:"~4500"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"\u7d76\u82b8"}),(0,r.jsx)(n.td,{children:"~4800"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"\u30c6\u30b9\u30c8\u5bfe\u7167",children:"\u30c6\u30b9\u30c8\u5bfe\u7167"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'def estimate_human_rank(ai_model, test_positions):\n    """AI\u306e\u4eba\u9593\u76f8\u5f53\u306e\u68cb\u529b\u3092\u63a8\u5b9a"""\n    # \u6a19\u6e96\u30c6\u30b9\u30c8\u554f\u984c\u3092\u4f7f\u7528\n    correct = 0\n    for pos in test_positions:\n        ai_move = ai_model.get_best_move(pos[\'state\'])\n        if ai_move == pos[\'best_move\']:\n            correct += 1\n\n    accuracy = correct / len(test_positions)\n\n    # \u6b63\u78ba\u7387\u5bfe\u7167\u8868\n    if accuracy > 0.9:\n        return "\u30d7\u30ed\u7d1a"\n    elif accuracy > 0.7:\n        return "\u30a2\u30de\u30c1\u30e5\u30a25\u6bb5\u4ee5\u4e0a"\n    elif accuracy > 0.5:\n        return "\u30a2\u30de\u30c1\u30e5\u30a21-5\u6bb5"\n    else:\n        return "\u30a2\u30de\u30c1\u30e5\u30a2\u7d1a\u4ee5\u4e0b"\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u76e3\u8996",children:"\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u76e3\u8996"}),"\n",(0,r.jsx)(n.h3,{id:"\u7d99\u7d9a\u7684\u76e3\u8996",children:"\u7d99\u7d9a\u7684\u76e3\u8996"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'import time\nimport psutil\nimport GPUtil\n\nclass PerformanceMonitor:\n    def __init__(self):\n        self.metrics = []\n\n    def sample(self):\n        """\u73fe\u5728\u306e\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u6307\u6a19\u3092\u30b5\u30f3\u30d7\u30ea\u30f3\u30b0"""\n        gpus = GPUtil.getGPUs()\n\n        self.metrics.append({\n            \'timestamp\': time.time(),\n            \'cpu_percent\': psutil.cpu_percent(),\n            \'memory_percent\': psutil.virtual_memory().percent,\n            \'gpu_util\': gpus[0].load * 100 if gpus else 0,\n            \'gpu_memory\': gpus[0].memoryUsed if gpus else 0,\n        })\n\n    def report(self):\n        """\u30ec\u30dd\u30fc\u30c8\u3092\u751f\u6210"""\n        if not self.metrics:\n            return\n\n        avg_cpu = sum(m[\'cpu_percent\'] for m in self.metrics) / len(self.metrics)\n        avg_gpu = sum(m[\'gpu_util\'] for m in self.metrics) / len(self.metrics)\n\n        print(f"\u5e73\u5747CPU\u4f7f\u7528\u7387: {avg_cpu:.1f}%")\n        print(f"\u5e73\u5747GPU\u4f7f\u7528\u7387: {avg_gpu:.1f}%")\n'})}),"\n",(0,r.jsx)(n.h3,{id:"\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u30dc\u30c8\u30eb\u30cd\u30c3\u30af\u8a3a\u65ad",children:"\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u30dc\u30c8\u30eb\u30cd\u30c3\u30af\u8a3a\u65ad"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u75c7\u72b6"}),(0,r.jsx)(n.th,{children:"\u8003\u3048\u3089\u308c\u308b\u539f\u56e0"}),(0,r.jsx)(n.th,{children:"\u89e3\u6c7a\u7b56"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"CPU 100%\u3001GPU\u4f4e\u3044"}),(0,r.jsx)(n.td,{children:"\u63a2\u7d22\u30b9\u30ec\u30c3\u30c9\u4e0d\u8db3"}),(0,r.jsx)(n.td,{children:"numSearchThreads\u3092\u5897\u3084\u3059"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"GPU 100%\u3001\u51fa\u529b\u304c\u9045\u3044"}),(0,r.jsx)(n.td,{children:"\u30d0\u30c3\u30c1\u304c\u5c0f\u3055\u3059\u304e\u308b"}),(0,r.jsx)(n.td,{children:"nnMaxBatchSize\u3092\u5897\u3084\u3059"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"\u30e1\u30e2\u30ea\u4e0d\u8db3"}),(0,r.jsx)(n.td,{children:"\u30e2\u30c7\u30eb\u304c\u5927\u304d\u3059\u304e\u308b"}),(0,r.jsx)(n.td,{children:"\u3088\u308a\u5c0f\u3055\u3044\u30e2\u30c7\u30eb\u3092\u4f7f\u7528"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"\u901f\u5ea6\u304c\u4e0d\u5b89\u5b9a"}),(0,r.jsx)(n.td,{children:"\u6e29\u5ea6\u304c\u9ad8\u3059\u304e\u308b"}),(0,r.jsx)(n.td,{children:"\u51b7\u5374\u3092\u6539\u5584"})]})]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"\u81ea\u52d5\u5316\u30c6\u30b9\u30c8",children:"\u81ea\u52d5\u5316\u30c6\u30b9\u30c8"}),"\n",(0,r.jsx)(n.h3,{id:"cicd\u7d71\u5408",children:"CI/CD\u7d71\u5408"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'# .github/workflows/benchmark.yml\nname: Benchmark\n\non:\n  push:\n    branches: [main]\n\njobs:\n  benchmark:\n    runs-on: ubuntu-latest\n\n    steps:\n      - uses: actions/checkout@v3\n\n      - name: Run benchmark\n        run: |\n          ./katago benchmark -model model.bin.gz -v 500 > results.txt\n\n      - name: Check performance\n        run: |\n          playouts=$(grep "Playouts/second" results.txt | awk \'{print $2}\')\n          if (( $(echo "$playouts < 1000" | bc -l) )); then\n            echo "Performance regression detected!"\n            exit 1\n          fi\n'})}),"\n",(0,r.jsx)(n.h3,{id:"\u56de\u5e30\u30c6\u30b9\u30c8",children:"\u56de\u5e30\u30c6\u30b9\u30c8"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'def regression_test(new_model, baseline_model, threshold=0.95):\n    """\u65b0\u30e2\u30c7\u30eb\u306b\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u56de\u5e30\u304c\u306a\u3044\u304b\u30c1\u30a7\u30c3\u30af"""\n    # \u7cbe\u5ea6\u3092\u30c6\u30b9\u30c8\n    new_accuracy = test_accuracy(new_model)\n    baseline_accuracy = test_accuracy(baseline_model)\n\n    if new_accuracy < baseline_accuracy * threshold:\n        raise Exception(f"\u7cbe\u5ea6\u56de\u5e30: {new_accuracy:.3f} < {baseline_accuracy:.3f}")\n\n    # \u901f\u5ea6\u3092\u30c6\u30b9\u30c8\n    new_speed = benchmark_speed(new_model)\n    baseline_speed = benchmark_speed(baseline_model)\n\n    if new_speed < baseline_speed * threshold:\n        raise Exception(f"\u901f\u5ea6\u56de\u5e30: {new_speed:.1f} < {baseline_speed:.1f}")\n\n    print("\u56de\u5e30\u30c6\u30b9\u30c8\u5408\u683c")\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"\u95a2\u9023\u8a18\u4e8b",children:"\u95a2\u9023\u8a18\u4e8b"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"../training",children:"KataGo\u8a13\u7df4\u30e1\u30ab\u30cb\u30ba\u30e0\u89e3\u6790"})," \u2014 \u30e2\u30c7\u30eb\u306e\u8a13\u7df4\u65b9\u6cd5"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"../distributed-training",children:"\u5206\u6563\u8a13\u7df4\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3"})," \u2014 \u5927\u898f\u6a21\u8a55\u4fa1"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"../gpu-optimization",children:"GPU\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u3068\u6700\u9069\u5316"})," \u2014 \u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u30c1\u30e5\u30fc\u30cb\u30f3\u30b0"]}),"\n"]})]})}function o(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},30416(e,n,s){s.d(n,{R:()=>t,x:()=>d});var l=s(59471);const r={},i=l.createContext(r);function t(e){const n=l.useContext(i);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),l.createElement(i.Provider,{value:n},e.children)}}}]);