"use strict";(self.webpackChunktemp_docusaurus=self.webpackChunktemp_docusaurus||[]).push([[911],{4812:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>r,contentTitle:()=>t,default:()=>h,frontMatter:()=>a,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"for-engineers/katago-source/setup","title":"Installation and Setup","description":"This article provides detailed instructions for installing KataGo on various platforms, including system requirements, installation steps, model selection, and configuration file explanations.","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/for-engineers/katago-source/setup.md","sourceDirName":"for-engineers/katago-source","slug":"/for-engineers/katago-source/setup","permalink":"/en/docs/for-engineers/katago-source/setup","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/for-engineers/katago-source/setup.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"title":"Installation and Setup"},"sidebar":"tutorialSidebar","previous":{"title":"KataGo Practical Guide","permalink":"/en/docs/for-engineers/katago-source/"},"next":{"title":"Common Commands","permalink":"/en/docs/for-engineers/katago-source/commands"}}');var l=i(3420),d=i(5521);const a={sidebar_position:1,title:"Installation and Setup"},t="KataGo Installation and Setup",r={},o=[{value:"System Requirements",id:"system-requirements",level:2},{value:"Hardware Requirements",id:"hardware-requirements",level:3},{value:"GPU (Recommended)",id:"gpu-recommended",level:4},{value:"CPU Mode",id:"cpu-mode",level:4},{value:"Software Requirements",id:"software-requirements",level:3},{value:"Backend Selection Guide",id:"backend-selection-guide",level:3},{value:"macOS Installation",id:"macos-installation",level:2},{value:"Method 1: Homebrew (Recommended)",id:"method-1-homebrew-recommended",level:3},{value:"Method 2: Build from Source",id:"method-2-build-from-source",level:3},{value:"Install Dependencies",id:"install-dependencies",level:4},{value:"Build Steps",id:"build-steps",level:4},{value:"Apple Silicon Notes",id:"apple-silicon-notes",level:4},{value:"Linux Installation",id:"linux-installation",level:2},{value:"Method 1: Pre-built Version (Recommended)",id:"method-1-pre-built-version-recommended",level:3},{value:"Method 2: Build from Source",id:"method-2-build-from-source-1",level:3},{value:"CUDA Backend (NVIDIA GPU)",id:"cuda-backend-nvidia-gpu",level:4},{value:"OpenCL Backend (Generic GPU)",id:"opencl-backend-generic-gpu",level:4},{value:"Eigen Backend (Pure CPU)",id:"eigen-backend-pure-cpu",level:4},{value:"Windows Installation",id:"windows-installation",level:2},{value:"Method 1: Pre-built Version (Recommended)",id:"method-1-pre-built-version-recommended-1",level:3},{value:"Method 2: Build from Source",id:"method-2-build-from-source-2",level:3},{value:"Prepare Environment",id:"prepare-environment",level:4},{value:"Build Steps",id:"build-steps-1",level:4},{value:"Model Download and Selection",id:"model-download-and-selection",level:2},{value:"Download Location",id:"download-location",level:3},{value:"Model Comparison",id:"model-comparison",level:3},{value:"Selection Recommendations",id:"selection-recommendations",level:3},{value:"Basic Configuration File Explanation",id:"basic-configuration-file-explanation",level:2},{value:"Important Configuration Files",id:"important-configuration-files",level:3},{value:"Core Configuration Options",id:"core-configuration-options",level:3},{value:"GTP Mode Config Example",id:"gtp-mode-config-example",level:3},{value:"Analysis Engine Config Example",id:"analysis-engine-config-example",level:3},{value:"First Run",id:"first-run",level:2},{value:"Test GTP Mode",id:"test-gtp-mode",level:3},{value:"Test Analysis Engine",id:"test-analysis-engine",level:3},{value:"Benchmark Test",id:"benchmark-test",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"GPU Related",id:"gpu-related",level:3},{value:"Memory Related",id:"memory-related",level:3},{value:"Performance Related",id:"performance-related",level:3},{value:"Next Steps",id:"next-steps",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"katago-installation-and-setup",children:"KataGo Installation and Setup"})}),"\n",(0,l.jsx)(n.p,{children:"This article provides detailed instructions for installing KataGo on various platforms, including system requirements, installation steps, model selection, and configuration file explanations."}),"\n",(0,l.jsx)(n.h2,{id:"system-requirements",children:"System Requirements"}),"\n",(0,l.jsx)(n.h3,{id:"hardware-requirements",children:"Hardware Requirements"}),"\n",(0,l.jsx)(n.h4,{id:"gpu-recommended",children:"GPU (Recommended)"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"GPU Type"}),(0,l.jsx)(n.th,{children:"Support Status"}),(0,l.jsx)(n.th,{children:"Recommended Backend"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"NVIDIA (CUDA)"}),(0,l.jsx)(n.td,{children:"Best support"}),(0,l.jsx)(n.td,{children:"CUDA"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"NVIDIA (no CUDA)"}),(0,l.jsx)(n.td,{children:"Good support"}),(0,l.jsx)(n.td,{children:"OpenCL"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"AMD"}),(0,l.jsx)(n.td,{children:"Good support"}),(0,l.jsx)(n.td,{children:"OpenCL"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"Intel integrated"}),(0,l.jsx)(n.td,{children:"Basic support"}),(0,l.jsx)(n.td,{children:"OpenCL"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"Apple Silicon"}),(0,l.jsx)(n.td,{children:"Good support"}),(0,l.jsx)(n.td,{children:"Metal / OpenCL"})]})]})]}),"\n",(0,l.jsx)(n.h4,{id:"cpu-mode",children:"CPU Mode"}),"\n",(0,l.jsx)(n.p,{children:"If you don't have a suitable GPU, you can use the Eigen backend for pure CPU operation:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Lower performance (~10-30 playouts/sec)"}),"\n",(0,l.jsx)(n.li,{children:"Suitable for learning, testing, and low-intensity use"}),"\n",(0,l.jsx)(n.li,{children:"Requires AVX2 instruction set support (most modern CPUs support this)"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"software-requirements",children:"Software Requirements"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Operating System"}),(0,l.jsx)(n.th,{children:"Version Requirements"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"Linux"})}),(0,l.jsx)(n.td,{children:"Ubuntu 18.04+, CentOS 7+ or other modern distributions"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"macOS"})}),(0,l.jsx)(n.td,{children:"10.14+ (Mojave or newer)"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"Windows"})}),(0,l.jsx)(n.td,{children:"Windows 10 or newer"})]})]})]}),"\n",(0,l.jsx)(n.h3,{id:"backend-selection-guide",children:"Backend Selection Guide"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"Backend selection decision flow:\n\nDo you have an NVIDIA GPU?\n\u251c\u2500 Yes \u2192 Use CUDA backend (best performance)\n\u2514\u2500 No \u2192 Do you have another GPU?\n         \u251c\u2500 Yes (AMD/Intel/Apple) \u2192 Use OpenCL backend\n         \u2514\u2500 No \u2192 Use Eigen backend (pure CPU)\n"})}),"\n",(0,l.jsx)(n.h2,{id:"macos-installation",children:"macOS Installation"}),"\n",(0,l.jsx)(n.h3,{id:"method-1-homebrew-recommended",children:"Method 1: Homebrew (Recommended)"}),"\n",(0,l.jsx)(n.p,{children:"The simplest installation method, automatically handles all dependencies."}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Install KataGo\nbrew install katago\n\n# Verify installation\nkatago version\n"})}),"\n",(0,l.jsx)(n.p,{children:"The Homebrew version uses OpenCL backend by default, works on both Intel Mac and Apple Silicon."}),"\n",(0,l.jsx)(n.h3,{id:"method-2-build-from-source",children:"Method 2: Build from Source"}),"\n",(0,l.jsx)(n.p,{children:"For users who need custom options or latest features."}),"\n",(0,l.jsx)(n.h4,{id:"install-dependencies",children:"Install Dependencies"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Install CMake and build tools\nbrew install cmake\n\n# For OpenCL\n# macOS has built-in OpenCL support, no additional installation needed\n"})}),"\n",(0,l.jsx)(n.h4,{id:"build-steps",children:"Build Steps"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Clone source code\ngit clone https://github.com/lightvector/KataGo.git\ncd KataGo/cpp\n\n# Create build directory\nmkdir build && cd build\n\n# Configure build options (OpenCL backend)\ncmake .. -DUSE_BACKEND=OPENCL\n\n# Build\nmake -j$(sysctl -n hw.ncpu)\n\n# After building, executable is at build/katago\n./katago version\n"})}),"\n",(0,l.jsx)(n.h4,{id:"apple-silicon-notes",children:"Apple Silicon Notes"}),"\n",(0,l.jsx)(n.p,{children:"On M1/M2/M3 Macs, recommend using OpenCL or Metal backend:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# OpenCL backend (recommended, better compatibility)\ncmake .. -DUSE_BACKEND=OPENCL\n\n# Metal backend (experimental, may have better performance)\ncmake .. -DUSE_BACKEND=METAL\n"})}),"\n",(0,l.jsx)(n.h2,{id:"linux-installation",children:"Linux Installation"}),"\n",(0,l.jsx)(n.h3,{id:"method-1-pre-built-version-recommended",children:"Method 1: Pre-built Version (Recommended)"}),"\n",(0,l.jsx)(n.p,{children:"Download pre-built version from GitHub Releases:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Download OpenCL version (suitable for most cases)\nwget https://github.com/lightvector/KataGo/releases/download/v1.15.3/katago-v1.15.3-opencl-linux-x64.zip\n\n# Or download CUDA version (NVIDIA GPU)\nwget https://github.com/lightvector/KataGo/releases/download/v1.15.3/katago-v1.15.3-cuda11.1-linux-x64.zip\n\n# Extract\nunzip katago-v1.15.3-*.zip\n\n# Grant execute permission\nchmod +x katago\n\n# Verify installation\n./katago version\n"})}),"\n",(0,l.jsx)(n.h3,{id:"method-2-build-from-source-1",children:"Method 2: Build from Source"}),"\n",(0,l.jsx)(n.h4,{id:"cuda-backend-nvidia-gpu",children:"CUDA Backend (NVIDIA GPU)"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Install dependencies\nsudo apt update\nsudo apt install cmake g++ libzip-dev\n\n# Install CUDA (if not already installed)\n# See NVIDIA official guide: https://developer.nvidia.com/cuda-downloads\n\n# Clone and build\ngit clone https://github.com/lightvector/KataGo.git\ncd KataGo/cpp\nmkdir build && cd build\n\n# Configure CUDA backend\ncmake .. -DUSE_BACKEND=CUDA\n\n# Build\nmake -j$(nproc)\n"})}),"\n",(0,l.jsx)(n.h4,{id:"opencl-backend-generic-gpu",children:"OpenCL Backend (Generic GPU)"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Install dependencies\nsudo apt update\nsudo apt install cmake g++ libzip-dev ocl-icd-opencl-dev\n\n# Install OpenCL drivers\n# NVIDIA: comes with CUDA installation\n# AMD: sudo apt install mesa-opencl-icd\n# Intel: sudo apt install intel-opencl-icd\n\n# Clone and build\ngit clone https://github.com/lightvector/KataGo.git\ncd KataGo/cpp\nmkdir build && cd build\n\ncmake .. -DUSE_BACKEND=OPENCL\nmake -j$(nproc)\n"})}),"\n",(0,l.jsx)(n.h4,{id:"eigen-backend-pure-cpu",children:"Eigen Backend (Pure CPU)"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Install dependencies\nsudo apt update\nsudo apt install cmake g++ libzip-dev libeigen3-dev\n\n# Clone and build\ngit clone https://github.com/lightvector/KataGo.git\ncd KataGo/cpp\nmkdir build && cd build\n\ncmake .. -DUSE_BACKEND=EIGEN\nmake -j$(nproc)\n"})}),"\n",(0,l.jsx)(n.h2,{id:"windows-installation",children:"Windows Installation"}),"\n",(0,l.jsx)(n.h3,{id:"method-1-pre-built-version-recommended-1",children:"Method 1: Pre-built Version (Recommended)"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["Go to ",(0,l.jsx)(n.a,{href:"https://github.com/lightvector/KataGo/releases",children:"KataGo Releases"})]}),"\n",(0,l.jsxs)(n.li,{children:["Download appropriate version:","\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"katago-v1.15.3-cuda11.1-windows-x64.zip"})," (NVIDIA GPU + CUDA)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"katago-v1.15.3-opencl-windows-x64.zip"})," (Other GPUs)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"katago-v1.15.3-eigen-windows-x64.zip"})," (CPU only)"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.li,{children:"Extract to desired directory"}),"\n",(0,l.jsx)(n.li,{children:"Test in Command Prompt:"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cmd",children:"cd C:\\path\\to\\katago\nkatago.exe version\n"})}),"\n",(0,l.jsx)(n.h3,{id:"method-2-build-from-source-2",children:"Method 2: Build from Source"}),"\n",(0,l.jsx)(n.h4,{id:"prepare-environment",children:"Prepare Environment"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["Install ",(0,l.jsx)(n.a,{href:"https://visualstudio.microsoft.com/",children:"Visual Studio 2019/2022"})," (with C++ tools)"]}),"\n",(0,l.jsxs)(n.li,{children:["Install ",(0,l.jsx)(n.a,{href:"https://cmake.org/download/",children:"CMake"})]}),"\n",(0,l.jsxs)(n.li,{children:["If using CUDA, install ",(0,l.jsx)(n.a,{href:"https://developer.nvidia.com/cuda-toolkit",children:"CUDA Toolkit"})]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"build-steps-1",children:"Build Steps"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cmd",children:'# Run in Developer Command Prompt\n\ngit clone https://github.com/lightvector/KataGo.git\ncd KataGo\\cpp\nmkdir build\ncd build\n\n# CUDA backend\ncmake .. -G "Visual Studio 17 2022" -A x64 -DUSE_BACKEND=CUDA\n\n# Or OpenCL backend\ncmake .. -G "Visual Studio 17 2022" -A x64 -DUSE_BACKEND=OPENCL\n\n# Build\ncmake --build . --config Release\n'})}),"\n",(0,l.jsx)(n.h2,{id:"model-download-and-selection",children:"Model Download and Selection"}),"\n",(0,l.jsx)(n.p,{children:"KataGo requires neural network model files to run. Official models come in various sizes."}),"\n",(0,l.jsx)(n.h3,{id:"download-location",children:"Download Location"}),"\n",(0,l.jsxs)(n.p,{children:["Official model download page: ",(0,l.jsx)(n.a,{href:"https://katagotraining.org/",children:"https://katagotraining.org/"})]}),"\n",(0,l.jsx)(n.p,{children:"Or download directly from training server:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:'# Smaller model (suitable for testing and weak hardware)\ncurl -L -o kata-b18c384.bin.gz \\\n  "https://media.katagotraining.org/uploaded/networks/models/kata1/kata1-b18c384nbt-s9996604416-d4316597426.bin.gz"\n\n# Medium model (recommended, balances performance and speed)\ncurl -L -o kata-b40c256.bin.gz \\\n  "https://media.katagotraining.org/uploaded/networks/models/kata1/kata1-b40c256-s11840935168-d2898845681.bin.gz"\n\n# Large model (strongest, needs powerful GPU)\ncurl -L -o kata-b60c320.bin.gz \\\n  "https://media.katagotraining.org/uploaded/networks/models/kata1/kata1-b60c320-s11318001920-d2792783831.bin.gz"\n'})}),"\n",(0,l.jsx)(n.h3,{id:"model-comparison",children:"Model Comparison"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Model"}),(0,l.jsx)(n.th,{children:"Network Size"}),(0,l.jsx)(n.th,{children:"File Size"}),(0,l.jsx)(n.th,{children:"Strength"}),(0,l.jsx)(n.th,{children:"Use Case"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"b10c128"}),(0,l.jsx)(n.td,{children:"10 blocks, 128 channels"}),(0,l.jsx)(n.td,{children:"~20 MB"}),(0,l.jsx)(n.td,{children:"Amateur high-dan"}),(0,l.jsx)(n.td,{children:"CPU, weak GPU, quick testing"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"b18c384"}),(0,l.jsx)(n.td,{children:"18 blocks, 384 channels"}),(0,l.jsx)(n.td,{children:"~140 MB"}),(0,l.jsx)(n.td,{children:"Professional level"}),(0,l.jsx)(n.td,{children:"General GPU, daily analysis"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"b40c256"}),(0,l.jsx)(n.td,{children:"40 blocks, 256 channels"}),(0,l.jsx)(n.td,{children:"~250 MB"}),(0,l.jsx)(n.td,{children:"Superhuman"}),(0,l.jsx)(n.td,{children:"Mid-high end GPU, deep analysis"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"b60c320"}),(0,l.jsx)(n.td,{children:"60 blocks, 320 channels"}),(0,l.jsx)(n.td,{children:"~500 MB"}),(0,l.jsx)(n.td,{children:"Top superhuman"}),(0,l.jsx)(n.td,{children:"High-end GPU, top analysis"})]})]})]}),"\n",(0,l.jsx)(n.h3,{id:"selection-recommendations",children:"Selection Recommendations"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"What's your GPU?\n\u251c\u2500 RTX 3080/4080/4090 \u2192 b60c320 or b40c256\n\u251c\u2500 RTX 3060/3070 \u2192 b40c256 or b18c384\n\u251c\u2500 GTX 1660/2060 \u2192 b18c384\n\u251c\u2500 Entry-level GPU \u2192 b18c384 or b10c128\n\u2514\u2500 CPU only \u2192 b10c128\n"})}),"\n",(0,l.jsx)(n.h2,{id:"basic-configuration-file-explanation",children:"Basic Configuration File Explanation"}),"\n",(0,l.jsxs)(n.p,{children:["KataGo uses ",(0,l.jsx)(n.code,{children:".cfg"})," format configuration files. Official example configs are in the ",(0,l.jsx)(n.code,{children:"cpp/configs/"})," directory."]}),"\n",(0,l.jsx)(n.h3,{id:"important-configuration-files",children:"Important Configuration Files"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"File"}),(0,l.jsx)(n.th,{children:"Purpose"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"gtp_example.cfg"})}),(0,l.jsx)(n.td,{children:"Example config for GTP mode"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"analysis_example.cfg"})}),(0,l.jsx)(n.td,{children:"Example config for Analysis Engine"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"default_gtp.cfg"})}),(0,l.jsx)(n.td,{children:"Default config for GTP mode"})]})]})]}),"\n",(0,l.jsx)(n.h3,{id:"core-configuration-options",children:"Core Configuration Options"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ini",children:"# =============\n# Neural Network Settings\n# =============\n\n# Neural network model file path\n# Can use relative or absolute path\n# model = /path/to/model.bin.gz\n\n# =============\n# Search Settings\n# =============\n\n# Maximum search visits per move\n# Increasing improves strength but slows down\nmaxVisits = 500\n\n# Maximum thinking time per move (seconds)\n# 0 means unlimited (controlled by maxVisits)\nmaxTime = 0\n\n# Number of threads per move search\nnumSearchThreads = 6\n\n# =============\n# Rules Settings\n# =============\n\n# Go rules\n# chinese = Chinese rules\n# japanese = Japanese rules\n# korean = Korean rules\n# tromp-taylor = Tromp-Taylor rules\n# aga = AGA rules\nrules = chinese\n\n# Komi\nkomi = 7.5\n\n# =============\n# GPU Settings\n# =============\n\n# GPU device index (starting from 0)\n# Multiple GPUs can use comma separation: 0,1,2\n# -1 means auto-select\nnnDeviceIdxs = 0\n\n# Batch size per GPU thread\n# Larger batches improve GPU utilization\nnumNNServerThreadsPerModel = 1\n\n# =============\n# Advanced Settings\n# =============\n\n# MCTS exploration constant\n# Larger values increase exploration, smaller increase exploitation\ncpuctExploration = 1.0\n\n# Root node Dirichlet noise\n# Used to increase exploration diversity\nrootNoiseEnabled = true\nrootDirichletNoisePruneFactor = 0.25\n"})}),"\n",(0,l.jsx)(n.h3,{id:"gtp-mode-config-example",children:"GTP Mode Config Example"}),"\n",(0,l.jsxs)(n.p,{children:["Create ",(0,l.jsx)(n.code,{children:"my_gtp_config.cfg"}),":"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ini",children:"# Model path\n# model typically specified on command line, can omit here\n\n# Search settings\nmaxVisits = 1000\nnumSearchThreads = 4\n\n# Rules\nrules = chinese\nkomi = 7.5\n\n# GPU settings\nnnDeviceIdxs = 0\n\n# Logging\nlogDir = ./logs\nlogToStderr = false\n"})}),"\n",(0,l.jsx)(n.h3,{id:"analysis-engine-config-example",children:"Analysis Engine Config Example"}),"\n",(0,l.jsxs)(n.p,{children:["Create ",(0,l.jsx)(n.code,{children:"my_analysis_config.cfg"}),":"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ini",children:"# Search settings\nmaxVisits = 500\nnumSearchThreads = 8\n\n# Report settings\n# Maximum variations to report per analysis\nmaxMoves = 10\n\n# Rules (can override in API calls)\nrules = chinese\nkomi = 7.5\n\n# GPU settings\nnnDeviceIdxs = 0\nnumNNServerThreadsPerModel = 2\n\n# Analysis features\nreportAnalysisWinratesAs = BLACK\n\n# Ownership map\n# Enable to get ownership prediction for each point\nanalysisOwnership = true\n"})}),"\n",(0,l.jsx)(n.h2,{id:"first-run",children:"First Run"}),"\n",(0,l.jsx)(n.h3,{id:"test-gtp-mode",children:"Test GTP Mode"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Run GTP mode\nkatago gtp -model /path/to/model.bin.gz -config /path/to/config.cfg\n\n# If no config, KataGo uses defaults\nkatago gtp -model /path/to/model.bin.gz\n"})}),"\n",(0,l.jsx)(n.p,{children:"After successful startup, enter GTP commands to test:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"name\n= KataGo\n\nversion\n= 1.15.3\n\nboardsize 19\n=\n\ngenmove black\n= Q16\n\nquit\n=\n"})}),"\n",(0,l.jsx)(n.h3,{id:"test-analysis-engine",children:"Test Analysis Engine"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Run Analysis Engine\nkatago analysis -model /path/to/model.bin.gz -config /path/to/config.cfg\n"})}),"\n",(0,l.jsx)(n.p,{children:"Input JSON query:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{"id":"test1","initialStones":[],"moves":[],"rules":"chinese","komi":7.5,"boardXSize":19,"boardYSize":19,"analyzeTurns":[0]}\n'})}),"\n",(0,l.jsx)(n.h3,{id:"benchmark-test",children:"Benchmark Test"}),"\n",(0,l.jsx)(n.p,{children:"Test your hardware performance:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Run benchmark\nkatago benchmark -model /path/to/model.bin.gz\n\n# Specify config\nkatago benchmark -model /path/to/model.bin.gz -config /path/to/config.cfg\n"})}),"\n",(0,l.jsx)(n.p,{children:"Benchmark outputs:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Search visits per second (visits/sec)"}),"\n",(0,l.jsx)(n.li,{children:"Neural network inference speed"}),"\n",(0,l.jsx)(n.li,{children:"Recommended thread settings"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,l.jsx)(n.h3,{id:"gpu-related",children:"GPU Related"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Problem: GPU not found"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Check OpenCL devices\nclinfo\n\n# Or list devices KataGo sees\nkatago gpuinfo\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Problem: CUDA initialization failed"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Verify CUDA version matches KataGo build version"}),"\n",(0,l.jsx)(n.li,{children:"Update GPU drivers"}),"\n",(0,l.jsx)(n.li,{children:"Check CUDA_PATH environment variable"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"memory-related",children:"Memory Related"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Problem: Out of memory"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ini",children:"# Reduce GPU memory usage\nnnMaxBatchSize = 8  # Default may be 16 or higher\nnnCacheSizePowerOfTwo = 20  # Reduce cache size\n"})}),"\n",(0,l.jsx)(n.h3,{id:"performance-related",children:"Performance Related"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Problem: Too slow"})}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"Confirm using GPU not CPU"}),"\n",(0,l.jsxs)(n.li,{children:["Reduce ",(0,l.jsx)(n.code,{children:"numSearchThreads"})]}),"\n",(0,l.jsx)(n.li,{children:"Use smaller model"}),"\n",(0,l.jsx)(n.li,{children:"Check if other programs are using GPU"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,l.jsx)(n.p,{children:"After setup is complete, continue reading:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"/en/docs/for-engineers/katago-source/commands",children:"Common Commands"})," - Learn how to use KataGo"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"/en/docs/for-engineers/katago-source/architecture",children:"Source Code Architecture"})," - Understand internal implementation"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(c,{...e})}):c(e)}},5521:(e,n,i)=>{i.d(n,{R:()=>a,x:()=>t});var s=i(6672);const l={},d=s.createContext(l);function a(e){const n=s.useContext(d);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:a(e.components),s.createElement(d.Provider,{value:n},e.children)}}}]);