"use strict";(self.webpackChunktemp_docusaurus=self.webpackChunktemp_docusaurus||[]).push([[641],{5521:(e,n,o)=>{o.d(n,{R:()=>d,x:()=>r});var s=o(6672);const i={},a=s.createContext(i);function d(e){const n=s.useContext(a);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:d(e.components),s.createElement(a.Provider,{value:n},e.children)}},9738:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>d,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"for-engineers/katago-source/commands","title":"Comandos comunes","description":"Este articulo presenta los dos modos principales de operacion de KataGo: Protocolo GTP y Analysis Engine, asi como explicaciones detalladas de comandos comunes.","source":"@site/i18n/es/docusaurus-plugin-content-docs/current/for-engineers/katago-source/commands.md","sourceDirName":"for-engineers/katago-source","slug":"/for-engineers/katago-source/commands","permalink":"/es/docs/for-engineers/katago-source/commands","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/for-engineers/katago-source/commands.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"title":"Comandos comunes"},"sidebar":"tutorialSidebar","previous":{"title":"Instalacion y configuracion","permalink":"/es/docs/for-engineers/katago-source/setup"},"next":{"title":"Arquitectura del codigo fuente","permalink":"/es/docs/for-engineers/katago-source/architecture"}}');var i=o(3420),a=o(5521);const d={sidebar_position:2,title:"Comandos comunes"},r="Comandos comunes de KataGo",l={},c=[{value:"Introduccion al protocolo GTP",id:"introduccion-al-protocolo-gtp",level:2},{value:"Iniciar modo GTP",id:"iniciar-modo-gtp",level:3},{value:"Formato basico del protocolo GTP",id:"formato-basico-del-protocolo-gtp",level:3},{value:"Ejemplo basico",id:"ejemplo-basico",level:3},{value:"Comandos GTP comunes",id:"comandos-gtp-comunes",level:2},{value:"Informacion del programa",id:"informacion-del-programa",level:3},{value:"Configuracion del tablero",id:"configuracion-del-tablero",level:3},{value:"Relacionado con juego",id:"relacionado-con-juego",level:3},{value:"Consulta de posicion",id:"consulta-de-posicion",level:3},{value:"Relacionado con reglas",id:"relacionado-con-reglas",level:3},{value:"Comandos de extension KataGo",id:"comandos-de-extension-katago",level:2},{value:"kata-analyze",id:"kata-analyze",level:3},{value:"kata-raw-nn",id:"kata-raw-nn",level:3},{value:"kata-debug-print",id:"kata-debug-print",level:3},{value:"Ajuste de fuerza",id:"ajuste-de-fuerza",level:3},{value:"Uso de Analysis Engine",id:"uso-de-analysis-engine",level:2},{value:"Iniciar Analysis Engine",id:"iniciar-analysis-engine",level:3},{value:"Flujo de uso basico",id:"flujo-de-uso-basico",level:3},{value:"Formato de solicitud",id:"formato-de-solicitud",level:3},{value:"Explicacion de campos de solicitud",id:"explicacion-de-campos-de-solicitud",level:3},{value:"Formato de respuesta",id:"formato-de-respuesta",level:3},{value:"Explicacion de campos de respuesta",id:"explicacion-de-campos-de-respuesta",level:3},{value:"Campos de moveInfos",id:"campos-de-moveinfos",level:4},{value:"Campos de rootInfo",id:"campos-de-rootinfo",level:4},{value:"Campo ownership",id:"campo-ownership",level:4},{value:"Opciones avanzadas de consulta",id:"opciones-avanzadas-de-consulta",level:3},{value:"Obtener mapa de territorio",id:"obtener-mapa-de-territorio",level:4},{value:"Obtener distribucion de Policy",id:"obtener-distribucion-de-policy",level:4},{value:"Limitar numero de jugadas reportadas",id:"limitar-numero-de-jugadas-reportadas",level:4},{value:"Analizar jugadas especificas",id:"analizar-jugadas-especificas",level:4},{value:"Ejemplo completo: Integracion con Python",id:"ejemplo-completo-integracion-con-python",level:3},{value:"Ejemplo completo: Integracion con Node.js",id:"ejemplo-completo-integracion-con-nodejs",level:3},{value:"Sistema de coordenadas",id:"sistema-de-coordenadas",level:2},{value:"Coordenadas de letras",id:"coordenadas-de-letras",level:3},{value:"Conversion de coordenadas",id:"conversion-de-coordenadas",level:3},{value:"Patrones de uso comunes",id:"patrones-de-uso-comunes",level:2},{value:"Modo de juego",id:"modo-de-juego",level:3},{value:"Modo de analisis por lotes",id:"modo-de-analisis-por-lotes",level:3},{value:"Modo de analisis en tiempo real",id:"modo-de-analisis-en-tiempo-real",level:3},{value:"Optimizacion de rendimiento",id:"optimizacion-de-rendimiento",level:2},{value:"Configuracion de busqueda",id:"configuracion-de-busqueda",level:3},{value:"Configuracion multi-hilo",id:"configuracion-multi-hilo",level:3},{value:"Configuracion de memoria",id:"configuracion-de-memoria",level:3},{value:"Siguientes pasos",id:"siguientes-pasos",level:2}];function t(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"comandos-comunes-de-katago",children:"Comandos comunes de KataGo"})}),"\n",(0,i.jsx)(n.p,{children:"Este articulo presenta los dos modos principales de operacion de KataGo: Protocolo GTP y Analysis Engine, asi como explicaciones detalladas de comandos comunes."}),"\n",(0,i.jsx)(n.h2,{id:"introduccion-al-protocolo-gtp",children:"Introduccion al protocolo GTP"}),"\n",(0,i.jsx)(n.p,{children:"GTP (Go Text Protocol) es el protocolo estandar de comunicacion entre programas de Go. La mayoria de las GUI de Go (como Sabaki, Lizzie) usan GTP para comunicarse con motores de IA."}),"\n",(0,i.jsx)(n.h3,{id:"iniciar-modo-gtp",children:"Iniciar modo GTP"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"katago gtp -model /ruta/al/modelo.bin.gz -config /ruta/al/config.cfg\n"})}),"\n",(0,i.jsx)(n.h3,{id:"formato-basico-del-protocolo-gtp",children:"Formato basico del protocolo GTP"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"[id] nombre_comando [argumentos]\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"id"}),": Numero de comando opcional, usado para rastrear respuestas"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"nombre_comando"}),": Nombre del comando"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"argumentos"}),": Parametros del comando"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Formato de respuesta:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"=[id] datos_respuesta     # Exito\n?[id] mensaje_error       # Fallo\n"})}),"\n",(0,i.jsx)(n.h3,{id:"ejemplo-basico",children:"Ejemplo basico"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"1 name\n=1 KataGo\n\n2 version\n=2 1.15.3\n\n3 boardsize 19\n=3\n\n4 komi 7.5\n=4\n\n5 play black Q16\n=5\n\n6 genmove white\n=6 D4\n"})}),"\n",(0,i.jsx)(n.h2,{id:"comandos-gtp-comunes",children:"Comandos GTP comunes"}),"\n",(0,i.jsx)(n.h3,{id:"informacion-del-programa",children:"Informacion del programa"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Comando"}),(0,i.jsx)(n.th,{children:"Descripcion"}),(0,i.jsx)(n.th,{children:"Ejemplo"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"name"})}),(0,i.jsx)(n.td,{children:"Obtener nombre del programa"}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"name"})," -> ",(0,i.jsx)(n.code,{children:"= KataGo"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"version"})}),(0,i.jsx)(n.td,{children:"Obtener numero de version"}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"version"})," -> ",(0,i.jsx)(n.code,{children:"= 1.15.3"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"list_commands"})}),(0,i.jsx)(n.td,{children:"Listar todos los comandos soportados"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"list_commands"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"protocol_version"})}),(0,i.jsx)(n.td,{children:"Version del protocolo GTP"}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"protocol_version"})," -> ",(0,i.jsx)(n.code,{children:"= 2"})]})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"configuracion-del-tablero",children:"Configuracion del tablero"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"# Establecer tamano del tablero (9, 13, 19)\nboardsize 19\n\n# Establecer komi\nkomi 7.5\n\n# Limpiar tablero\nclear_board\n\n# Establecer reglas (extension KataGo)\nkata-set-rules chinese    # Reglas chinas\nkata-set-rules japanese   # Reglas japonesas\nkata-set-rules tromp-taylor\n"})}),"\n",(0,i.jsx)(n.h3,{id:"relacionado-con-juego",children:"Relacionado con juego"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"# Jugar\nplay black Q16    # Negro juega en Q16\nplay white D4     # Blanco juega en D4\nplay black pass   # Negro pasa\n\n# Hacer que IA juegue una jugada\ngenmove black     # Generar jugada de negro\ngenmove white     # Generar jugada de blanco\n\n# Deshacer\nundo              # Deshacer una jugada\n\n# Establecer limite de jugadas\nkata-set-param maxVisits 1000    # Establecer maximo de busquedas\n"})}),"\n",(0,i.jsx)(n.h3,{id:"consulta-de-posicion",children:"Consulta de posicion"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"# Mostrar tablero\nshowboard\n\n# Obtener lado actual para jugar\nkata-get-player\n\n# Obtener resultado de analisis\nkata-analyze black 100    # Analizar negro, buscar 100 veces\n"})}),"\n",(0,i.jsx)(n.h3,{id:"relacionado-con-reglas",children:"Relacionado con reglas"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"# Obtener reglas actuales\nkata-get-rules\n\n# Establecer reglas\nkata-set-rules chinese\n\n# Establecer handicap\nfixed_handicap 4     # Posiciones estandar de 4 handicap\nplace_free_handicap 4  # Handicap libre\n"})}),"\n",(0,i.jsx)(n.h2,{id:"comandos-de-extension-katago",children:"Comandos de extension KataGo"}),"\n",(0,i.jsx)(n.p,{children:"KataGo proporciona muchos comandos de extension ademas del GTP estandar:"}),"\n",(0,i.jsx)(n.h3,{id:"kata-analyze",children:"kata-analyze"}),"\n",(0,i.jsx)(n.p,{children:"Analizar la posicion actual en tiempo real:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"kata-analyze [jugador] [visitas] [intervalo]\n"})}),"\n",(0,i.jsx)(n.p,{children:"Parametros:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"jugador"}),": Que lado analizar (black/white)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"visitas"}),": Numero de busquedas"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"intervalo"}),": Intervalo de reporte (centisegundos, 1/100 segundo)"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Ejemplo:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"kata-analyze black 1000 100\n"})}),"\n",(0,i.jsx)(n.p,{children:"Salida:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"info move Q3 visits 523 winrate 0.5432 scoreMean 2.31 scoreSelfplay 2.45 prior 0.1234 order 0 pv Q3 R4 Q5 ...\ninfo move D4 visits 312 winrate 0.5123 scoreMean 1.82 scoreSelfplay 1.95 prior 0.0987 order 1 pv D4 C6 E3 ...\n...\n"})}),"\n",(0,i.jsx)(n.p,{children:"Explicacion de campos de salida:"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Campo"}),(0,i.jsx)(n.th,{children:"Descripcion"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"move"})}),(0,i.jsx)(n.td,{children:"Punto de jugada"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"visits"})}),(0,i.jsx)(n.td,{children:"Numero de visitas de busqueda"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"winrate"})}),(0,i.jsx)(n.td,{children:"Tasa de victoria (0-1)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"scoreMean"})}),(0,i.jsx)(n.td,{children:"Diferencia de puntos esperada"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"scoreSelfplay"})}),(0,i.jsx)(n.td,{children:"Puntos esperados en self-play"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"prior"})}),(0,i.jsx)(n.td,{children:"Probabilidad a priori de red neuronal"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"order"})}),(0,i.jsx)(n.td,{children:"Orden de ranking"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"pv"})}),(0,i.jsx)(n.td,{children:"Variacion principal (Principal Variation)"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"kata-raw-nn",children:"kata-raw-nn"}),"\n",(0,i.jsx)(n.p,{children:"Obtener salida cruda de red neuronal:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"kata-raw-nn [simetria]\n"})}),"\n",(0,i.jsx)(n.p,{children:"Salida incluye:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Distribucion de probabilidad de Policy"}),"\n",(0,i.jsx)(n.li,{children:"Prediccion de Value"}),"\n",(0,i.jsx)(n.li,{children:"Prediccion de territorio, etc."}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"kata-debug-print",children:"kata-debug-print"}),"\n",(0,i.jsx)(n.p,{children:"Mostrar informacion detallada de busqueda, para depuracion:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"kata-debug-print move Q16\n"})}),"\n",(0,i.jsx)(n.h3,{id:"ajuste-de-fuerza",children:"Ajuste de fuerza"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"# Establecer numero maximo de visitas\nkata-set-param maxVisits 100      # Mas debil\nkata-set-param maxVisits 10000    # Mas fuerte\n\n# Establecer tiempo de pensamiento\nkata-time-settings main 60 0      # 60 segundos por lado\nkata-time-settings byoyomi 30 5   # 30 segundos byoyomi 5 periodos\n"})}),"\n",(0,i.jsx)(n.h2,{id:"uso-de-analysis-engine",children:"Uso de Analysis Engine"}),"\n",(0,i.jsx)(n.p,{children:"Analysis Engine es otro modo de operacion proporcionado por KataGo, usa formato JSON para comunicacion, mas adecuado para uso programatico."}),"\n",(0,i.jsx)(n.h3,{id:"iniciar-analysis-engine",children:"Iniciar Analysis Engine"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"katago analysis -model /ruta/al/modelo.bin.gz -config /ruta/al/config.cfg\n"})}),"\n",(0,i.jsx)(n.h3,{id:"flujo-de-uso-basico",children:"Flujo de uso basico"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Tu programa --Solicitud JSON--\x3e KataGo Analysis Engine --Respuesta JSON--\x3e Tu programa\n"})}),"\n",(0,i.jsx)(n.h3,{id:"formato-de-solicitud",children:"Formato de solicitud"}),"\n",(0,i.jsx)(n.p,{children:"Cada solicitud es un objeto JSON, debe ocupar una linea:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "id": "query1",\n  "moves": [["B","Q16"],["W","D4"],["B","Q4"]],\n  "rules": "chinese",\n  "komi": 7.5,\n  "boardXSize": 19,\n  "boardYSize": 19,\n  "analyzeTurns": [2]\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"explicacion-de-campos-de-solicitud",children:"Explicacion de campos de solicitud"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Campo"}),(0,i.jsx)(n.th,{children:"Requerido"}),(0,i.jsx)(n.th,{children:"Descripcion"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"id"})}),(0,i.jsx)(n.td,{children:"Si"}),(0,i.jsx)(n.td,{children:"Identificador de consulta, usado para corresponder respuestas"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"moves"})}),(0,i.jsx)(n.td,{children:"No"}),(0,i.jsxs)(n.td,{children:["Secuencia de jugadas ",(0,i.jsx)(n.code,{children:'[["B","Q16"],["W","D4"]]'})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"initialStones"})}),(0,i.jsx)(n.td,{children:"No"}),(0,i.jsxs)(n.td,{children:["Piedras iniciales ",(0,i.jsx)(n.code,{children:'[["B","Q16"],["W","D4"]]'})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"rules"})}),(0,i.jsx)(n.td,{children:"Si"}),(0,i.jsx)(n.td,{children:"Nombre de reglas"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"komi"})}),(0,i.jsx)(n.td,{children:"Si"}),(0,i.jsx)(n.td,{children:"Komi"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"boardXSize"})}),(0,i.jsx)(n.td,{children:"Si"}),(0,i.jsx)(n.td,{children:"Ancho del tablero"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"boardYSize"})}),(0,i.jsx)(n.td,{children:"Si"}),(0,i.jsx)(n.td,{children:"Alto del tablero"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"analyzeTurns"})}),(0,i.jsx)(n.td,{children:"No"}),(0,i.jsx)(n.td,{children:"Turnos a analizar (indexados desde 0)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"maxVisits"})}),(0,i.jsx)(n.td,{children:"No"}),(0,i.jsx)(n.td,{children:"Sobrescribir maxVisits del archivo de configuracion"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"formato-de-respuesta",children:"Formato de respuesta"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "id": "query1",\n  "turnNumber": 2,\n  "moveInfos": [\n    {\n      "move": "D16",\n      "visits": 1234,\n      "winrate": 0.5678,\n      "scoreMean": 3.21,\n      "scoreStdev": 15.4,\n      "scoreLead": 3.21,\n      "prior": 0.0892,\n      "order": 0,\n      "pv": ["D16", "Q10", "R14"]\n    }\n  ],\n  "rootInfo": {\n    "visits": 5000,\n    "winrate": 0.5234,\n    "scoreLead": 2.1,\n    "scoreSelfplay": 2.3\n  },\n  "ownership": [...],\n  "policy": [...]\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"explicacion-de-campos-de-respuesta",children:"Explicacion de campos de respuesta"}),"\n",(0,i.jsx)(n.h4,{id:"campos-de-moveinfos",children:"Campos de moveInfos"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Campo"}),(0,i.jsx)(n.th,{children:"Descripcion"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"move"})}),(0,i.jsx)(n.td,{children:"Coordenada del punto"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"visits"})}),(0,i.jsx)(n.td,{children:"Numero de visitas de busqueda para esa jugada"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"winrate"})}),(0,i.jsx)(n.td,{children:"Tasa de victoria (0-1, para el lado actual)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"scoreMean"})}),(0,i.jsx)(n.td,{children:"Diferencia de puntos esperada final"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"scoreStdev"})}),(0,i.jsx)(n.td,{children:"Desviacion estandar de puntos"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"scoreLead"})}),(0,i.jsx)(n.td,{children:"Puntos liderando actualmente"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"prior"})}),(0,i.jsx)(n.td,{children:"Probabilidad a priori de red neuronal"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"order"})}),(0,i.jsx)(n.td,{children:"Ranking (0 = mejor)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"pv"})}),(0,i.jsx)(n.td,{children:"Secuencia de variacion principal"})]})]})]}),"\n",(0,i.jsx)(n.h4,{id:"campos-de-rootinfo",children:"Campos de rootInfo"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Campo"}),(0,i.jsx)(n.th,{children:"Descripcion"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"visits"})}),(0,i.jsx)(n.td,{children:"Total de visitas de busqueda"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"winrate"})}),(0,i.jsx)(n.td,{children:"Tasa de victoria de posicion actual"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"scoreLead"})}),(0,i.jsx)(n.td,{children:"Puntos liderando actualmente"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"scoreSelfplay"})}),(0,i.jsx)(n.td,{children:"Puntos esperados en self-play"})]})]})]}),"\n",(0,i.jsx)(n.h4,{id:"campo-ownership",children:"Campo ownership"}),"\n",(0,i.jsx)(n.p,{children:"Array unidimensional, longitud boardXSize x boardYSize, cada valor entre -1 y 1:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"-1: Predicho como territorio blanco"}),"\n",(0,i.jsx)(n.li,{children:"+1: Predicho como territorio negro"}),"\n",(0,i.jsx)(n.li,{children:"0: Indefinido/borde"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"opciones-avanzadas-de-consulta",children:"Opciones avanzadas de consulta"}),"\n",(0,i.jsx)(n.h4,{id:"obtener-mapa-de-territorio",children:"Obtener mapa de territorio"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "id": "ownership_query",\n  "moves": [...],\n  "rules": "chinese",\n  "komi": 7.5,\n  "boardXSize": 19,\n  "boardYSize": 19,\n  "analyzeTurns": [10],\n  "includeOwnership": true\n}\n'})}),"\n",(0,i.jsx)(n.h4,{id:"obtener-distribucion-de-policy",children:"Obtener distribucion de Policy"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "id": "policy_query",\n  "moves": [...],\n  "rules": "chinese",\n  "komi": 7.5,\n  "boardXSize": 19,\n  "boardYSize": 19,\n  "analyzeTurns": [10],\n  "includePolicy": true\n}\n'})}),"\n",(0,i.jsx)(n.h4,{id:"limitar-numero-de-jugadas-reportadas",children:"Limitar numero de jugadas reportadas"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "id": "limited_query",\n  "moves": [...],\n  "rules": "chinese",\n  "komi": 7.5,\n  "boardXSize": 19,\n  "boardYSize": 19,\n  "analyzeTurns": [10],\n  "maxMoves": 5\n}\n'})}),"\n",(0,i.jsx)(n.h4,{id:"analizar-jugadas-especificas",children:"Analizar jugadas especificas"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "id": "specific_moves",\n  "moves": [...],\n  "rules": "chinese",\n  "komi": 7.5,\n  "boardXSize": 19,\n  "boardYSize": 19,\n  "analyzeTurns": [10],\n  "allowMoves": [["B","Q16"],["B","D4"],["B","Q4"]]\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"ejemplo-completo-integracion-con-python",children:"Ejemplo completo: Integracion con Python"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"import subprocess\nimport json\n\nclass KataGoEngine:\n    def __init__(self, katago_path, model_path, config_path):\n        self.process = subprocess.Popen(\n            [katago_path, 'analysis', '-model', model_path, '-config', config_path],\n            stdin=subprocess.PIPE,\n            stdout=subprocess.PIPE,\n            stderr=subprocess.PIPE,\n            text=True\n        )\n        self.query_id = 0\n\n    def analyze(self, moves, rules='chinese', komi=7.5):\n        self.query_id += 1\n\n        query = {\n            'id': f'query_{self.query_id}',\n            'moves': moves,\n            'rules': rules,\n            'komi': komi,\n            'boardXSize': 19,\n            'boardYSize': 19,\n            'analyzeTurns': [len(moves)],\n            'maxVisits': 500,\n            'includeOwnership': True\n        }\n\n        # Enviar consulta\n        self.process.stdin.write(json.dumps(query) + '\\n')\n        self.process.stdin.flush()\n\n        # Leer respuesta\n        response_line = self.process.stdout.readline()\n        return json.loads(response_line)\n\n    def close(self):\n        self.process.terminate()\n\n\n# Ejemplo de uso\nengine = KataGoEngine(\n    '/usr/local/bin/katago',\n    '/ruta/al/modelo.bin.gz',\n    '/ruta/al/config.cfg'\n)\n\n# Analizar una posicion\nresult = engine.analyze([\n    ['B', 'Q16'],\n    ['W', 'D4'],\n    ['B', 'Q4'],\n    ['W', 'D16']\n])\n\n# Imprimir mejor jugada\nbest_move = result['moveInfos'][0]\nprint(f\"Mejor jugada: {best_move['move']}\")\nprint(f\"Tasa de victoria: {best_move['winrate']:.1%}\")\nprint(f\"Puntos liderando: {best_move['scoreLead']:.1f}\")\n\nengine.close()\n"})}),"\n",(0,i.jsx)(n.h3,{id:"ejemplo-completo-integracion-con-nodejs",children:"Ejemplo completo: Integracion con Node.js"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"const { spawn } = require('child_process');\nconst readline = require('readline');\n\nclass KataGoEngine {\n  constructor(katagoPath, modelPath, configPath) {\n    this.process = spawn(katagoPath, [\n      'analysis',\n      '-model', modelPath,\n      '-config', configPath\n    ]);\n\n    this.rl = readline.createInterface({\n      input: this.process.stdout,\n      crlfDelay: Infinity\n    });\n\n    this.queryId = 0;\n    this.callbacks = new Map();\n\n    this.rl.on('line', (line) => {\n      try {\n        const response = JSON.parse(line);\n        const callback = this.callbacks.get(response.id);\n        if (callback) {\n          callback(response);\n          this.callbacks.delete(response.id);\n        }\n      } catch (e) {\n        console.error('Error de parseo:', e);\n      }\n    });\n  }\n\n  analyze(moves, options = {}) {\n    return new Promise((resolve) => {\n      this.queryId++;\n      const id = `query_${this.queryId}`;\n\n      const query = {\n        id,\n        moves,\n        rules: options.rules || 'chinese',\n        komi: options.komi || 7.5,\n        boardXSize: 19,\n        boardYSize: 19,\n        analyzeTurns: [moves.length],\n        maxVisits: options.maxVisits || 500,\n        includeOwnership: true\n      };\n\n      this.callbacks.set(id, resolve);\n      this.process.stdin.write(JSON.stringify(query) + '\\n');\n    });\n  }\n\n  close() {\n    this.process.kill();\n  }\n}\n\n// Ejemplo de uso\nasync function main() {\n  const engine = new KataGoEngine(\n    '/usr/local/bin/katago',\n    '/ruta/al/modelo.bin.gz',\n    '/ruta/al/config.cfg'\n  );\n\n  const result = await engine.analyze([\n    ['B', 'Q16'],\n    ['W', 'D4'],\n    ['B', 'Q4']\n  ]);\n\n  console.log('Mejor jugada:', result.moveInfos[0].move);\n  console.log('Tasa de victoria:', (result.moveInfos[0].winrate * 100).toFixed(1) + '%');\n\n  engine.close();\n}\n\nmain();\n"})}),"\n",(0,i.jsx)(n.h2,{id:"sistema-de-coordenadas",children:"Sistema de coordenadas"}),"\n",(0,i.jsx)(n.p,{children:"KataGo usa el sistema de coordenadas estandar de Go:"}),"\n",(0,i.jsx)(n.h3,{id:"coordenadas-de-letras",children:"Coordenadas de letras"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"   A B C D E F G H J K L M N O P Q R S T\n19 . . . . . . . . . . . . . . . . . . . 19\n18 . . . . . . . . . . . . . . . . . . . 18\n17 . . . . . . . . . . . . . . . . . . . 17\n16 . . . + . . . . . + . . . . . + . . . 16\n15 . . . . . . . . . . . . . . . . . . . 15\n...\n 4 . . . + . . . . . + . . . . . + . . .  4\n 3 . . . . . . . . . . . . . . . . . . .  3\n 2 . . . . . . . . . . . . . . . . . . .  2\n 1 . . . . . . . . . . . . . . . . . . .  1\n   A B C D E F G H J K L M N O P Q R S T\n"})}),"\n",(0,i.jsx)(n.p,{children:"Nota: No hay letra I (para evitar confusion con el numero 1)."}),"\n",(0,i.jsx)(n.h3,{id:"conversion-de-coordenadas",children:"Conversion de coordenadas"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'def coord_to_gtp(x, y, board_size=19):\n    """Convertir coordenadas (x, y) a formato GTP"""\n    letters = \'ABCDEFGHJKLMNOPQRST\'\n    return f"{letters[x]}{board_size - y}"\n\ndef gtp_to_coord(gtp_coord, board_size=19):\n    """Convertir coordenadas GTP a (x, y)"""\n    letters = \'ABCDEFGHJKLMNOPQRST\'\n    x = letters.index(gtp_coord[0].upper())\n    y = board_size - int(gtp_coord[1:])\n    return (x, y)\n'})}),"\n",(0,i.jsx)(n.h2,{id:"patrones-de-uso-comunes",children:"Patrones de uso comunes"}),"\n",(0,i.jsx)(n.h3,{id:"modo-de-juego",children:"Modo de juego"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Iniciar modo GTP\nkatago gtp -model model.bin.gz -config gtp.cfg\n\n# Secuencia de comandos GTP\nboardsize 19\nkomi 7.5\nplay black Q16\ngenmove white\nplay black Q4\ngenmove white\n...\n"})}),"\n",(0,i.jsx)(n.h3,{id:"modo-de-analisis-por-lotes",children:"Modo de analisis por lotes"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# Analizar todas las jugadas de una partida\nsgf_moves = parse_sgf('game.sgf')\n\nfor i in range(len(sgf_moves)):\n    result = engine.analyze(sgf_moves[:i+1])\n    winrate = result['rootInfo']['winrate']\n    print(f\"Turno {i+1}: Tasa de victoria {winrate:.1%}\")\n"})}),"\n",(0,i.jsx)(n.h3,{id:"modo-de-analisis-en-tiempo-real",children:"Modo de analisis en tiempo real"}),"\n",(0,i.jsxs)(n.p,{children:["Usar ",(0,i.jsx)(n.code,{children:"kata-analyze"})," para analisis en tiempo real:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"kata-analyze black 1000 50\n"})}),"\n",(0,i.jsx)(n.p,{children:"Mostrara resultado de analisis cada 0.5 segundos hasta alcanzar 1000 visitas."}),"\n",(0,i.jsx)(n.h2,{id:"optimizacion-de-rendimiento",children:"Optimizacion de rendimiento"}),"\n",(0,i.jsx)(n.h3,{id:"configuracion-de-busqueda",children:"Configuracion de busqueda"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ini",children:"# Aumentar cantidad de busqueda mejora precision\nmaxVisits = 1000\n\n# O usar control de tiempo\nmaxTime = 10  # Maximo 10 segundos por jugada\n"})}),"\n",(0,i.jsx)(n.h3,{id:"configuracion-multi-hilo",children:"Configuracion multi-hilo"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ini",children:"# Numero de hilos CPU\nnumSearchThreads = 8\n\n# Procesamiento por lotes GPU\nnumNNServerThreadsPerModel = 2\nnnMaxBatchSize = 16\n"})}),"\n",(0,i.jsx)(n.h3,{id:"configuracion-de-memoria",children:"Configuracion de memoria"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ini",children:"# Reducir uso de memoria\nnnCacheSizePowerOfTwo = 20  # Por defecto 23\n"})}),"\n",(0,i.jsx)(n.h2,{id:"siguientes-pasos",children:"Siguientes pasos"}),"\n",(0,i.jsxs)(n.p,{children:["Despues de conocer el uso de comandos, si quieres investigar profundamente la implementacion de KataGo, continua leyendo ",(0,i.jsx)(n.a,{href:"/es/docs/for-engineers/katago-source/architecture",children:"Arquitectura del codigo fuente"}),"."]})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(t,{...e})}):t(e)}}}]);