"use strict";(globalThis.webpackChunktemp_docusaurus=globalThis.webpackChunktemp_docusaurus||[]).push([[644],{79485(n,e,a){a.r(e),a.d(e,{assets:()=>o,contentTitle:()=>t,default:()=>u,frontMatter:()=>l,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"for-engineers/deep-dive/source-code","title":"Panduan Source Code KataGo","description":"Struktur kode KataGo, modul inti, dan desain arsitektur","source":"@site/i18n/id/docusaurus-plugin-content-docs/current/for-engineers/deep-dive/source-code.md","sourceDirName":"for-engineers/deep-dive","slug":"/for-engineers/deep-dive/source-code","permalink":"/id/docs/for-engineers/deep-dive/source-code","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/for-engineers/deep-dive/source-code.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"title":"Panduan Source Code KataGo","description":"Struktur kode KataGo, modul inti, dan desain arsitektur"},"sidebar":"tutorialSidebar","previous":{"title":"Untuk Peneliti Mendalam","permalink":"/id/docs/for-engineers/deep-dive/"},"next":{"title":"Analisis Mekanisme Pelatihan KataGo","permalink":"/id/docs/for-engineers/deep-dive/training"}}');var s=a(62615),r=a(30416);const l={sidebar_position:2,title:"Panduan Source Code KataGo",description:"Struktur kode KataGo, modul inti, dan desain arsitektur"},t="Panduan Source Code KataGo",o={},d=[{value:"Mendapatkan Source Code",id:"mendapatkan-source-code",level:2},{value:"Struktur Direktori",id:"struktur-direktori",level:2},{value:"Analisis Modul Inti",id:"analisis-modul-inti",level:2},{value:"1. game/ \u2014 Aturan Go",id:"1-game--aturan-go",level:3},{value:"board.h / board.cpp",id:"boardh--boardcpp",level:4},{value:"rules.h / rules.cpp",id:"rulesh--rulescpp",level:4},{value:"2. search/ \u2014 Pencarian MCTS",id:"2-search--pencarian-mcts",level:3},{value:"search.h / search.cpp",id:"searchh--searchcpp",level:4},{value:"searchparams.h",id:"searchparamsh",level:4},{value:"3. neuralnet/ \u2014 Inferensi Neural Network",id:"3-neuralnet--inferensi-neural-network",level:3},{value:"nninputs.h / nninputs.cpp",id:"nninputsh--nninputscpp",level:4},{value:"nneval.h / nneval.cpp",id:"nnevalh--nnevalcpp",level:4},{value:"4. command/ \u2014 Penanganan Perintah",id:"4-command--penanganan-perintah",level:3},{value:"gtp.cpp",id:"gtpcpp",level:4},{value:"analysis.cpp",id:"analysiscpp",level:4},{value:"Kode Pelatihan Python",id:"kode-pelatihan-python",level:2},{value:"model.py \u2014 Arsitektur Network",id:"modelpy--arsitektur-network",level:3},{value:"train.py \u2014 Loop Pelatihan",id:"trainpy--loop-pelatihan",level:3},{value:"Implementasi Algoritma Kunci",id:"implementasi-algoritma-kunci",level:2},{value:"Formula Seleksi PUCT",id:"formula-seleksi-puct",level:3},{value:"Virtual Loss",id:"virtual-loss",level:3},{value:"Kompilasi dan Debugging",id:"kompilasi-dan-debugging",level:2},{value:"Kompilasi (Mode Debug)",id:"kompilasi-mode-debug",level:3},{value:"Unit Test",id:"unit-test",level:3},{value:"Tips Debugging",id:"tips-debugging",level:3},{value:"Bacaan Lanjutan",id:"bacaan-lanjutan",level:2}];function c(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"panduan-source-code-katago",children:"Panduan Source Code KataGo"})}),"\n",(0,s.jsx)(e.p,{children:"Artikel ini membantu Anda memahami struktur kode KataGo, cocok untuk engineer yang ingin mendalami penelitian atau berkontribusi kode."}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"mendapatkan-source-code",children:"Mendapatkan Source Code"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"git clone https://github.com/lightvector/KataGo.git\ncd KataGo\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"struktur-direktori",children:"Struktur Direktori"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"KataGo/\n\u251c\u2500\u2500 cpp/                    # Engine inti C++\n\u2502   \u251c\u2500\u2500 main.cpp            # Entry point program utama\n\u2502   \u251c\u2500\u2500 command/            # Penanganan perintah\n\u2502   \u251c\u2500\u2500 core/               # Utilitas inti\n\u2502   \u251c\u2500\u2500 game/               # Aturan Go\n\u2502   \u251c\u2500\u2500 search/             # Pencarian MCTS\n\u2502   \u251c\u2500\u2500 neuralnet/          # Inferensi neural network\n\u2502   \u251c\u2500\u2500 dataio/             # I/O data\n\u2502   \u2514\u2500\u2500 tests/              # Unit test\n\u2502\n\u251c\u2500\u2500 python/                 # Kode pelatihan Python\n\u2502   \u251c\u2500\u2500 train.py            # Program pelatihan utama\n\u2502   \u251c\u2500\u2500 model.py            # Definisi arsitektur network\n\u2502   \u251c\u2500\u2500 data/               # Pemrosesan data\n\u2502   \u2514\u2500\u2500 configs/            # Konfigurasi pelatihan\n\u2502\n\u2514\u2500\u2500 docs/                   # Dokumentasi\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"analisis-modul-inti",children:"Analisis Modul Inti"}),"\n",(0,s.jsx)(e.h3,{id:"1-game--aturan-go",children:"1. game/ \u2014 Aturan Go"}),"\n",(0,s.jsx)(e.p,{children:"Implementasi lengkap aturan Go."}),"\n",(0,s.jsx)(e.h4,{id:"boardh--boardcpp",children:"board.h / board.cpp"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",children:"// Representasi status papan\nclass Board {\npublic:\n    static constexpr int MAX_BOARD_SIZE = 19;\n\n    // Status papan\n    Color colors[MAX_ARR_SIZE];  // Warna setiap posisi\n    Chain chains[MAX_ARR_SIZE];  // Informasi grup batu\n\n    // Operasi inti\n    bool playMove(Loc loc, Player pla);  // Mainkan satu langkah\n    bool isLegal(Loc loc, Player pla);   // Periksa legalitas\n    void calculateArea(Color* area);      // Hitung teritori\n};\n"})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Padanan Animasi"}),":"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"A2 Model lattice: Struktur data papan"}),"\n",(0,s.jsx)(e.li,{children:"A6 Area terhubung: Representasi Chain (grup batu)"}),"\n",(0,s.jsx)(e.li,{children:"A7 Penghitungan liberty: Pelacakan liberty"}),"\n"]}),"\n",(0,s.jsx)(e.h4,{id:"rulesh--rulescpp",children:"rules.h / rules.cpp"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",children:"// Dukungan multi-aturan\nstruct Rules {\n    enum KoRule { SIMPLE_KO, POSITIONAL_KO, SITUATIONAL_KO };\n    enum ScoringRule { TERRITORY_SCORING, AREA_SCORING };\n    enum TaxRule { NO_TAX, TAX_SEKI, TAX_ALL };\n\n    KoRule koRule;\n    ScoringRule scoringRule;\n    TaxRule taxRule;\n    float komi;\n\n    // Pemetaan nama aturan\n    static Rules parseRules(const std::string& name);\n};\n"})}),"\n",(0,s.jsx)(e.p,{children:"Aturan yang didukung:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"chinese"}),": Aturan Tiongkok (penghitungan area)"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"japanese"}),": Aturan Jepang (penghitungan teritori)"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"korean"}),": Aturan Korea"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"aga"}),": Aturan Amerika"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"tromp-taylor"}),": Aturan Tromp-Taylor"]}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h3,{id:"2-search--pencarian-mcts",children:"2. search/ \u2014 Pencarian MCTS"}),"\n",(0,s.jsx)(e.p,{children:"Implementasi Monte Carlo Tree Search."}),"\n",(0,s.jsx)(e.h4,{id:"searchh--searchcpp",children:"search.h / search.cpp"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",children:"class Search {\npublic:\n    // Pencarian inti\n    void runWholeSearch(Player pla);\n\n    // Langkah MCTS\n    void selectNode();           // Pilih node\n    void expandNode();           // Ekspansi node\n    void evaluateNode();         // Evaluasi neural network\n    void backpropValue();        // Update backprop\n\n    // Ambil hasil\n    Loc getChosenMove();\n    std::vector<MoveInfo> getSortedMoveInfos();\n};\n"})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Padanan Animasi"}),":"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"C5 Empat langkah MCTS: Padanan select \u2192 expand \u2192 evaluate \u2192 backprop"}),"\n",(0,s.jsxs)(e.li,{children:["E4 Formula PUCT: Diimplementasikan di ",(0,s.jsx)(e.code,{children:"selectNode()"})]}),"\n"]}),"\n",(0,s.jsx)(e.h4,{id:"searchparamsh",children:"searchparams.h"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",children:"struct SearchParams {\n    // Kontrol pencarian\n    int64_t maxVisits;          // Maksimum kunjungan\n    double maxTime;             // Maksimum waktu\n\n    // Parameter PUCT\n    double cpuctExploration;    // Konstanta eksplorasi\n    double cpuctBase;\n\n    // Virtual loss\n    int virtualLoss;\n\n    // Noise root node\n    double rootNoiseEnabled;\n    double rootDirichletAlpha;\n};\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h3,{id:"3-neuralnet--inferensi-neural-network",children:"3. neuralnet/ \u2014 Inferensi Neural Network"}),"\n",(0,s.jsx)(e.p,{children:"Engine inferensi neural network."}),"\n",(0,s.jsx)(e.h4,{id:"nninputsh--nninputscpp",children:"nninputs.h / nninputs.cpp"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",children:"// Fitur input neural network\nclass NNInputs {\npublic:\n    // Feature plane\n    static constexpr int NUM_FEATURES = 22;\n\n    // Isi fitur\n    static void fillFeatures(\n        const Board& board,\n        const BoardHistory& hist,\n        float* features\n    );\n};\n"})}),"\n",(0,s.jsx)(e.p,{children:"Fitur input mencakup:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Posisi batu hitam, posisi batu putih"}),"\n",(0,s.jsx)(e.li,{children:"Jumlah liberty (1, 2, 3+)"}),"\n",(0,s.jsx)(e.li,{children:"Langkah historis"}),"\n",(0,s.jsx)(e.li,{children:"Encoding aturan"}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Padanan Animasi"}),":"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"A10 Stack historis: Input multi-frame"}),"\n",(0,s.jsx)(e.li,{children:"A11 Mask langkah legal: Filter langkah terlarang"}),"\n"]}),"\n",(0,s.jsx)(e.h4,{id:"nnevalh--nnevalcpp",children:"nneval.h / nneval.cpp"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",children:"// Hasil evaluasi neural network\nstruct NNOutput {\n    // Output Policy (362 posisi, termasuk pass)\n    float policyProbs[NNPos::MAX_NN_POLICY_SIZE];\n\n    // Output Value\n    float winProb;       // Winrate\n    float lossProb;      // Lossrate\n    float noResultProb;  // Drawrate\n\n    // Output tambahan\n    float scoreMean;     // Prediksi skor\n    float scoreStdev;    // Standar deviasi skor\n    float lead;          // Poin unggul\n\n    // Prediksi teritori\n    float ownership[NNPos::MAX_BOARD_AREA];\n};\n"})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Padanan Animasi"}),":"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"E1 Policy network: policyProbs"}),"\n",(0,s.jsx)(e.li,{children:"E2 Value network: winProb, scoreMean"}),"\n",(0,s.jsx)(e.li,{children:"E3 Dual-head network: Desain multi-output head"}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h3,{id:"4-command--penanganan-perintah",children:"4. command/ \u2014 Penanganan Perintah"}),"\n",(0,s.jsx)(e.p,{children:"Implementasi mode operasi yang berbeda."}),"\n",(0,s.jsx)(e.h4,{id:"gtpcpp",children:"gtp.cpp"}),"\n",(0,s.jsx)(e.p,{children:"Implementasi mode GTP (Go Text Protocol):"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",children:'void MainCmds::gtp(const std::vector<std::string>& args) {\n    // Parsing dan eksekusi perintah\n    while(true) {\n        std::string line;\n        std::getline(std::cin, line);\n\n        if(line == "name") {\n            respond("KataGo");\n        }\n        else if(line.find("play") == 0) {\n            // Tangani perintah bermain\n        }\n        else if(line.find("genmove") == 0) {\n            // Jalankan pencarian dan kembalikan langkah terbaik\n        }\n        // ... perintah lainnya\n    }\n}\n'})}),"\n",(0,s.jsx)(e.h4,{id:"analysiscpp",children:"analysis.cpp"}),"\n",(0,s.jsx)(e.p,{children:"Implementasi Analysis Engine:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",children:"void MainCmds::analysis(const std::vector<std::string>& args) {\n    while(true) {\n        // Baca request JSON\n        std::string line;\n        std::getline(std::cin, line);\n        json query = json::parse(line);\n\n        // Bangun status papan\n        Board board = setupBoard(query);\n\n        // Jalankan analisis\n        Search search(...);\n        search.runWholeSearch();\n\n        // Output response JSON\n        json response = formatResponse(search);\n        std::cout << response.dump() << std::endl;\n    }\n}\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"kode-pelatihan-python",children:"Kode Pelatihan Python"}),"\n",(0,s.jsx)(e.h3,{id:"modelpy--arsitektur-network",children:"model.py \u2014 Arsitektur Network"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:"class Model(nn.Module):\n    def __init__(self, config):\n        super().__init__()\n\n        # Konvolusi awal\n        self.initial_conv = nn.Conv2d(\n            in_channels=config.input_features,\n            out_channels=config.trunk_channels,\n            kernel_size=3, padding=1\n        )\n\n        # Residual tower\n        self.trunk = nn.ModuleList([\n            ResidualBlock(config.trunk_channels)\n            for _ in range(config.num_blocks)\n        ])\n\n        # Output head\n        self.policy_head = PolicyHead(config)\n        self.value_head = ValueHead(config)\n        self.ownership_head = OwnershipHead(config)\n\n    def forward(self, x):\n        # Konvolusi awal\n        x = self.initial_conv(x)\n\n        # Residual tower\n        for block in self.trunk:\n            x = block(x)\n\n        # Multi-head output\n        policy = self.policy_head(x)\n        value = self.value_head(x)\n        ownership = self.ownership_head(x)\n\n        return policy, value, ownership\n"})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Padanan Animasi"}),":"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"D9 Operasi konvolusi: Conv2d"}),"\n",(0,s.jsx)(e.li,{children:"D12 Koneksi residual: ResidualBlock"}),"\n",(0,s.jsx)(e.li,{children:"E11 Residual tower: Struktur trunk"}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"trainpy--loop-pelatihan",children:"train.py \u2014 Loop Pelatihan"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:"def train_step(model, optimizer, batch):\n    # Forward pass\n    policy_pred, value_pred, ownership_pred = model(batch.inputs)\n\n    # Hitung loss\n    policy_loss = cross_entropy(policy_pred, batch.policy_target)\n    value_loss = mse_loss(value_pred, batch.value_target)\n    ownership_loss = mse_loss(ownership_pred, batch.ownership_target)\n\n    total_loss = policy_loss + value_loss + ownership_loss\n\n    # Backward pass\n    optimizer.zero_grad()\n    total_loss.backward()\n    optimizer.step()\n\n    return total_loss.item()\n"})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Padanan Animasi"}),":"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"D3 Forward pass: model(batch.inputs)"}),"\n",(0,s.jsx)(e.li,{children:"D13 Backward pass: total_loss.backward()"}),"\n",(0,s.jsx)(e.li,{children:"K3 Adam: optimizer.step()"}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"implementasi-algoritma-kunci",children:"Implementasi Algoritma Kunci"}),"\n",(0,s.jsx)(e.h3,{id:"formula-seleksi-puct",children:"Formula Seleksi PUCT"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",children:"// search.cpp\ndouble Search::getPUCTScore(const SearchNode* node, int moveIdx) {\n    double Q = node->getChildValue(moveIdx);\n    double P = node->getChildPolicy(moveIdx);\n    double N_parent = node->visits;\n    double N_child = node->getChildVisits(moveIdx);\n\n    double exploration = params.cpuctExploration;\n    double cpuct = exploration * sqrt(N_parent) / (1.0 + N_child);\n\n    return Q + cpuct * P;\n}\n"})}),"\n",(0,s.jsx)(e.h3,{id:"virtual-loss",children:"Virtual Loss"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",children:"// Hindari multi-thread memilih node yang sama\nvoid Search::applyVirtualLoss(SearchNode* node) {\n    node->virtualLoss += params.virtualLoss;\n}\n\nvoid Search::removeVirtualLoss(SearchNode* node) {\n    node->virtualLoss -= params.virtualLoss;\n}\n"})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Padanan Animasi"}),":"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"C9 Virtual loss: Teknik pencarian paralel"}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"kompilasi-dan-debugging",children:"Kompilasi dan Debugging"}),"\n",(0,s.jsx)(e.h3,{id:"kompilasi-mode-debug",children:"Kompilasi (Mode Debug)"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"cd cpp\nmkdir build && cd build\ncmake .. -DUSE_BACKEND=OPENCL -DCMAKE_BUILD_TYPE=Debug\nmake -j$(nproc)\n"})}),"\n",(0,s.jsx)(e.h3,{id:"unit-test",children:"Unit Test"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"./katago runtests\n"})}),"\n",(0,s.jsx)(e.h3,{id:"tips-debugging",children:"Tips Debugging"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",children:"// Aktifkan log detail\n#define SEARCH_DEBUG 1\n\n// Tambahkan breakpoint dalam pencarian\nif(node->visits > 1000) {\n    // Set breakpoint untuk memeriksa status pencarian\n}\n"})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"bacaan-lanjutan",children:"Bacaan Lanjutan"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.a,{href:"../training",children:"Analisis Mekanisme Pelatihan KataGo"})," \u2014 Alur pelatihan lengkap"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.a,{href:"../contributing",children:"Berkontribusi ke Komunitas Open Source"})," \u2014 Panduan kontribusi"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.a,{href:"../../how-it-works/concepts/",children:"Lembar Referensi Konsep"})," \u2014 Padanan 109 konsep"]}),"\n"]})]})}function u(n={}){const{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(c,{...n})}):c(n)}},30416(n,e,a){a.d(e,{R:()=>l,x:()=>t});var i=a(59471);const s={},r=i.createContext(s);function l(n){const e=i.useContext(r);return i.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function t(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:l(n.components),i.createElement(r.Provider,{value:e},n.children)}}}]);