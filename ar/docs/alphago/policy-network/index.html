<!doctype html>
<html lang="ar" dir="rtl" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-alphago/policy-network" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">شرح مفصل لشبكة Policy | 好棋寶寶協會 | Weiqi.Kids</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://www.weiqi.kids/ar/img/social-card.png"><meta data-rh="true" name="twitter:image" content="https://www.weiqi.kids/ar/img/social-card.png"><meta data-rh="true" property="og:url" content="https://www.weiqi.kids/ar/docs/alphago/policy-network/"><meta data-rh="true" property="og:locale" content="ar"><meta data-rh="true" property="og:locale:alternate" content="zh_tw"><meta data-rh="true" property="og:locale:alternate" content="zh_cn"><meta data-rh="true" property="og:locale:alternate" content="zh_hk"><meta data-rh="true" property="og:locale:alternate" content="en"><meta data-rh="true" property="og:locale:alternate" content="ja"><meta data-rh="true" property="og:locale:alternate" content="ko"><meta data-rh="true" property="og:locale:alternate" content="es"><meta data-rh="true" property="og:locale:alternate" content="pt"><meta data-rh="true" property="og:locale:alternate" content="hi"><meta data-rh="true" property="og:locale:alternate" content="id"><meta data-rh="true" name="docusaurus_locale" content="ar"><meta data-rh="true" name="docsearch:language" content="ar"><meta data-rh="true" name="keywords" content="圍棋, Go, 好棋寶寶, AI, KataGo, AlphaGo, 圍棋教學, 圍棋入門"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="شرح مفصل لشبكة Policy | 好棋寶寶協會 | Weiqi.Kids"><meta data-rh="true" name="description" content="فهم عميق لمعمارية شبكة السياسة في AlphaGo، طرق التدريب والتطبيق العملي، من 13 طبقة التفافية إلى مخرجات Softmax"><meta data-rh="true" property="og:description" content="فهم عميق لمعمارية شبكة السياسة في AlphaGo، طرق التدريب والتطبيق العملي، من 13 طبقة التفافية إلى مخرجات Softmax"><link data-rh="true" rel="icon" href="/ar/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://www.weiqi.kids/ar/docs/alphago/policy-network/"><link data-rh="true" rel="alternate" href="https://www.weiqi.kids/docs/alphago/policy-network/" hreflang="zh-tw"><link data-rh="true" rel="alternate" href="https://www.weiqi.kids/zh-cn/docs/alphago/policy-network/" hreflang="zh-cn"><link data-rh="true" rel="alternate" href="https://www.weiqi.kids/zh-hk/docs/alphago/policy-network/" hreflang="zh-hk"><link data-rh="true" rel="alternate" href="https://www.weiqi.kids/en/docs/alphago/policy-network/" hreflang="en"><link data-rh="true" rel="alternate" href="https://www.weiqi.kids/ja/docs/alphago/policy-network/" hreflang="ja"><link data-rh="true" rel="alternate" href="https://www.weiqi.kids/ko/docs/alphago/policy-network/" hreflang="ko"><link data-rh="true" rel="alternate" href="https://www.weiqi.kids/es/docs/alphago/policy-network/" hreflang="es"><link data-rh="true" rel="alternate" href="https://www.weiqi.kids/pt/docs/alphago/policy-network/" hreflang="pt"><link data-rh="true" rel="alternate" href="https://www.weiqi.kids/hi/docs/alphago/policy-network/" hreflang="hi"><link data-rh="true" rel="alternate" href="https://www.weiqi.kids/id/docs/alphago/policy-network/" hreflang="id"><link data-rh="true" rel="alternate" href="https://www.weiqi.kids/ar/docs/alphago/policy-network/" hreflang="ar"><link data-rh="true" rel="alternate" href="https://www.weiqi.kids/docs/alphago/policy-network/" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@graph":[{"@type":"Organization","@id":"https://www.weiqi.kids#organization","name":"台灣好棋寶寶協會","alternateName":"Taiwan Good Go Baby Association","url":"https://www.weiqi.kids","logo":{"@type":"ImageObject","url":"https://www.weiqi.kids/img/logo.svg","width":200,"height":200},"sameAs":["https://mastodon.weiqi.kids/","https://peertube.weiqi.kids/"],"contactPoint":{"@type":"ContactPoint","contactType":"customer service","url":"https://www.weiqi.kids/docs/aboutus"},"description":"推動圍棋文化與 AI 研究的台灣非營利組織"},{"@type":"WebSite","@id":"https://www.weiqi.kids#website","name":"好棋寶寶協會官網","url":"https://www.weiqi.kids","publisher":{"@id":"https://www.weiqi.kids#organization"},"inLanguage":["zh-TW","zh-CN","zh-HK","en","ja","ko","es","pt","hi","id","ar"],"potentialAction":{"@type":"SearchAction","target":{"@type":"EntryPoint","urlTemplate":"https://www.weiqi.kids/search?q={search_term_string}"},"query-input":"required name=search_term_string"}}]}</script><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"AlphaGo","item":"https://www.weiqi.kids/ar/docs/alphago/"},{"@type":"ListItem","position":2,"name":"شرح مفصل لشبكة Policy","item":"https://www.weiqi.kids/ar/docs/alphago/policy-network"}]}</script><meta property="og:type" content="website">
<meta property="og:site_name" content="好棋寶寶協會">
<meta name="twitter:card" content="summary_large_image">
<meta name="robots" content="index, follow">
<meta name="author" content="台灣好棋寶寶協會">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/ar/assets/css/styles.fac9ec51.css">
<script src="/ar/assets/js/runtime~main.223a1bac.js" defer="defer"></script>
<script src="/ar/assets/js/main.794d7a6c.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>document.documentElement.setAttribute("data-theme","light"),document.documentElement.setAttribute("data-theme-choice","light"),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/ar/img/logo.svg"><div role="region" aria-label="انتقل إلى المحتوى الرئيسي"><a class="skipToContent_WWLT" href="#__docusaurus_skipToContent_fallback">انتقل إلى المحتوى الرئيسي</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/ar/"><div class="navbar__logo"><img src="/ar/img/logo.svg" alt="شعار جمعية ويكي كيدز" class="themedComponent_rBb5 themedComponent--light_t3c2"><img src="/ar/img/logo.svg" alt="شعار جمعية ويكي كيدز" class="themedComponent_rBb5 themedComponent--dark_Z76H"></div><b class="navbar__title text--truncate">ويكي كيدز</b></a><a class="navbar__item navbar__link" href="/ar/docs/learn/">تعلم غو</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/ar/docs/alphago/">AlphaGo</a><a class="navbar__item navbar__link" href="/ar/docs/animations/">استوديو الرسوم المتحركة</a><a class="navbar__item navbar__link" href="/ar/docs/tech/">الوثائق التقنية</a><a class="navbar__item navbar__link" href="/ar/docs/about/">من نحن</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link navbar__item--compact"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_LXmZ"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>العربية</a><ul class="dropdown__menu"><li><a href="/docs/alphago/policy-network/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh-tw">繁體中文</a></li><li><a href="/zh-cn/docs/alphago/policy-network/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh-cn">简体中文</a></li><li><a href="/zh-hk/docs/alphago/policy-network/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh-hk">粵語（香港）</a></li><li><a href="/en/docs/alphago/policy-network/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/ja/docs/alphago/policy-network/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ja">日本語</a></li><li><a href="/ko/docs/alphago/policy-network/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ko">한국어</a></li><li><a href="/es/docs/alphago/policy-network/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="es">Español</a></li><li><a href="/pt/docs/alphago/policy-network/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="pt">Português</a></li><li><a href="/hi/docs/alphago/policy-network/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="hi">हिन्दी</a></li><li><a href="/id/docs/alphago/policy-network/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="id">Bahasa Indonesia</a></li><li><a href="/ar/docs/alphago/policy-network/" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="ar">العربية</a></li></ul></div><a href="https://github.com/weiqi-kids/www.weiqi.kids" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link navbar__item--compact" aria-label="GitHub"></a><div class="navbarSearchContainer_MDM0"><div class="navbar__search searchBarContainer_Qpyg" dir="ltr"><input placeholder="بحث..." aria-label="Search" class="navbar__search-input searchInput_KBva" value=""><div class="loadingRing_riNO searchBarLoadingRing_XquT"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_SQvo"><div class="docsWrapper_HjTU"><button aria-label="أنتقل للأعلى" class="clean-btn theme-back-to-top-button backToTopButton_91RE" type="button"></button><div class="docRoot_SzOB"><aside class="theme-doc-sidebar-container docSidebarContainer_Q0cb"><div class="sidebarViewport_TEb6"><div class="sidebar_LiQ3"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_iDgU"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ar/docs/intro/"><span title="دليل الاستخدام" class="linkLabel_REp1">دليل الاستخدام</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_nItb menu__link menu__link--sublist menu__link--active" href="/ar/docs/alphago/"><span title="AlphaGo" class="categoryLinkLabel_ezQx">AlphaGo</span></a><button aria-label="Collapse sidebar category &#x27;AlphaGo&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ar/docs/alphago/birth-of-alphago/"><span title="ولادة AlphaGo" class="linkLabel_REp1">ولادة AlphaGo</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ar/docs/alphago/key-matches/"><span title="استعراض المباريات الرئيسية" class="linkLabel_REp1">استعراض المباريات الرئيسية</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ar/docs/alphago/move-37/"><span title="تحليل معمّق لـ &quot;الحركة الإلهية&quot;" class="linkLabel_REp1">تحليل معمّق لـ &quot;الحركة الإلهية&quot;</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ar/docs/alphago/why-go-is-hard/"><span title="لماذا الغو صعب؟" class="linkLabel_REp1">لماذا الغو صعب؟</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ar/docs/alphago/traditional-limits/"><span title="حدود الأساليب التقليدية" class="linkLabel_REp1">حدود الأساليب التقليدية</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ar/docs/alphago/board-representation/"><span title="تمثيل حالة اللوحة" class="linkLabel_REp1">تمثيل حالة اللوحة</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/ar/docs/alphago/policy-network/"><span title="شرح مفصل لشبكة Policy" class="linkLabel_REp1">شرح مفصل لشبكة Policy</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ar/docs/alphago/value-network/"><span title="شرح مفصل لشبكة Value" class="linkLabel_REp1">شرح مفصل لشبكة Value</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ar/docs/alphago/input-features/"><span title="تصميم ميزات المدخلات" class="linkLabel_REp1">تصميم ميزات المدخلات</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ar/docs/alphago/cnn-and-go/"><span title="الشبكات العصبية الالتفافية ولعبة الجو" class="linkLabel_REp1">الشبكات العصبية الالتفافية ولعبة الجو</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ar/docs/alphago/supervised-learning/"><span title="مرحلة التعلم الخاضع للإشراف" class="linkLabel_REp1">مرحلة التعلم الخاضع للإشراف</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ar/docs/alphago/reinforcement-intro/"><span title="مقدمة في التعلم المعزز" class="linkLabel_REp1">مقدمة في التعلم المعزز</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ar/docs/alphago/self-play/"><span title="اللعب الذاتي" class="linkLabel_REp1">اللعب الذاتي</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ar/docs/alphago/mcts-neural-combo/"><span title="دمج MCTS مع الشبكات العصبية" class="linkLabel_REp1">دمج MCTS مع الشبكات العصبية</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ar/docs/alphago/puct-formula/"><span title="شرح تفصيلي لمعادلة PUCT" class="linkLabel_REp1">شرح تفصيلي لمعادلة PUCT</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ar/docs/alphago/alphago-zero/"><span title="نظرة عامة على AlphaGo Zero" class="linkLabel_REp1">نظرة عامة على AlphaGo Zero</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ar/docs/alphago/dual-head-resnet/"><span title="الشبكة مزدوجة الرأس وشبكة الباقي" class="linkLabel_REp1">الشبكة مزدوجة الرأس وشبكة الباقي</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ar/docs/alphago/training-from-scratch/"><span title="عملية التدريب من الصفر" class="linkLabel_REp1">عملية التدريب من الصفر</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ar/docs/alphago/distributed-systems/"><span title="الأنظمة الموزعة و TPU" class="linkLabel_REp1">الأنظمة الموزعة و TPU</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ar/docs/alphago/legacy-and-impact/"><span title="إرث AlphaGo" class="linkLabel_REp1">إرث AlphaGo</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_nItb menu__link menu__link--sublist" href="/ar/docs/learn/"><span title="學圍棋" class="categoryLinkLabel_ezQx">學圍棋</span></a><button aria-label="Expand sidebar category &#x27;學圍棋&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ar/docs/animations/"><span title="動畫教室" class="linkLabel_REp1">動畫教室</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_nItb menu__link menu__link--sublist" href="/ar/docs/tech/"><span title="技術文件" class="categoryLinkLabel_ezQx">技術文件</span></a><button aria-label="Expand sidebar category &#x27;技術文件&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_nItb menu__link menu__link--sublist" href="/ar/docs/about/"><span title="關於我們" class="categoryLinkLabel_ezQx">關於我們</span></a><button aria-label="Expand sidebar category &#x27;關於我們&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_C0wL"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_txwF"><div class="docItemContainer_FUEM"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_DlgT" aria-label="التنقل التفصيلي"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="الرئيسية" class="breadcrumbs__link" href="/ar/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_BMIH"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/ar/docs/alphago/"><span>AlphaGo</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">شرح مفصل لشبكة Policy</span></li></ul></nav><div class="tocCollapsible_LBsY theme-doc-toc-mobile tocMobile_eMWB"><button type="button" class="clean-btn tocCollapsibleButton_fVBn">محتويات هذه الصفحة</button></div><div class="theme-doc-markdown markdown"><header><h1>شرح مفصل لشبكة Policy</h1></header>
<p>في أي وضع من أوضاع الغو، يبلغ متوسط الحركات المشروعة 250 حركة. إذا سمحنا للكمبيوتر بالاختيار عشوائياً، لن يتمكن أبداً من لعب حركات جيدة.</p>
<p>كان اختراق AlphaGo في أنه تعلم &quot;النظر إلى الرقعة ومعرفة المواقع التي تستحق النظر فيها&quot; بلمحة واحدة.</p>
<p>هذه القدرة تأتي من <strong>شبكة Policy (شبكة السياسة)</strong>.</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_l_sM" id="ما-هي-شبكة-policy">ما هي شبكة Policy؟<a href="#ما-هي-شبكة-policy" class="hash-link" aria-label="ارتباط مباشر بالعنوان ما هي شبكة Policy؟" title="ارتباط مباشر بالعنوان ما هي شبكة Policy؟" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_l_sM" id="الوظيفة-الأساسية">الوظيفة الأساسية<a href="#الوظيفة-الأساسية" class="hash-link" aria-label="ارتباط مباشر بالعنوان الوظيفة الأساسية" title="ارتباط مباشر بالعنوان الوظيفة الأساسية" translate="no">​</a></h3>
<p>شبكة Policy هي شبكة عصبية التفافية عميقة، مهمتها:</p>
<blockquote>
<p><strong>بالنظر إلى حالة الرقعة الحالية، إخراج احتمالية اللعب في كل موقع</strong></p>
</blockquote>
<p>بالتعبير الرياضي:</p>
<div class="language-text codeBlockContainer_huE5 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_oko_"><pre tabindex="0" class="prism-code language-text codeBlock_BBgU thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_t9f9"><span class="token-line" style="color:#393A34"><span class="token plain">p = f_θ(s)</span><br></span></code></pre></div></div>
<p>حيث:</p>
<ul>
<li class=""><code>s</code>: حالة الرقعة الحالية (رقعة 19×19 + ميزات أخرى)</li>
<li class=""><code>f_θ</code>: شبكة Policy (θ هي معاملات الشبكة)</li>
<li class=""><code>p</code>: توزيع احتمالي لـ 361 موقعاً (بما فيها التمرير)</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_l_sM" id="الفهم-البديهي">الفهم البديهي<a href="#الفهم-البديهي" class="hash-link" aria-label="ارتباط مباشر بالعنوان الفهم البديهي" title="ارتباط مباشر بالعنوان الفهم البديهي" translate="no">​</a></h3>
<p>تخيل أنك لاعب محترف. عندما ترى وضعاً ما، يقوم دماغك تلقائياً &quot;بإضاءة&quot; عدة مواقع مهمة — هذه هي النقاط التي تعتقد بديهياً أنها تستحق النظر.</p>
<p>شبكة Policy تحاكي هذه العملية بالضبط.</p>
<div>載入中...</div>
<p>تُظهر الخريطة الحرارية أعلاه مخرجات شبكة Policy. المواقع الأكثر سطوعاً هي التي يعتقد النموذج أنها تستحق اللعب فيها أكثر.</p>
<h3 class="anchor anchorTargetStickyNavbar_l_sM" id="لماذا-نحتاج-شبكة-policy">لماذا نحتاج شبكة Policy؟<a href="#لماذا-نحتاج-شبكة-policy" class="hash-link" aria-label="ارتباط مباشر بالعنوان لماذا نحتاج شبكة Policy؟" title="ارتباط مباشر بالعنوان لماذا نحتاج شبكة Policy؟" translate="no">​</a></h3>
<p>مساحة البحث في الغو كبيرة جداً. إذا بحثنا في جميع الحركات الممكنة بدون تصفية:</p>
<table><thead><tr><th>الاستراتيجية</th><th>الحركات المدروسة لكل خطوة</th><th>عقد البحث لـ 10 خطوات</th></tr></thead><tbody><tr><td>دراسة الكل</td><td>361</td><td>361^10 ≈ 10^25</td></tr><tr><td>تصفية شبكة Policy</td><td>~20</td><td>20^10 ≈ 10^13</td></tr></tbody></table>
<p>شبكة Policy تقلص مساحة البحث بـ <strong>10^12 مرة</strong> (تريليون مرة).</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_l_sM" id="معمارية-الشبكة">معمارية الشبكة<a href="#معمارية-الشبكة" class="hash-link" aria-label="ارتباط مباشر بالعنوان معمارية الشبكة" title="ارتباط مباشر بالعنوان معمارية الشبكة" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_l_sM" id="الهيكل-العام">الهيكل العام<a href="#الهيكل-العام" class="hash-link" aria-label="ارتباط مباشر بالعنوان الهيكل العام" title="ارتباط مباشر بالعنوان الهيكل العام" translate="no">​</a></h3>
<p>تعتمد شبكة Policy في AlphaGo على معمارية الشبكة العصبية الالتفافية العميقة (CNN):</p>
<div class="language-text codeBlockContainer_huE5 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_oko_"><pre tabindex="0" class="prism-code language-text codeBlock_BBgU thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_t9f9"><span class="token-line" style="color:#393A34"><span class="token plain">طبقة المدخلات → طبقات التفافية ×12 → طبقة التفاف المخرجات → Softmax</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ↓              ↓                    ↓              ↓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   19×19×48      19×19×192            19×19×1      362 احتمال</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_l_sM" id="طبقة-المدخلات">طبقة المدخلات<a href="#طبقة-المدخلات" class="hash-link" aria-label="ارتباط مباشر بالعنوان طبقة المدخلات" title="ارتباط مباشر بالعنوان طبقة المدخلات" translate="no">​</a></h3>
<p>المدخل هو موتر ميزات بحجم <strong>19×19×48</strong>:</p>
<ul>
<li class=""><strong>19×19</strong>: حجم الرقعة</li>
<li class=""><strong>48</strong>: 48 مستوى ميزات (راجع <a class="" href="/ar/docs/alphago/input-features/">تصميم ميزات المدخلات</a>)</li>
</ul>
<p>هذه الـ 48 مستوى تتضمن:</p>
<ul>
<li class="">مواقع الأسود، مواقع الأبيض</li>
<li class="">تاريخ آخر 8 حركات</li>
<li class="">ميزات الحريات، الأتاري، السلم</li>
<li class="">المشروعية (أي المواقع يمكن اللعب فيها)</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_l_sM" id="الطبقات-الالتفافية">الطبقات الالتفافية<a href="#الطبقات-الالتفافية" class="hash-link" aria-label="ارتباط مباشر بالعنوان الطبقات الالتفافية" title="ارتباط مباشر بالعنوان الطبقات الالتفافية" translate="no">​</a></h3>
<p>تحتوي الشبكة على <strong>12 طبقة التفافية</strong>، إعدادات كل طبقة:</p>
<table><thead><tr><th>المعامل</th><th>القيمة</th><th>الشرح</th></tr></thead><tbody><tr><td>عدد المرشحات</td><td>192</td><td>كل طبقة تُخرج 192 خريطة ميزات</td></tr><tr><td>حجم النواة</td><td>3×3 (الأولى 5×5)</td><td>ترى منطقة 3×3 كل مرة</td></tr><tr><td>طريقة الحشو</td><td>same</td><td>تحافظ على حجم 19×19</td></tr><tr><td>دالة التفعيل</td><td>ReLU</td><td>max(0, x)</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_l_sM" id="لماذا-192-مرشحاً">لماذا 192 مرشحاً؟<a href="#لماذا-192-مرشحاً" class="hash-link" aria-label="ارتباط مباشر بالعنوان لماذا 192 مرشحاً؟" title="ارتباط مباشر بالعنوان لماذا 192 مرشحاً؟" translate="no">​</a></h4>
<p>هذه قيمة تجريبية. قليل جداً يحد من سعة النموذج، كثير جداً يزيد الحسابات وخطر الإفراط في التعلم. حدد فريق DeepMind من خلال التجارب أن 192 هي نقطة توازن جيدة.</p>
<h4 class="anchor anchorTargetStickyNavbar_l_sM" id="لماذا-نواة-التفاف-33">لماذا نواة التفاف 3×3؟<a href="#لماذا-نواة-التفاف-33" class="hash-link" aria-label="ارتباط مباشر بالعنوان لماذا نواة التفاف 3×3؟" title="ارتباط مباشر بالعنوان لماذا نواة التفاف 3×3؟" translate="no">​</a></h4>
<p>3×3 هو الحجم الأكثر شيوعاً في الشبكات العصبية الالتفافية، الأسباب:</p>
<ol>
<li class=""><strong>كافية لالتقاط الأنماط المحلية</strong>: العين، الوصل، القطع في الغو كلها ضمن نطاق 3×3</li>
<li class=""><strong>كفاءة حسابية عالية</strong>: مقارنة بالنوى الكبيرة، 3×3 لها معاملات أقل</li>
<li class=""><strong>قابلة للتراكم</strong>: عدة طبقات 3×3 يمكنها تحقيق مجال استقبال كبير</li>
</ol>
<h4 class="anchor anchorTargetStickyNavbar_l_sM" id="لماذا-الطبقة-الأولى-تستخدم-55">لماذا الطبقة الأولى تستخدم 5×5؟<a href="#لماذا-الطبقة-الأولى-تستخدم-55" class="hash-link" aria-label="ارتباط مباشر بالعنوان لماذا الطبقة الأولى تستخدم 5×5؟" title="ارتباط مباشر بالعنوان لماذا الطبقة الأولى تستخدم 5×5؟" translate="no">​</a></h4>
<p>الطبقة الأولى تستخدم نواة 5×5 الأكبر لالتقاط أنماط بنطاق أوسع قليلاً من طبقة المدخلات (مثل الطيران الصغير، القفز). هذا خيار تصميمي، AlphaGo Zero اللاحق وحّد الاستخدام إلى 3×3.</p>
<h3 class="anchor anchorTargetStickyNavbar_l_sM" id="دالة-التفعيل-relu">دالة التفعيل ReLU<a href="#دالة-التفعيل-relu" class="hash-link" aria-label="ارتباط مباشر بالعنوان دالة التفعيل ReLU" title="ارتباط مباشر بالعنوان دالة التفعيل ReLU" translate="no">​</a></h3>
<p>بعد كل طبقة التفافية توجد دالة تفعيل ReLU (Rectified Linear Unit):</p>
<div class="language-text codeBlockContainer_huE5 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_oko_"><pre tabindex="0" class="prism-code language-text codeBlock_BBgU thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_t9f9"><span class="token-line" style="color:#393A34"><span class="token plain">ReLU(x) = max(0, x)</span><br></span></code></pre></div></div>
<p>لماذا نستخدم ReLU؟</p>
<ol>
<li class=""><strong>حسابات بسيطة</strong>: مجرد أخذ القيمة الأكبر، أسرع بكثير من sigmoid</li>
<li class=""><strong>تخفيف تلاشي التدرج</strong>: التدرج في المنطقة الموجبة دائماً 1</li>
<li class=""><strong>تفعيل متناثر</strong>: القيم السالبة تصبح صفراً، ينتج تمثيل متناثر</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_l_sM" id="طبقة-المخرجات">طبقة المخرجات<a href="#طبقة-المخرجات" class="hash-link" aria-label="ارتباط مباشر بالعنوان طبقة المخرجات" title="ارتباط مباشر بالعنوان طبقة المخرجات" translate="no">​</a></h3>
<p>الطبقة الأخيرة هي طبقة التفاف خاصة:</p>
<div class="language-text codeBlockContainer_huE5 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_oko_"><pre tabindex="0" class="prism-code language-text codeBlock_BBgU thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_t9f9"><span class="token-line" style="color:#393A34"><span class="token plain">19×19×192 → التفاف(1×1، مرشح واحد) → 19×19×1 → تسطيح → متجه 362 بُعد → Softmax</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_l_sM" id="التفاف-11">التفاف 1×1<a href="#التفاف-11" class="hash-link" aria-label="ارتباط مباشر بالعنوان التفاف 1×1" title="ارتباط مباشر بالعنوان التفاف 1×1" translate="no">​</a></h4>
<p>طبقة المخرجات تستخدم التفاف 1×1، لضغط 192 قناة إلى قناة واحدة. هذا يعادل تركيباً خطياً لميزات 192 بُعد لكل موقع.</p>
<h4 class="anchor anchorTargetStickyNavbar_l_sM" id="مخرجات-softmax">مخرجات Softmax<a href="#مخرجات-softmax" class="hash-link" aria-label="ارتباط مباشر بالعنوان مخرجات Softmax" title="ارتباط مباشر بالعنوان مخرجات Softmax" translate="no">​</a></h4>
<p>المتجه 362 بُعد (361 موقع على الرقعة + 1 تمرير) يمر عبر دالة Softmax:</p>
<div class="language-text codeBlockContainer_huE5 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_oko_"><pre tabindex="0" class="prism-code language-text codeBlock_BBgU thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_t9f9"><span class="token-line" style="color:#393A34"><span class="token plain">Softmax(z_i) = exp(z_i) / Σ_j exp(z_j)</span><br></span></code></pre></div></div>
<p>Softmax تضمن أن المخرجات توزيع احتمالي صحيح:</p>
<ul>
<li class="">جميع القيم بين 0 و 1</li>
<li class="">مجموع جميع القيم يساوي 1</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_l_sM" id="عدد-المعاملات">عدد المعاملات<a href="#عدد-المعاملات" class="hash-link" aria-label="ارتباط مباشر بالعنوان عدد المعاملات" title="ارتباط مباشر بالعنوان عدد المعاملات" translate="no">​</a></h3>
<p>لنحسب إجمالي معاملات الشبكة:</p>
<table><thead><tr><th>الطبقة</th><th>الحساب</th><th>عدد المعاملات</th></tr></thead><tbody><tr><td>طبقة الالتفاف الأولى</td><td>5×5×48×192 + 192</td><td>230,592</td></tr><tr><td>الطبقات الالتفافية الوسطى ×11</td><td>(3×3×192×192 + 192) × 11</td><td>3,633,792</td></tr><tr><td>طبقة التفاف المخرجات</td><td>1×1×192×1 + 1</td><td>193</td></tr><tr><td><strong>المجموع</strong></td><td></td><td><strong>~3.9M</strong></td></tr></tbody></table>
<p>حوالي <strong>3.9 مليون معامل</strong>، وهي شبكة صغيرة بمعايير اليوم.</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_l_sM" id="هدف-التدريب-والطرق">هدف التدريب والطرق<a href="#هدف-التدريب-والطرق" class="hash-link" aria-label="ارتباط مباشر بالعنوان هدف التدريب والطرق" title="ارتباط مباشر بالعنوان هدف التدريب والطرق" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_l_sM" id="بيانات-التدريب">بيانات التدريب<a href="#بيانات-التدريب" class="hash-link" aria-label="ارتباط مباشر بالعنوان بيانات التدريب" title="ارتباط مباشر بالعنوان بيانات التدريب" translate="no">​</a></h3>
<p>يتم تدريب شبكة Policy باستخدام <strong>التعلم الخاضع للإشراف</strong>، التعلم من سجلات المباريات البشرية.</p>
<p>مصادر البيانات:</p>
<ul>
<li class=""><strong>KGS Go Server</strong>: مباريات لاعبين هواة ومحترفين</li>
<li class=""><strong>حوالي 30 مليون وضع</strong>: مأخوذة من 160,000 مباراة</li>
<li class=""><strong>التسميات</strong>: الحركة التالية للإنسان لكل وضع</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_l_sM" id="دالة-خسارة-الإنتروبيا-المتقاطعة">دالة خسارة الإنتروبيا المتقاطعة<a href="#دالة-خسارة-الإنتروبيا-المتقاطعة" class="hash-link" aria-label="ارتباط مباشر بالعنوان دالة خسارة الإنتروبيا المتقاطعة" title="ارتباط مباشر بالعنوان دالة خسارة الإنتروبيا المتقاطعة" translate="no">​</a></h3>
<p>هدف التدريب هو تعظيم احتمال التنبؤ بحركة الإنسان. باستخدام دالة خسارة الإنتروبيا المتقاطعة:</p>
<div class="language-text codeBlockContainer_huE5 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_oko_"><pre tabindex="0" class="prism-code language-text codeBlock_BBgU thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_t9f9"><span class="token-line" style="color:#393A34"><span class="token plain">L(θ) = -Σ log p_θ(a | s)</span><br></span></code></pre></div></div>
<p>حيث:</p>
<ul>
<li class=""><code>s</code>: حالة الرقعة</li>
<li class=""><code>a</code>: الموقع الذي لعب فيه الإنسان فعلياً</li>
<li class=""><code>p_θ(a | s)</code>: احتمال تنبؤ النموذج لذلك الموقع</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_l_sM" id="الفهم-البديهي-1">الفهم البديهي<a href="#الفهم-البديهي-1" class="hash-link" aria-label="ارتباط مباشر بالعنوان الفهم البديهي" title="ارتباط مباشر بالعنوان الفهم البديهي" translate="no">​</a></h4>
<p>لخسارة الإنتروبيا المتقاطعة معنى بسيط:</p>
<blockquote>
<p><strong>كلما ارتفع احتمال تنبؤ النموذج بالموقع الصحيح، انخفضت الخسارة</strong></p>
</blockquote>
<p>إذا لعب الإنسان في K10، واحتمال النموذج لـ K10 هو:</p>
<ul>
<li class="">0.9 → الخسارة = -log(0.9) ≈ 0.1 (منخفضة جداً، جيد)</li>
<li class="">0.1 → الخسارة = -log(0.1) ≈ 2.3 (مرتفعة، سيء)</li>
<li class="">0.01 → الخسارة = -log(0.01) ≈ 4.6 (مرتفعة جداً، سيء جداً)</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_l_sM" id="عملية-التدريب">عملية التدريب<a href="#عملية-التدريب" class="hash-link" aria-label="ارتباط مباشر بالعنوان عملية التدريب" title="ارتباط مباشر بالعنوان عملية التدريب" translate="no">​</a></h3>
<div class="language-python codeBlockContainer_huE5 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_oko_"><pre tabindex="0" class="prism-code language-python codeBlock_BBgU thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_t9f9"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># كود زائف</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> epoch </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">num_epochs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> batch </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> dataloader</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        states</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> actions </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> batch</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># الانتشار الأمامي</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        policy </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> network</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">states</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># متجه احتمالات 361 بُعد</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># حساب الخسارة (الإنتروبيا المتقاطعة)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        loss </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> cross_entropy</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">policy</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> actions</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># الانتشار العكسي</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        loss</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">backward</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        optimizer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">step</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>تفاصيل التدريب:</p>
<ul>
<li class=""><strong>المُحسّن</strong>: SGD with momentum</li>
<li class=""><strong>معدل التعلم</strong>: ابتدائي 0.003، يتناقص تدريجياً</li>
<li class=""><strong>حجم الدفعة</strong>: 16</li>
<li class=""><strong>وقت التدريب</strong>: حوالي 3 أسابيع (50 GPU)</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_l_sM" id="زيادة-البيانات">زيادة البيانات<a href="#زيادة-البيانات" class="hash-link" aria-label="ارتباط مباشر بالعنوان زيادة البيانات" title="ارتباط مباشر بالعنوان زيادة البيانات" translate="no">​</a></h3>
<p>رقعة الغو لها 8 تناظرات (4 دورانات × 2 انعكاس). كل عينة تدريب يمكن تحويلها إلى 8 عينات متكافئة:</p>
<div class="language-text codeBlockContainer_huE5 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_oko_"><pre tabindex="0" class="prism-code language-text codeBlock_BBgU thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_t9f9"><span class="token-line" style="color:#393A34"><span class="token plain">الأصلي → دوران 90° → دوران 180° → دوران 270°</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   ↓        ↓            ↓             ↓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">قلب أفقي → ...</span><br></span></code></pre></div></div>
<p>هذا يزيد بيانات التدريب الفعالة 8 أضعاف، ويضمن أن الأنماط التي يتعلمها النموذج لا تعتمد على الاتجاه.</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_l_sM" id="نتائج-التدريب">نتائج التدريب<a href="#نتائج-التدريب" class="hash-link" aria-label="ارتباط مباشر بالعنوان نتائج التدريب" title="ارتباط مباشر بالعنوان نتائج التدريب" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_l_sM" id="دقة-57">دقة 57%<a href="#دقة-57" class="hash-link" aria-label="ارتباط مباشر بالعنوان دقة 57%" title="ارتباط مباشر بالعنوان دقة 57%" translate="no">​</a></h3>
<p>بعد التدريب، حققت شبكة Policy <strong>دقة top-1 بنسبة 57%</strong>.</p>
<p>هذا يعني: لأي وضع معطى، النموذج لديه فرصة 57% للتنبؤ بالحركة التي لعبها الخبير البشري فعلياً.</p>
<h4 class="anchor anchorTargetStickyNavbar_l_sM" id="هل-هذه-الدقة-عالية">هل هذه الدقة عالية؟<a href="#هل-هذه-الدقة-عالية" class="hash-link" aria-label="ارتباط مباشر بالعنوان هل هذه الدقة عالية؟" title="ارتباط مباشر بالعنوان هل هذه الدقة عالية؟" translate="no">​</a></h4>
<p>بالنظر إلى أن كل وضع لديه في المتوسط 250 حركة مشروعة، دقة التخمين العشوائي هي 0.4% فقط.</p>
<table><thead><tr><th>الطريقة</th><th>دقة Top-1</th></tr></thead><tbody><tr><td>التخمين العشوائي</td><td>0.4%</td></tr><tr><td>أقوى برنامج غو سابقاً</td><td>~44%</td></tr><tr><td>شبكة Policy في AlphaGo</td><td><strong>57%</strong></td></tr></tbody></table>
<p>تحسن 13 نقطة مئوية يبدو قليلاً، لكنه ذو أهمية كبيرة.</p>
<h3 class="anchor anchorTargetStickyNavbar_l_sM" id="تحسين-قوة-اللعب">تحسين قوة اللعب<a href="#تحسين-قوة-اللعب" class="hash-link" aria-label="ارتباط مباشر بالعنوان تحسين قوة اللعب" title="ارتباط مباشر بالعنوان تحسين قوة اللعب" translate="no">​</a></h3>
<p>ما مستوى اللعب الذي يمكن الوصول إليه باستخدام شبكة Policy فقط (بدون بحث)؟</p>
<table><thead><tr><th>الإعداد</th><th>تصنيف Elo</th><th>المستوى التقريبي</th></tr></thead><tbody><tr><td>أقوى برنامج سابقاً (Pachi)</td><td>2,500</td><td>هاوٍ 4-5 دان</td></tr><tr><td>شبكة Policy وحدها</td><td>2,800</td><td>هاوٍ 6-7 دان</td></tr><tr><td>+ MCTS 1600 محاكاة</td><td>3,200+</td><td>مستوى محترف</td></tr></tbody></table>
<p>شبكة Policy وحدها هي بالفعل هاوٍ عالي الدان، ومع إضافة MCTS تقفز إلى المستوى المحترف.</p>
<h3 class="anchor anchorTargetStickyNavbar_l_sM" id="لماذا-57-فقط">لماذا 57% فقط؟<a href="#لماذا-57-فقط" class="hash-link" aria-label="ارتباط مباشر بالعنوان لماذا 57% فقط؟" title="ارتباط مباشر بالعنوان لماذا 57% فقط؟" translate="no">​</a></h3>
<p>سجلات المباريات البشرية لها الخصائص التالية التي تحد الدقة:</p>
<h4 class="anchor anchorTargetStickyNavbar_l_sM" id="1-حركات-جيدة-متعددة">1. حركات جيدة متعددة<a href="#1-حركات-جيدة-متعددة" class="hash-link" aria-label="ارتباط مباشر بالعنوان 1. حركات جيدة متعددة" title="ارتباط مباشر بالعنوان 1. حركات جيدة متعددة" translate="no">​</a></h4>
<p>كثير من الأوضاع لها عدة حركات جيدة. مثلاً &quot;مقاربة الزاوية&quot; و&quot;الدفاع عن الزاوية&quot; قد يكونان كلاهما صحيحين. إذا اختار النموذج حركة جيدة أخرى، تُحتسب &quot;خطأ&quot;.</p>
<h4 class="anchor anchorTargetStickyNavbar_l_sM" id="2-اختلاف-الأساليب">2. اختلاف الأساليب<a href="#2-اختلاف-الأساليب" class="hash-link" aria-label="ارتباط مباشر بالعنوان 2. اختلاف الأساليب" title="ارتباط مباشر بالعنوان 2. اختلاف الأساليب" translate="no">​</a></h4>
<p>اللاعبون المختلفون لهم أساليب مختلفة. اللاعب العدواني واللاعب الحذر قد يلعبان بشكل مختلف في نفس الوضع. النموذج يتعلم الأسلوب &quot;المتوسط&quot;.</p>
<h4 class="anchor anchorTargetStickyNavbar_l_sM" id="3-البشر-يخطئون-أيضاً">3. البشر يخطئون أيضاً<a href="#3-البشر-يخطئون-أيضاً" class="hash-link" aria-label="ارتباط مباشر بالعنوان 3. البشر يخطئون أيضاً" title="ارتباط مباشر بالعنوان 3. البشر يخطئون أيضاً" translate="no">​</a></h4>
<p>بيانات KGS تتضمن مباريات لاعبين هواة، خياراتهم ليست بالضرورة الأفضل. من الطبيعي أن يتعلم النموذج بعض &quot;الأخطاء&quot;.</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_l_sM" id="الدور-في-mcts">الدور في MCTS<a href="#الدور-في-mcts" class="hash-link" aria-label="ارتباط مباشر بالعنوان الدور في MCTS" title="ارتباط مباشر بالعنوان الدور في MCTS" translate="no">​</a></h2>
<p>تلعب شبكة Policy دورين رئيسيين في MCTS الخاص بـ AlphaGo:</p>
<h3 class="anchor anchorTargetStickyNavbar_l_sM" id="1-توجيه-اتجاه-البحث">1. توجيه اتجاه البحث<a href="#1-توجيه-اتجاه-البحث" class="hash-link" aria-label="ارتباط مباشر بالعنوان 1. توجيه اتجاه البحث" title="ارتباط مباشر بالعنوان 1. توجيه اتجاه البحث" translate="no">​</a></h3>
<p>في مرحلة <strong>Selection</strong> من MCTS، يُستخدم ناتج شبكة Policy لحساب UCB (Upper Confidence Bound):</p>
<div class="language-text codeBlockContainer_huE5 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_oko_"><pre tabindex="0" class="prism-code language-text codeBlock_BBgU thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_t9f9"><span class="token-line" style="color:#393A34"><span class="token plain">UCB(s, a) = Q(s, a) + c_puct × P(s, a) × √(N(s)) / (1 + N(s, a))</span><br></span></code></pre></div></div>
<p>حيث <code>P(s, a)</code> هو الاحتمال الذي تعطيه شبكة Policy.</p>
<p>هذا يعني:</p>
<ul>
<li class=""><strong>الحركات ذات الاحتمال العالي تُستكشف أولاً</strong></li>
<li class=""><strong>الحركات ذات الاحتمال المنخفض لديها فرصة للاستكشاف أيضاً</strong> (بسبب حد الاستكشاف)</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_l_sM" id="2-الاحتمال-المسبق-لتوسيع-العقد">2. الاحتمال المسبق لتوسيع العقد<a href="#2-الاحتمال-المسبق-لتوسيع-العقد" class="hash-link" aria-label="ارتباط مباشر بالعنوان 2. الاحتمال المسبق لتوسيع العقد" title="ارتباط مباشر بالعنوان 2. الاحتمال المسبق لتوسيع العقد" translate="no">​</a></h3>
<p>عندما يوسع MCTS عقدة جديدة، توفر شبكة Policy <strong>الاحتمال المسبق</strong> لجميع العقد الفرعية.</p>
<div class="language-text codeBlockContainer_huE5 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_oko_"><pre tabindex="0" class="prism-code language-text codeBlock_BBgU thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_t9f9"><span class="token-line" style="color:#393A34"><span class="token plain">توسيع العقدة s:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  for each action a:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    child = Node()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    child.prior = policy_network(s)[a]  # الاحتمال المسبق</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    child.value = 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    child.visits = 0</span><br></span></code></pre></div></div>
<p>هذه الاحتمالات المسبقة تجعل MCTS &quot;يعرف&quot; أي العقد الفرعية تستحق الاستكشاف أكثر، حتى لو لم تُزَر بعد.</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_l_sM" id="النسخة-الخفيفة-مقابل-النسخة-الكاملة">النسخة الخفيفة مقابل النسخة الكاملة<a href="#النسخة-الخفيفة-مقابل-النسخة-الكاملة" class="hash-link" aria-label="ارتباط مباشر بالعنوان النسخة الخفيفة مقابل النسخة الكاملة" title="ارتباط مباشر بالعنوان النسخة الخفيفة مقابل النسخة الكاملة" translate="no">​</a></h2>
<p>في الواقع، AlphaGo لديه شبكتا Policy:</p>
<h3 class="anchor anchorTargetStickyNavbar_l_sM" id="النسخة-الكاملة-sl-policy-network">النسخة الكاملة (SL Policy Network)<a href="#النسخة-الكاملة-sl-policy-network" class="hash-link" aria-label="ارتباط مباشر بالعنوان النسخة الكاملة (SL Policy Network)" title="ارتباط مباشر بالعنوان النسخة الكاملة (SL Policy Network)" translate="no">​</a></h3>
<ul>
<li class=""><strong>المعمارية</strong>: 13 طبقة CNN، 192 مرشح</li>
<li class=""><strong>الدقة</strong>: 57%</li>
<li class=""><strong>وقت الاستدلال</strong>: حوالي 3 ميلي ثانية/وضع</li>
<li class=""><strong>الاستخدام</strong>: Selection و Expansion في MCTS</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_l_sM" id="النسخة-الخفيفة-rollout-policy-network">النسخة الخفيفة (Rollout Policy Network)<a href="#النسخة-الخفيفة-rollout-policy-network" class="hash-link" aria-label="ارتباط مباشر بالعنوان النسخة الخفيفة (Rollout Policy Network)" title="ارتباط مباشر بالعنوان النسخة الخفيفة (Rollout Policy Network)" translate="no">​</a></h3>
<ul>
<li class=""><strong>المعمارية</strong>: نموذج خطي + ميزات يدوية</li>
<li class=""><strong>الدقة</strong>: 24%</li>
<li class=""><strong>وقت الاستدلال</strong>: حوالي 2 ميكرو ثانية/وضع (أسرع 1500 مرة)</li>
<li class=""><strong>الاستخدام</strong>: المحاكاة السريعة (rollout)</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_l_sM" id="لماذا-نحتاج-النسخة-الخفيفة">لماذا نحتاج النسخة الخفيفة؟<a href="#لماذا-نحتاج-النسخة-الخفيفة" class="hash-link" aria-label="ارتباط مباشر بالعنوان لماذا نحتاج النسخة الخفيفة؟" title="ارتباط مباشر بالعنوان لماذا نحتاج النسخة الخفيفة؟" translate="no">​</a></h3>
<p>في مرحلة <strong>Simulation</strong> من MCTS، نحتاج للعب من العقدة الحالية حتى نهاية اللعبة، قد نحتاج للعب 100+ حركة. إذا استخدمنا النسخة الكاملة من شبكة Policy لكل حركة، سيكون بطيئاً جداً.</p>
<p>النسخة الخفيفة رغم أن دقتها 24% فقط، لكنها أسرع 1500 مرة. في rollout، السرعة أهم من الدقة.</p>
<h3 class="anchor anchorTargetStickyNavbar_l_sM" id="ميزات-النسخة-الخفيفة">ميزات النسخة الخفيفة<a href="#ميزات-النسخة-الخفيفة" class="hash-link" aria-label="ارتباط مباشر بالعنوان ميزات النسخة الخفيفة" title="ارتباط مباشر بالعنوان ميزات النسخة الخفيفة" translate="no">​</a></h3>
<p>النسخة الخفيفة تستخدم ميزات مصممة يدوياً، تتضمن:</p>
<table><thead><tr><th>نوع الميزة</th><th>أمثلة</th></tr></thead><tbody><tr><td>أنماط محلية</td><td>تكوين الأحجار في منطقة 3×3</td></tr><tr><td>ميزات شاملة</td><td>هل في الزاوية/الحافة، النقاط الكبيرة</td></tr><tr><td>ميزات تكتيكية</td><td>أتاري، سلم، استجابة</td></tr></tbody></table>
<p>هذه الميزات تُدخل في نموذج خطي (بدون طبقات مخفية)، سرعة الحساب عالية جداً.</p>
<h3 class="anchor anchorTargetStickyNavbar_l_sM" id="تحسين-alphago-zero">تحسين AlphaGo Zero<a href="#تحسين-alphago-zero" class="hash-link" aria-label="ارتباط مباشر بالعنوان تحسين AlphaGo Zero" title="ارتباط مباشر بالعنوان تحسين AlphaGo Zero" translate="no">​</a></h3>
<p>لاحقاً، AlphaGo Zero تخلى تماماً عن النسخة الخفيفة و rollout. يستخدم مباشرة شبكة Value لتقييم العقد الورقية، دون حاجة للمحاكاة السريعة. هذا تبسيط كبير.</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_l_sM" id="الضبط-بالتعلم-المعزز-rl-policy-network">الضبط بالتعلم المعزز (RL Policy Network)<a href="#الضبط-بالتعلم-المعزز-rl-policy-network" class="hash-link" aria-label="ارتباط مباشر بالعنوان الضبط بالتعلم المعزز (RL Policy Network)" title="ارتباط مباشر بالعنوان الضبط بالتعلم المعزز (RL Policy Network)" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_l_sM" id="قيود-التعلم-الخاضع-للإشراف">قيود التعلم الخاضع للإشراف<a href="#قيود-التعلم-الخاضع-للإشراف" class="hash-link" aria-label="ارتباط مباشر بالعنوان قيود التعلم الخاضع للإشراف" title="ارتباط مباشر بالعنوان قيود التعلم الخاضع للإشراف" translate="no">​</a></h3>
<p>شبكة Policy المدربة بالتعلم الخاضع للإشراف لها مشكلة جوهرية:</p>
<blockquote>
<p><strong>تتعلم &quot;تقليد البشر&quot;، وليس &quot;الفوز&quot;</strong></p>
</blockquote>
<p>هذا يعني أنها ستتعلم العادات السيئة للبشر، وستؤدي بشكل سيء في أوضاع لم يواجهها البشر من قبل.</p>
<h3 class="anchor anchorTargetStickyNavbar_l_sM" id="التعزيز-باللعب-الذاتي">التعزيز باللعب الذاتي<a href="#التعزيز-باللعب-الذاتي" class="hash-link" aria-label="ارتباط مباشر بالعنوان التعزيز باللعب الذاتي" title="ارتباط مباشر بالعنوان التعزيز باللعب الذاتي" translate="no">​</a></h3>
<p>حل DeepMind هو استخدام <strong>تدرج السياسة</strong> (Policy Gradient) للتعلم المعزز:</p>
<div class="language-text codeBlockContainer_huE5 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_oko_"><pre tabindex="0" class="prism-code language-text codeBlock_BBgU thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_t9f9"><span class="token-line" style="color:#393A34"><span class="token plain">1. جعل شبكة Policy تلعب ضد نفسها</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2. تسجيل جميع الحركات في كل مباراة</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3. تعديل المعاملات حسب النتيجة:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   - فوز → زيادة احتمال هذه الحركات</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   - خسارة → تقليل احتمال هذه الحركات</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_l_sM" id="خوارزمية-reinforce">خوارزمية REINFORCE<a href="#خوارزمية-reinforce" class="hash-link" aria-label="ارتباط مباشر بالعنوان خوارزمية REINFORCE" title="ارتباط مباشر بالعنوان خوارزمية REINFORCE" translate="no">​</a></h3>
<p>تُستخدم خوارزمية REINFORCE تحديداً:</p>
<div class="language-text codeBlockContainer_huE5 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_oko_"><pre tabindex="0" class="prism-code language-text codeBlock_BBgU thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_t9f9"><span class="token-line" style="color:#393A34"><span class="token plain">∇J(θ) = E[Σ_t ∇log π_θ(a_t | s_t) × z]</span><br></span></code></pre></div></div>
<p>حيث:</p>
<ul>
<li class=""><code>z</code>: نتيجة هذه المباراة (+1 فوز، -1 خسارة)</li>
<li class=""><code>π_θ(a_t | s_t)</code>: احتمال اختيار الإجراء <code>a_t</code> في الحالة <code>s_t</code></li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_l_sM" id="النتائج">النتائج<a href="#النتائج" class="hash-link" aria-label="ارتباط مباشر بالعنوان النتائج" title="ارتباط مباشر بالعنوان النتائج" translate="no">​</a></h3>
<p>بعد حوالي يوم واحد من تدريب اللعب الذاتي (1.28 مليون مباراة)، شبكة RL Policy:</p>
<table><thead><tr><th>المقياس</th><th>SL Policy</th><th>RL Policy</th></tr></thead><tbody><tr><td>ضد SL Policy</td><td>50%</td><td><strong>80%</strong></td></tr><tr><td>تحسين Elo</td><td>-</td><td>+100</td></tr></tbody></table>
<p>قد تنخفض الدقة قليلاً (لأنها لم تعد تقلد البشر تماماً)، لكن نسبة الفوز الفعلية تتحسن بشكل كبير.</p>
<h3 class="anchor anchorTargetStickyNavbar_l_sM" id="من-التقليد-إلى-الابتكار">من &quot;التقليد&quot; إلى &quot;الابتكار&quot;<a href="#من-التقليد-إلى-الابتكار" class="hash-link" aria-label="ارتباط مباشر بالعنوان من &quot;التقليد&quot; إلى &quot;الابتكار&quot;" title="ارتباط مباشر بالعنوان من &quot;التقليد&quot; إلى &quot;الابتكار&quot;" translate="no">​</a></h3>
<p>التعلم المعزز جعل شبكة Policy تتعلم بعض الحركات التي لم يفكر فيها البشر من قبل. هذه الحركات لم تظهر قط في بيانات التدريب، لكنها فعالة.</p>
<p>هذا هو السبب في أن AlphaGo يمكنه لعب &quot;الحركة الإلهية&quot; — لأنه غير مقيد بالخبرة البشرية.</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_l_sM" id="تحليل-مرئي">تحليل مرئي<a href="#تحليل-مرئي" class="hash-link" aria-label="ارتباط مباشر بالعنوان تحليل مرئي" title="ارتباط مباشر بالعنوان تحليل مرئي" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_l_sM" id="توزيع-الاحتمالات-في-أوضاع-مختلفة">توزيع الاحتمالات في أوضاع مختلفة<a href="#توزيع-الاحتمالات-في-أوضاع-مختلفة" class="hash-link" aria-label="ارتباط مباشر بالعنوان توزيع الاحتمالات في أوضاع مختلفة" title="ارتباط مباشر بالعنوان توزيع الاحتمالات في أوضاع مختلفة" translate="no">​</a></h3>
<p>لنرى مخرجات شبكة Policy في أوضاع مختلفة:</p>
<h4 class="anchor anchorTargetStickyNavbar_l_sM" id="الافتتاح-مرحلة-التخطيط">الافتتاح (مرحلة التخطيط)<a href="#الافتتاح-مرحلة-التخطيط" class="hash-link" aria-label="ارتباط مباشر بالعنوان الافتتاح (مرحلة التخطيط)" title="ارتباط مباشر بالعنوان الافتتاح (مرحلة التخطيط)" translate="no">​</a></h4>
<div>載入中...</div>
<p>في الافتتاح، الاحتمالات تتركز بشكل رئيسي في:</p>
<ul>
<li class="">الزوايا (احتلال الزوايا)</li>
<li class="">الحواف (مقاربة الزاوية، الدفاع عن الزاوية)</li>
<li class="">مواقع &quot;النقاط الكبيرة&quot;</li>
</ul>
<p>هذا يتوافق مع المبادئ الأساسية للغو: الزوايا ذهبية، الحواف فضية، الوسط عشب.</p>
<h4 class="anchor anchorTargetStickyNavbar_l_sM" id="وضع-القتال">وضع القتال<a href="#وضع-القتال" class="hash-link" aria-label="ارتباط مباشر بالعنوان وضع القتال" title="ارتباط مباشر بالعنوان وضع القتال" translate="no">​</a></h4>
<div>載入中...</div>
<p>أثناء القتال، الاحتمالات تتركز في:</p>
<ul>
<li class="">نقاط القطع الحرجة</li>
<li class="">أتاري، استجابة</li>
<li class="">صنع العين، تدمير العين</li>
</ul>
<p>هذا يُظهر أن النموذج تعلم التكتيكات المحلية.</p>
<h4 class="anchor anchorTargetStickyNavbar_l_sM" id="مرحلة-النهاية">مرحلة النهاية<a href="#مرحلة-النهاية" class="hash-link" aria-label="ارتباط مباشر بالعنوان مرحلة النهاية" title="ارتباط مباشر بالعنوان مرحلة النهاية" translate="no">​</a></h4>
<div>載入中...</div>
<p>في النهاية، الاحتمالات تتوزع على نقاط النهاية المختلفة، تحتاج حساب دقيق للنقاط.</p>
<h3 class="anchor anchorTargetStickyNavbar_l_sM" id="ماذا-تتعلم-الطبقات-المخفية">ماذا تتعلم الطبقات المخفية؟<a href="#ماذا-تتعلم-الطبقات-المخفية" class="hash-link" aria-label="ارتباط مباشر بالعنوان ماذا تتعلم الطبقات المخفية؟" title="ارتباط مباشر بالعنوان ماذا تتعلم الطبقات المخفية؟" translate="no">​</a></h3>
<p>من خلال تصور مخرجات الطبقات الالتفافية، يمكننا رؤية &quot;الميزات&quot; التي تعلمها النموذج:</p>
<ul>
<li class=""><strong>الطبقات الدنيا</strong>: أشكال أساسية (عين، نقطة قطع)</li>
<li class=""><strong>الطبقات الوسطى</strong>: أنماط تكتيكية (أتاري، سلم)</li>
<li class=""><strong>الطبقات العليا</strong>: مفاهيم شاملة (النفوذ، السماكة)</li>
</ul>
<p>هذا مشابه جداً للبنية الهرمية لإدراك البشر للغو.</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_l_sM" id="نقاط-التنفيذ">نقاط التنفيذ<a href="#نقاط-التنفيذ" class="hash-link" aria-label="ارتباط مباشر بالعنوان نقاط التنفيذ" title="ارتباط مباشر بالعنوان نقاط التنفيذ" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_l_sM" id="تنفيذ-pytorch">تنفيذ PyTorch<a href="#تنفيذ-pytorch" class="hash-link" aria-label="ارتباط مباشر بالعنوان تنفيذ PyTorch" title="ارتباط مباشر بالعنوان تنفيذ PyTorch" translate="no">​</a></h3>
<p>إليك تنفيذ مبسط لشبكة Policy:</p>
<div class="language-python codeBlockContainer_huE5 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_oko_"><pre tabindex="0" class="prism-code language-python codeBlock_BBgU thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_t9f9"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> torch</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> torch</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">nn </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> nn</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> torch</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">nn</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">functional </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> F</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">PolicyNetwork</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">nn</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Module</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">__init__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> input_channels</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">48</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> num_filters</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">192</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> num_layers</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">12</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token builtin">super</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">__init__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># طبقة الالتفاف الأولى (5×5)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">conv1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> nn</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Conv2d</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">input_channels</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> num_filters</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                               kernel_size</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> padding</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># الطبقات الالتفافية الوسطى (3×3)×11</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">conv_layers </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> nn</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ModuleList</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            nn</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Conv2d</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">num_filters</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> num_filters</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                     kernel_size</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> padding</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> _ </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">num_layers </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># طبقة التفاف المخرجات (1×1)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">conv_out </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> nn</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Conv2d</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">num_filters</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> kernel_size</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">forward</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> x</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># x: (batch, 48, 19, 19)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># الطبقة الأولى</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        x </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> F</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">relu</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">conv1</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">x</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># الطبقات الوسطى</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> conv </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">conv_layers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            x </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> F</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">relu</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">conv</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">x</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># طبقة المخرجات</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        x </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">conv_out</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">x</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># (batch, 1, 19, 19)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># تسطيح + Softmax</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        x </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> x</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">view</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">x</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">size</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># (batch, 361)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        x </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> F</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">softmax</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">x</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> dim</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> x</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_l_sM" id="حلقة-التدريب">حلقة التدريب<a href="#حلقة-التدريب" class="hash-link" aria-label="ارتباط مباشر بالعنوان حلقة التدريب" title="ارتباط مباشر بالعنوان حلقة التدريب" translate="no">​</a></h3>
<div class="language-python codeBlockContainer_huE5 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_oko_"><pre tabindex="0" class="prism-code language-python codeBlock_BBgU thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_t9f9"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">train_step</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">model</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> optimizer</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> states</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> actions</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    states: (batch, 48, 19, 19) - ميزات الرقعة</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    actions: (batch,) - الموقع الذي لعب فيه الإنسان (0-360)</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    &quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># الانتشار الأمامي</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    policy </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> model</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">states</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># (batch, 361)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># خسارة الإنتروبيا المتقاطعة</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    loss </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> F</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">cross_entropy</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        torch</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">policy </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1e-8</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># لمنع log(0)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        actions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># الانتشار العكسي</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    optimizer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">zero_grad</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    loss</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">backward</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    optimizer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">step</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># حساب الدقة</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    predictions </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> policy</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">argmax</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">dim</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    accuracy </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">predictions </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> actions</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">float</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mean</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> loss</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">item</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> accuracy</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">item</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_l_sM" id="ملاحظات-عند-الاستدلال">ملاحظات عند الاستدلال<a href="#ملاحظات-عند-الاستدلال" class="hash-link" aria-label="ارتباط مباشر بالعنوان ملاحظات عند الاستدلال" title="ارتباط مباشر بالعنوان ملاحظات عند الاستدلال" translate="no">​</a></h3>
<p>عند اللعب الفعلي، يجب الانتباه إلى:</p>
<ol>
<li class=""><strong>تصفية الحركات غير المشروعة</strong>: ضع احتمال المواقع غير المشروعة إلى 0، ثم أعد التطبيع</li>
<li class=""><strong>تعديل درجة الحرارة</strong>: يمكن استخدام معامل حرارة للتحكم في &quot;حدة&quot; توزيع الاحتمالات</li>
<li class=""><strong>استدلال دفعي</strong>: في MCTS يمكن معالجة عدة أوضاع دفعياً</li>
</ol>
<div class="language-python codeBlockContainer_huE5 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_oko_"><pre tabindex="0" class="prism-code language-python codeBlock_BBgU thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_t9f9"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">get_move_probabilities</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">model</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> state</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> legal_moves</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> temperature</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1.0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;الحصول على توزيع احتمالات الحركات المشروعة&quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    policy </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> model</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">state</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># (361,)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># الاحتفاظ بالحركات المشروعة فقط</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    mask </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> torch</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">zeros</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">361</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    mask</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">legal_moves</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    policy </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> policy </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> mask</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># تعديل درجة الحرارة</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> temperature </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1.0</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        policy </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> policy </span><span class="token operator" style="color:#393A34">**</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> temperature</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># إعادة التطبيع</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    policy </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> policy </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> policy</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">sum</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> policy</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_l_sM" id="الرسوم-المتحركة-المقابلة">الرسوم المتحركة المقابلة<a href="#الرسوم-المتحركة-المقابلة" class="hash-link" aria-label="ارتباط مباشر بالعنوان الرسوم المتحركة المقابلة" title="ارتباط مباشر بالعنوان الرسوم المتحركة المقابلة" translate="no">​</a></h2>
<p>المفاهيم الأساسية في هذه المقالة وأرقام الرسوم المتحركة المقابلة:</p>
<table><thead><tr><th>الرقم</th><th>المفهوم</th><th>المقابل الفيزيائي/الرياضي</th></tr></thead><tbody><tr><td>E1</td><td>شبكة Policy</td><td>مجال الاحتمالات</td></tr><tr><td>D9</td><td>استخراج ميزات CNN</td><td>استجابة المرشحات</td></tr><tr><td>D3</td><td>التعلم الخاضع للإشراف</td><td>تقدير الإمكانية القصوى</td></tr><tr><td>H4</td><td>تدرج السياسة</td><td>التحسين العشوائي</td></tr></tbody></table>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_l_sM" id="قراءات-إضافية">قراءات إضافية<a href="#قراءات-إضافية" class="hash-link" aria-label="ارتباط مباشر بالعنوان قراءات إضافية" title="ارتباط مباشر بالعنوان قراءات إضافية" translate="no">​</a></h2>
<ul>
<li class=""><strong>المقالة التالية</strong>: <a class="" href="/ar/docs/alphago/value-network/">شرح مفصل لشبكة Value</a> — كيف يقيّم AlphaGo الأوضاع</li>
<li class=""><strong>موضوع ذو صلة</strong>: <a class="" href="/ar/docs/alphago/input-features/">تصميم ميزات المدخلات</a> — شرح تفصيلي لـ 48 مستوى ميزات</li>
<li class=""><strong>تعمق في المبادئ</strong>: <a class="" href="/ar/docs/alphago/cnn-and-go/">دمج CNN مع الغو</a> — لماذا الشبكات العصبية الالتفافية مناسبة للرقعة</li>
</ul>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_l_sM" id="النقاط-الرئيسية">النقاط الرئيسية<a href="#النقاط-الرئيسية" class="hash-link" aria-label="ارتباط مباشر بالعنوان النقاط الرئيسية" title="ارتباط مباشر بالعنوان النقاط الرئيسية" translate="no">​</a></h2>
<ol>
<li class=""><strong>شبكة Policy هي مولد توزيع احتمالي</strong>: مدخلها الرقعة، مخرجها احتمالات 361 موقع</li>
<li class=""><strong>13 طبقة CNN + Softmax</strong>: التفاف عميق لاستخراج الميزات، Softmax لإخراج الاحتمالات</li>
<li class=""><strong>دقة 57%</strong>: تتفوق بكثير على برامج الغو السابقة</li>
<li class=""><strong>نسختان</strong>: النسخة الكاملة لقرارات MCTS، النسخة الخفيفة للمحاكاة السريعة</li>
<li class=""><strong>الضبط بالتعلم المعزز</strong>: التطور من &quot;تقليد البشر&quot; إلى &quot;السعي للفوز&quot;</li>
</ol>
<p>شبكة Policy هي &quot;الحدس&quot; في AlphaGo — تتيح للذكاء الاصطناعي التعرف بسرعة على الحركات التي تستحق الدراسة، تماماً مثل البشر.</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_l_sM" id="المراجع">المراجع<a href="#المراجع" class="hash-link" aria-label="ارتباط مباشر بالعنوان المراجع" title="ارتباط مباشر بالعنوان المراجع" translate="no">​</a></h2>
<ol>
<li class="">Silver, D., et al. (2016). &quot;Mastering the game of Go with deep neural networks and tree search.&quot; <em>Nature</em>, 529, 484-489.</li>
<li class="">Maddison, C. J., et al. (2014). &quot;Move Evaluation in Go Using Deep Convolutional Neural Networks.&quot; <em>arXiv:1412.6564</em>.</li>
<li class="">Sutton, R. S., &amp; Barto, A. G. (2018). <em>Reinforcement Learning: An Introduction</em>. MIT Press.</li>
<li class="">LeCun, Y., Bengio, Y., &amp; Hinton, G. (2015). &quot;Deep learning.&quot; <em>Nature</em>, 521, 436-444.</li>
</ol></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_YM8j"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/alphago/07-policy-network.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_hRvp" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>تعديل هذه الصفحة</a></div><div class="col lastUpdated_LNbR"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="صفحة التوثيق"><a class="pagination-nav__link pagination-nav__link--prev" href="/ar/docs/alphago/board-representation/"><div class="pagination-nav__sublabel">السابق</div><div class="pagination-nav__label">تمثيل حالة اللوحة</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/ar/docs/alphago/value-network/"><div class="pagination-nav__sublabel">التالي</div><div class="pagination-nav__label">شرح مفصل لشبكة Value</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_VU0O thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#ما-هي-شبكة-policy" class="table-of-contents__link toc-highlight">ما هي شبكة Policy؟</a><ul><li><a href="#الوظيفة-الأساسية" class="table-of-contents__link toc-highlight">الوظيفة الأساسية</a></li><li><a href="#الفهم-البديهي" class="table-of-contents__link toc-highlight">الفهم البديهي</a></li><li><a href="#لماذا-نحتاج-شبكة-policy" class="table-of-contents__link toc-highlight">لماذا نحتاج شبكة Policy؟</a></li></ul></li><li><a href="#معمارية-الشبكة" class="table-of-contents__link toc-highlight">معمارية الشبكة</a><ul><li><a href="#الهيكل-العام" class="table-of-contents__link toc-highlight">الهيكل العام</a></li><li><a href="#طبقة-المدخلات" class="table-of-contents__link toc-highlight">طبقة المدخلات</a></li><li><a href="#الطبقات-الالتفافية" class="table-of-contents__link toc-highlight">الطبقات الالتفافية</a></li><li><a href="#دالة-التفعيل-relu" class="table-of-contents__link toc-highlight">دالة التفعيل ReLU</a></li><li><a href="#طبقة-المخرجات" class="table-of-contents__link toc-highlight">طبقة المخرجات</a></li><li><a href="#عدد-المعاملات" class="table-of-contents__link toc-highlight">عدد المعاملات</a></li></ul></li><li><a href="#هدف-التدريب-والطرق" class="table-of-contents__link toc-highlight">هدف التدريب والطرق</a><ul><li><a href="#بيانات-التدريب" class="table-of-contents__link toc-highlight">بيانات التدريب</a></li><li><a href="#دالة-خسارة-الإنتروبيا-المتقاطعة" class="table-of-contents__link toc-highlight">دالة خسارة الإنتروبيا المتقاطعة</a></li><li><a href="#عملية-التدريب" class="table-of-contents__link toc-highlight">عملية التدريب</a></li><li><a href="#زيادة-البيانات" class="table-of-contents__link toc-highlight">زيادة البيانات</a></li></ul></li><li><a href="#نتائج-التدريب" class="table-of-contents__link toc-highlight">نتائج التدريب</a><ul><li><a href="#دقة-57" class="table-of-contents__link toc-highlight">دقة 57%</a></li><li><a href="#تحسين-قوة-اللعب" class="table-of-contents__link toc-highlight">تحسين قوة اللعب</a></li><li><a href="#لماذا-57-فقط" class="table-of-contents__link toc-highlight">لماذا 57% فقط؟</a></li></ul></li><li><a href="#الدور-في-mcts" class="table-of-contents__link toc-highlight">الدور في MCTS</a><ul><li><a href="#1-توجيه-اتجاه-البحث" class="table-of-contents__link toc-highlight">1. توجيه اتجاه البحث</a></li><li><a href="#2-الاحتمال-المسبق-لتوسيع-العقد" class="table-of-contents__link toc-highlight">2. الاحتمال المسبق لتوسيع العقد</a></li></ul></li><li><a href="#النسخة-الخفيفة-مقابل-النسخة-الكاملة" class="table-of-contents__link toc-highlight">النسخة الخفيفة مقابل النسخة الكاملة</a><ul><li><a href="#النسخة-الكاملة-sl-policy-network" class="table-of-contents__link toc-highlight">النسخة الكاملة (SL Policy Network)</a></li><li><a href="#النسخة-الخفيفة-rollout-policy-network" class="table-of-contents__link toc-highlight">النسخة الخفيفة (Rollout Policy Network)</a></li><li><a href="#لماذا-نحتاج-النسخة-الخفيفة" class="table-of-contents__link toc-highlight">لماذا نحتاج النسخة الخفيفة؟</a></li><li><a href="#ميزات-النسخة-الخفيفة" class="table-of-contents__link toc-highlight">ميزات النسخة الخفيفة</a></li><li><a href="#تحسين-alphago-zero" class="table-of-contents__link toc-highlight">تحسين AlphaGo Zero</a></li></ul></li><li><a href="#الضبط-بالتعلم-المعزز-rl-policy-network" class="table-of-contents__link toc-highlight">الضبط بالتعلم المعزز (RL Policy Network)</a><ul><li><a href="#قيود-التعلم-الخاضع-للإشراف" class="table-of-contents__link toc-highlight">قيود التعلم الخاضع للإشراف</a></li><li><a href="#التعزيز-باللعب-الذاتي" class="table-of-contents__link toc-highlight">التعزيز باللعب الذاتي</a></li><li><a href="#خوارزمية-reinforce" class="table-of-contents__link toc-highlight">خوارزمية REINFORCE</a></li><li><a href="#النتائج" class="table-of-contents__link toc-highlight">النتائج</a></li><li><a href="#من-التقليد-إلى-الابتكار" class="table-of-contents__link toc-highlight">من &quot;التقليد&quot; إلى &quot;الابتكار&quot;</a></li></ul></li><li><a href="#تحليل-مرئي" class="table-of-contents__link toc-highlight">تحليل مرئي</a><ul><li><a href="#توزيع-الاحتمالات-في-أوضاع-مختلفة" class="table-of-contents__link toc-highlight">توزيع الاحتمالات في أوضاع مختلفة</a></li><li><a href="#ماذا-تتعلم-الطبقات-المخفية" class="table-of-contents__link toc-highlight">ماذا تتعلم الطبقات المخفية؟</a></li></ul></li><li><a href="#نقاط-التنفيذ" class="table-of-contents__link toc-highlight">نقاط التنفيذ</a><ul><li><a href="#تنفيذ-pytorch" class="table-of-contents__link toc-highlight">تنفيذ PyTorch</a></li><li><a href="#حلقة-التدريب" class="table-of-contents__link toc-highlight">حلقة التدريب</a></li><li><a href="#ملاحظات-عند-الاستدلال" class="table-of-contents__link toc-highlight">ملاحظات عند الاستدلال</a></li></ul></li><li><a href="#الرسوم-المتحركة-المقابلة" class="table-of-contents__link toc-highlight">الرسوم المتحركة المقابلة</a></li><li><a href="#قراءات-إضافية" class="table-of-contents__link toc-highlight">قراءات إضافية</a></li><li><a href="#النقاط-الرئيسية" class="table-of-contents__link toc-highlight">النقاط الرئيسية</a></li><li><a href="#المراجع" class="table-of-contents__link toc-highlight">المراجع</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Weiqi.Kids. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>