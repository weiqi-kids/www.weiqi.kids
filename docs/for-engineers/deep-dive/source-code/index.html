<!doctype html>
<html lang="zh-tw" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-for-engineers/deep-dive/source-code" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">KataGo åŸå§‹ç¢¼å°è®€ | å¥½æ£‹å¯¶å¯¶å”æœƒ | Weiqi.Kids</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://www.weiqi.kids/img/social-card.png"><meta data-rh="true" name="twitter:image" content="https://www.weiqi.kids/img/social-card.png"><meta data-rh="true" property="og:url" content="https://www.weiqi.kids/docs/for-engineers/deep-dive/source-code/"><meta data-rh="true" property="og:locale" content="zh_tw"><meta data-rh="true" property="og:locale:alternate" content="zh_cn"><meta data-rh="true" property="og:locale:alternate" content="zh_hk"><meta data-rh="true" property="og:locale:alternate" content="en"><meta data-rh="true" property="og:locale:alternate" content="ja"><meta data-rh="true" property="og:locale:alternate" content="ko"><meta data-rh="true" property="og:locale:alternate" content="es"><meta data-rh="true" property="og:locale:alternate" content="pt"><meta data-rh="true" property="og:locale:alternate" content="hi"><meta data-rh="true" property="og:locale:alternate" content="id"><meta data-rh="true" property="og:locale:alternate" content="ar"><meta data-rh="true" name="docusaurus_locale" content="zh-tw"><meta data-rh="true" name="docsearch:language" content="zh-tw"><meta data-rh="true" name="keywords" content="åœæ£‹, Go, å¥½æ£‹å¯¶å¯¶, AI, KataGo, AlphaGo, åœæ£‹æ•™å­¸, åœæ£‹å…¥é–€"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="KataGo åŸå§‹ç¢¼å°è®€ | å¥½æ£‹å¯¶å¯¶å”æœƒ | Weiqi.Kids"><meta data-rh="true" name="description" content="KataGo ç¨‹å¼ç¢¼çµæ§‹ã€æ ¸å¿ƒæ¨¡çµ„èˆ‡æ¶æ§‹è¨­è¨ˆ"><meta data-rh="true" property="og:description" content="KataGo ç¨‹å¼ç¢¼çµæ§‹ã€æ ¸å¿ƒæ¨¡çµ„èˆ‡æ¶æ§‹è¨­è¨ˆ"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://www.weiqi.kids/docs/for-engineers/deep-dive/source-code/"><link data-rh="true" rel="alternate" href="https://www.weiqi.kids/docs/for-engineers/deep-dive/source-code/" hreflang="zh-tw"><link data-rh="true" rel="alternate" href="https://www.weiqi.kids/zh-cn/docs/for-engineers/deep-dive/source-code/" hreflang="zh-cn"><link data-rh="true" rel="alternate" href="https://www.weiqi.kids/zh-hk/docs/for-engineers/deep-dive/source-code/" hreflang="zh-hk"><link data-rh="true" rel="alternate" href="https://www.weiqi.kids/en/docs/for-engineers/deep-dive/source-code/" hreflang="en"><link data-rh="true" rel="alternate" href="https://www.weiqi.kids/ja/docs/for-engineers/deep-dive/source-code/" hreflang="ja"><link data-rh="true" rel="alternate" href="https://www.weiqi.kids/ko/docs/for-engineers/deep-dive/source-code/" hreflang="ko"><link data-rh="true" rel="alternate" href="https://www.weiqi.kids/es/docs/for-engineers/deep-dive/source-code/" hreflang="es"><link data-rh="true" rel="alternate" href="https://www.weiqi.kids/pt/docs/for-engineers/deep-dive/source-code/" hreflang="pt"><link data-rh="true" rel="alternate" href="https://www.weiqi.kids/hi/docs/for-engineers/deep-dive/source-code/" hreflang="hi"><link data-rh="true" rel="alternate" href="https://www.weiqi.kids/id/docs/for-engineers/deep-dive/source-code/" hreflang="id"><link data-rh="true" rel="alternate" href="https://www.weiqi.kids/ar/docs/for-engineers/deep-dive/source-code/" hreflang="ar"><link data-rh="true" rel="alternate" href="https://www.weiqi.kids/docs/for-engineers/deep-dive/source-code/" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@graph":[{"@type":"Organization","@id":"https://www.weiqi.kids#organization","name":"å°ç£å¥½æ£‹å¯¶å¯¶å”æœƒ","alternateName":"Taiwan Good Go Baby Association","url":"https://www.weiqi.kids","logo":{"@type":"ImageObject","url":"https://www.weiqi.kids/img/logo.svg","width":200,"height":200},"sameAs":["https://mastodon.weiqi.kids/","https://peertube.weiqi.kids/"],"contactPoint":{"@type":"ContactPoint","contactType":"customer service","url":"https://www.weiqi.kids/docs/aboutus"},"description":"æ¨å‹•åœæ£‹æ–‡åŒ–èˆ‡ AI ç ”ç©¶çš„å°ç£éç‡Ÿåˆ©çµ„ç¹”"},{"@type":"WebSite","@id":"https://www.weiqi.kids#website","name":"å¥½æ£‹å¯¶å¯¶å”æœƒå®˜ç¶²","url":"https://www.weiqi.kids","publisher":{"@id":"https://www.weiqi.kids#organization"},"inLanguage":["zh-TW","zh-CN","zh-HK","en","ja","ko","es","pt","hi","id","ar"],"potentialAction":{"@type":"SearchAction","target":{"@type":"EntryPoint","urlTemplate":"https://www.weiqi.kids/search?q={search_term_string}"},"query-input":"required name=search_term_string"}}]}</script><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"çµ¦å·¥ç¨‹å¸«çš„åœæ£‹ AI æŒ‡å—","item":"https://www.weiqi.kids/docs/for-engineers/"},{"@type":"ListItem","position":2,"name":"çµ¦æƒ³æ·±å…¥ç ”ç©¶çš„äºº","item":"https://www.weiqi.kids/docs/for-engineers/deep-dive/"},{"@type":"ListItem","position":3,"name":"KataGo åŸå§‹ç¢¼å°è®€","item":"https://www.weiqi.kids/docs/for-engineers/deep-dive/source-code"}]}</script><meta property="og:type" content="website">
<meta property="og:site_name" content="å¥½æ£‹å¯¶å¯¶å”æœƒ">
<meta name="twitter:card" content="summary_large_image">
<meta name="robots" content="index, follow">
<meta name="author" content="å°ç£å¥½æ£‹å¯¶å¯¶å”æœƒ">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.f23bf74b.css">
<script src="/assets/js/runtime~main.8112459a.js" defer="defer"></script>
<script src="/assets/js/main.05ef375d.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>document.documentElement.setAttribute("data-theme","light"),document.documentElement.setAttribute("data-theme-choice","light"),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/logo.svg"><div role="region" aria-label="è·³è‡³ä¸»è¦å†…å®¹"><a class="skipToContent_WWLT" href="#__docusaurus_skipToContent_fallback">è·³è‡³ä¸»è¦å†…å®¹</a></div><nav aria-label="ä¸»å°èˆª" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="åˆ‡æ›å°è¦½åˆ—" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="å¥½æ£‹å¯¶å¯¶å”æœƒæ¨™èªŒ" class="themedComponent_rBb5 themedComponent--light_t3c2"><img src="/img/logo.svg" alt="å¥½æ£‹å¯¶å¯¶å”æœƒæ¨™èªŒ" class="themedComponent_rBb5 themedComponent--dark_Z76H"></div><b class="navbar__title text--truncate">å¥½æ£‹å¯¶å¯¶</b></a><a class="navbar__item navbar__link" href="/docs/for-players/">çµ¦æ£‹å‹</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/for-engineers/">çµ¦å·¥ç¨‹å¸«</a><a class="navbar__item navbar__link" href="/docs/about/">é—œæ–¼å”æœƒ</a><a class="navbar__item navbar__link" href="/docs/activities/">æ´»å‹•å¯¦ç¸¾</a><a class="navbar__item navbar__link" href="/docs/references/">åƒè€ƒè³‡æ–™</a><a class="navbar__item navbar__link" href="/docs/sop/">æ¨™æº–ä½œæ¥­æµç¨‹</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link navbar__item--compact"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_LXmZ"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>ç¹é«”ä¸­æ–‡</a><ul class="dropdown__menu"><li><a href="/docs/for-engineers/deep-dive/source-code/" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="zh-tw">ç¹é«”ä¸­æ–‡</a></li><li><a href="/zh-cn/docs/for-engineers/deep-dive/source-code/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh-cn">ç®€ä½“ä¸­æ–‡</a></li><li><a href="/zh-hk/docs/for-engineers/deep-dive/source-code/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh-hk">ç²µèªï¼ˆé¦™æ¸¯ï¼‰</a></li><li><a href="/en/docs/for-engineers/deep-dive/source-code/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/ja/docs/for-engineers/deep-dive/source-code/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ja">æ—¥æœ¬èª</a></li><li><a href="/ko/docs/for-engineers/deep-dive/source-code/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ko">í•œêµ­ì–´</a></li><li><a href="/es/docs/for-engineers/deep-dive/source-code/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="es">EspaÃ±ol</a></li><li><a href="/pt/docs/for-engineers/deep-dive/source-code/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="pt">PortuguÃªs</a></li><li><a href="/hi/docs/for-engineers/deep-dive/source-code/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="hi">à¤¹à¤¿à¤¨à¥à¤¦à¥€</a></li><li><a href="/id/docs/for-engineers/deep-dive/source-code/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="id">Bahasa Indonesia</a></li><li><a href="/ar/docs/for-engineers/deep-dive/source-code/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ar">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</a></li></ul></div><a href="https://github.com/weiqi-kids/www.weiqi.kids" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link navbar__item--compact" aria-label="GitHub"></a><div class="navbarSearchContainer_MDM0"><div class="navbar__search searchBarContainer_Qpyg" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input searchInput_KBva" value=""><div class="loadingRing_riNO searchBarLoadingRing_XquT"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_SQvo"><div class="docsWrapper_HjTU"><button aria-label="å›åˆ°é ‚éƒ¨" class="clean-btn theme-back-to-top-button backToTopButton_91RE" type="button"></button><div class="docRoot_SzOB"><aside class="theme-doc-sidebar-container docSidebarContainer_Q0cb"><div class="sidebarViewport_TEb6"><div class="sidebar_LiQ3"><nav aria-label="æ–‡ä»¶å´é‚Šæ¬„" class="menu thin-scrollbar menu_iDgU"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro/"><span title="ä½¿ç”¨æŒ‡å—" class="linkLabel_REp1">ä½¿ç”¨æŒ‡å—</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_nItb menu__link menu__link--sublist" href="/docs/about/"><span title="é—œæ–¼å”æœƒ" class="categoryLinkLabel_ezQx">é—œæ–¼å”æœƒ</span></a><button aria-label="å±•é–‹å´é‚Šæ¬„åˆ†é¡ &#x27;é—œæ–¼å”æœƒ&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_nItb menu__link menu__link--sublist" href="/docs/activities/"><span title="æ´»å‹•å¯¦ç¸¾" class="categoryLinkLabel_ezQx">æ´»å‹•å¯¦ç¸¾</span></a><button aria-label="å±•é–‹å´é‚Šæ¬„åˆ†é¡ &#x27;æ´»å‹•å¯¦ç¸¾&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_nItb menu__link menu__link--sublist" href="/docs/for-players/"><span title="çµ¦åœæ£‹æ£‹å‹" class="categoryLinkLabel_ezQx">çµ¦åœæ£‹æ£‹å‹</span></a><button aria-label="å±•é–‹å´é‚Šæ¬„åˆ†é¡ &#x27;çµ¦åœæ£‹æ£‹å‹&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_nItb menu__link menu__link--sublist" href="/docs/references/"><span title="åƒè€ƒè³‡æ–™" class="categoryLinkLabel_ezQx">åƒè€ƒè³‡æ–™</span></a><button aria-label="å±•é–‹å´é‚Šæ¬„åˆ†é¡ &#x27;åƒè€ƒè³‡æ–™&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_nItb menu__link menu__link--sublist" href="/docs/sop/"><span title="æ¨™æº–ä½œæ¥­æµç¨‹" class="categoryLinkLabel_ezQx">æ¨™æº–ä½œæ¥­æµç¨‹</span></a><button aria-label="å±•é–‹å´é‚Šæ¬„åˆ†é¡ &#x27;æ¨™æº–ä½œæ¥­æµç¨‹&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_nItb menu__link menu__link--sublist menu__link--active" href="/docs/for-engineers/"><span title="çµ¦å·¥ç¨‹å¸«çš„åœæ£‹ AI æŒ‡å—" class="categoryLinkLabel_ezQx">çµ¦å·¥ç¨‹å¸«çš„åœæ£‹ AI æŒ‡å—</span></a><button aria-label="æ”¶èµ·å´é‚Šæ¬„åˆ†é¡ &#x27;çµ¦å·¥ç¨‹å¸«çš„åœæ£‹ AI æŒ‡å—&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_nItb menu__link menu__link--sublist menu__link--active" tabindex="0" href="/docs/for-engineers/deep-dive/"><span title="çµ¦æƒ³æ·±å…¥ç ”ç©¶çš„äºº" class="categoryLinkLabel_ezQx">çµ¦æƒ³æ·±å…¥ç ”ç©¶çš„äºº</span></a><button aria-label="æ”¶èµ·å´é‚Šæ¬„åˆ†é¡ &#x27;çµ¦æƒ³æ·±å…¥ç ”ç©¶çš„äºº&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/for-engineers/deep-dive/source-code/"><span title="KataGo åŸå§‹ç¢¼å°è®€" class="linkLabel_REp1">KataGo åŸå§‹ç¢¼å°è®€</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/for-engineers/deep-dive/training/"><span title="KataGo è¨“ç·´æ©Ÿåˆ¶è§£æ" class="linkLabel_REp1">KataGo è¨“ç·´æ©Ÿåˆ¶è§£æ</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/for-engineers/deep-dive/contributing/"><span title="åƒèˆ‡é–‹æºç¤¾ç¾¤" class="linkLabel_REp1">åƒèˆ‡é–‹æºç¤¾ç¾¤</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/for-engineers/deep-dive/neural-network/"><span title="ç¥ç¶“ç¶²è·¯æ¶æ§‹è©³è§£" class="linkLabel_REp1">ç¥ç¶“ç¶²è·¯æ¶æ§‹è©³è§£</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/for-engineers/deep-dive/mcts-implementation/"><span title="MCTS å¯¦ä½œç´°ç¯€" class="linkLabel_REp1">MCTS å¯¦ä½œç´°ç¯€</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/for-engineers/deep-dive/gpu-optimization/"><span title="GPU å¾Œç«¯èˆ‡å„ªåŒ–" class="linkLabel_REp1">GPU å¾Œç«¯èˆ‡å„ªåŒ–</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/for-engineers/deep-dive/distributed-training/"><span title="åˆ†æ•£å¼è¨“ç·´æ¶æ§‹" class="linkLabel_REp1">åˆ†æ•£å¼è¨“ç·´æ¶æ§‹</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/for-engineers/deep-dive/quantization-deploy/"><span title="æ¨¡å‹é‡åŒ–èˆ‡éƒ¨ç½²" class="linkLabel_REp1">æ¨¡å‹é‡åŒ–èˆ‡éƒ¨ç½²</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/for-engineers/deep-dive/evaluation/"><span title="è©•ä¼°èˆ‡åŸºæº–æ¸¬è©¦" class="linkLabel_REp1">è©•ä¼°èˆ‡åŸºæº–æ¸¬è©¦</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/for-engineers/deep-dive/custom-rules/"><span title="è‡ªè¨‚è¦å‰‡èˆ‡è®Šé«”" class="linkLabel_REp1">è‡ªè¨‚è¦å‰‡èˆ‡è®Šé«”</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/for-engineers/deep-dive/papers/"><span title="é—œéµè«–æ–‡å°è®€" class="linkLabel_REp1">é—œéµè«–æ–‡å°è®€</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/for-engineers/deep-dive/build-from-scratch/"><span title="å¾é›¶æ‰“é€ åœæ£‹ AI" class="linkLabel_REp1">å¾é›¶æ‰“é€ åœæ£‹ AI</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_nItb menu__link menu__link--sublist" tabindex="0" href="/docs/for-engineers/hands-on/"><span title="30 åˆ†é˜è·‘èµ·ç¬¬ä¸€å€‹åœæ£‹ AI" class="categoryLinkLabel_ezQx">30 åˆ†é˜è·‘èµ·ç¬¬ä¸€å€‹åœæ£‹ AI</span></a><button aria-label="å±•é–‹å´é‚Šæ¬„åˆ†é¡ &#x27;30 åˆ†é˜è·‘èµ·ç¬¬ä¸€å€‹åœæ£‹ AI&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_nItb menu__link menu__link--sublist" tabindex="0" href="/docs/for-engineers/how-it-works/"><span title="ä¸€ç¯‡æ–‡ç« ææ‡‚åœæ£‹ AI" class="categoryLinkLabel_ezQx">ä¸€ç¯‡æ–‡ç« ææ‡‚åœæ£‹ AI</span></a><button aria-label="å±•é–‹å´é‚Šæ¬„åˆ†é¡ &#x27;ä¸€ç¯‡æ–‡ç« ææ‡‚åœæ£‹ AI&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_nItb menu__link menu__link--sublist" tabindex="0" href="/docs/for-engineers/industry/"><span title="åœæ£‹ AI ç”¢æ¥­ç¾æ³" class="categoryLinkLabel_ezQx">åœæ£‹ AI ç”¢æ¥­ç¾æ³</span></a><button aria-label="å±•é–‹å´é‚Šæ¬„åˆ†é¡ &#x27;åœæ£‹ AI ç”¢æ¥­ç¾æ³&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_nItb menu__link menu__link--sublist" tabindex="0" href="/docs/for-engineers/overview/"><span title="åœæ£‹ AI èƒ½åšä»€éº¼ï¼Ÿ" class="categoryLinkLabel_ezQx">åœæ£‹ AI èƒ½åšä»€éº¼ï¼Ÿ</span></a><button aria-label="å±•é–‹å´é‚Šæ¬„åˆ†é¡ &#x27;åœæ£‹ AI èƒ½åšä»€éº¼ï¼Ÿ&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_C0wL"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_txwF"><div class="docItemContainer_FUEM"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_DlgT" aria-label="é é¢è·¯å¾‘"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="ä¸»é é¢" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_BMIH"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/for-engineers/"><span>çµ¦å·¥ç¨‹å¸«çš„åœæ£‹ AI æŒ‡å—</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/for-engineers/deep-dive/"><span>çµ¦æƒ³æ·±å…¥ç ”ç©¶çš„äºº</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">KataGo åŸå§‹ç¢¼å°è®€</span></li></ul></nav><div class="tocCollapsible_LBsY theme-doc-toc-mobile tocMobile_eMWB"><button type="button" class="clean-btn tocCollapsibleButton_fVBn">æœ¬é å°è¦½</button></div><div class="theme-doc-markdown markdown"><header><h1>KataGo åŸå§‹ç¢¼å°è®€</h1></header>
<p>æœ¬æ–‡å¸¶ä½ äº†è§£ KataGo çš„ç¨‹å¼ç¢¼çµæ§‹ï¼Œé©åˆæƒ³æ·±å…¥ç ”ç©¶æˆ–è²¢ç»ç¨‹å¼ç¢¼çš„å·¥ç¨‹å¸«ã€‚</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_l_sM" id="å–å¾—åŸå§‹ç¢¼">å–å¾—åŸå§‹ç¢¼<a href="#å–å¾—åŸå§‹ç¢¼" class="hash-link" aria-label="å–å¾—åŸå§‹ç¢¼çš„ç›´æ¥é€£çµ" title="å–å¾—åŸå§‹ç¢¼çš„ç›´æ¥é€£çµ" translate="no">â€‹</a></h2>
<div class="language-bash codeBlockContainer_huE5 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_oko_"><pre tabindex="0" class="prism-code language-bash codeBlock_BBgU thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_t9f9"><span class="token-line" style="color:#393A34"><span class="token plain">git clone https://github.com/lightvector/KataGo.git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd KataGo</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_l_sM" id="ç›®éŒ„çµæ§‹">ç›®éŒ„çµæ§‹<a href="#ç›®éŒ„çµæ§‹" class="hash-link" aria-label="ç›®éŒ„çµæ§‹çš„ç›´æ¥é€£çµ" title="ç›®éŒ„çµæ§‹çš„ç›´æ¥é€£çµ" translate="no">â€‹</a></h2>
<div class="language-text codeBlockContainer_huE5 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_oko_"><pre tabindex="0" class="prism-code language-text codeBlock_BBgU thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_t9f9"><span class="token-line" style="color:#393A34"><span class="token plain">KataGo/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€ cpp/                    # C++ æ ¸å¿ƒå¼•æ“</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”œâ”€â”€ main.cpp            # ä¸»ç¨‹å¼å…¥å£</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”œâ”€â”€ command/            # æŒ‡ä»¤è™•ç†</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”œâ”€â”€ core/               # æ ¸å¿ƒå·¥å…·</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”œâ”€â”€ game/               # åœæ£‹è¦å‰‡</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”œâ”€â”€ search/             # MCTS æœç´¢</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”œâ”€â”€ neuralnet/          # ç¥ç¶“ç¶²è·¯æ¨ç†</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”œâ”€â”€ dataio/             # è³‡æ–™ I/O</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â””â”€â”€ tests/              # å–®å…ƒæ¸¬è©¦</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€ python/                 # Python è¨“ç·´ç¨‹å¼ç¢¼</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”œâ”€â”€ train.py            # è¨“ç·´ä¸»ç¨‹å¼</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”œâ”€â”€ model.py            # ç¶²è·¯æ¶æ§‹å®šç¾©</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”œâ”€â”€ data/               # è³‡æ–™è™•ç†</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â””â”€â”€ configs/            # è¨“ç·´è¨­å®š</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">â””â”€â”€ docs/                   # æ–‡ä»¶</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_l_sM" id="æ ¸å¿ƒæ¨¡çµ„è§£æ">æ ¸å¿ƒæ¨¡çµ„è§£æ<a href="#æ ¸å¿ƒæ¨¡çµ„è§£æ" class="hash-link" aria-label="æ ¸å¿ƒæ¨¡çµ„è§£æçš„ç›´æ¥é€£çµ" title="æ ¸å¿ƒæ¨¡çµ„è§£æçš„ç›´æ¥é€£çµ" translate="no">â€‹</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_l_sM" id="1-game--åœæ£‹è¦å‰‡">1. game/ â€” åœæ£‹è¦å‰‡<a href="#1-game--åœæ£‹è¦å‰‡" class="hash-link" aria-label="1. game/ â€” åœæ£‹è¦å‰‡çš„ç›´æ¥é€£çµ" title="1. game/ â€” åœæ£‹è¦å‰‡çš„ç›´æ¥é€£çµ" translate="no">â€‹</a></h3>
<p>åœæ£‹è¦å‰‡çš„å®Œæ•´å¯¦ä½œã€‚</p>
<h4 class="anchor anchorTargetStickyNavbar_l_sM" id="boardh--boardcpp">board.h / board.cpp<a href="#boardh--boardcpp" class="hash-link" aria-label="board.h / board.cppçš„ç›´æ¥é€£çµ" title="board.h / board.cppçš„ç›´æ¥é€£çµ" translate="no">â€‹</a></h4>
<div class="language-cpp codeBlockContainer_huE5 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_oko_"><pre tabindex="0" class="prism-code language-cpp codeBlock_BBgU thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_t9f9"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// æ£‹ç›¤ç‹€æ…‹è¡¨ç¤º</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Board</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">public</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">static</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">constexpr</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> MAX_BOARD_SIZE </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">19</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// æ£‹ç›¤ç‹€æ…‹</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Color colors</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">MAX_ARR_SIZE</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// æ¯å€‹ä½ç½®çš„é¡è‰²</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Chain chains</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">MAX_ARR_SIZE</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// æ£‹ä¸²è³‡è¨Š</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// æ ¸å¿ƒæ“ä½œ</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">playMove</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Loc loc</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Player pla</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// ä¸‹ä¸€æ­¥æ£‹</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">isLegal</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Loc loc</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Player pla</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic">// åˆ¤æ–·åˆæ³•æ€§</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">calculateArea</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Color</span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> area</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// è¨ˆç®—é ˜åœ°</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p><strong>å‹•ç•«å°æ‡‰</strong>ï¼š</p>
<ul>
<li class="">ğŸ¬ A2 æ™¶æ ¼æ¨¡å‹ï¼šæ£‹ç›¤çš„è³‡æ–™çµæ§‹</li>
<li class="">ğŸ¬ A6 é€£é€šå€åŸŸï¼šæ£‹ä¸²ï¼ˆChainï¼‰çš„è¡¨ç¤º</li>
<li class="">ğŸ¬ A7 æ°£çš„è¨ˆç®—ï¼šliberty çš„è¿½è¹¤</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_l_sM" id="rulesh--rulescpp">rules.h / rules.cpp<a href="#rulesh--rulescpp" class="hash-link" aria-label="rules.h / rules.cppçš„ç›´æ¥é€£çµ" title="rules.h / rules.cppçš„ç›´æ¥é€£çµ" translate="no">â€‹</a></h4>
<div class="language-cpp codeBlockContainer_huE5 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_oko_"><pre tabindex="0" class="prism-code language-cpp codeBlock_BBgU thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_t9f9"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// å¤šè¦å‰‡æ”¯æ´</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">Rules</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">enum</span><span class="token plain"> </span><span class="token class-name">KoRule</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> SIMPLE_KO</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> POSITIONAL_KO</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> SITUATIONAL_KO </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">enum</span><span class="token plain"> </span><span class="token class-name">ScoringRule</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> TERRITORY_SCORING</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> AREA_SCORING </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">enum</span><span class="token plain"> </span><span class="token class-name">TaxRule</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> NO_TAX</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> TAX_SEKI</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> TAX_ALL </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    KoRule koRule</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ScoringRule scoringRule</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    TaxRule taxRule</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">float</span><span class="token plain"> komi</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// è¦å‰‡åç¨±å°æ‡‰</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">static</span><span class="token plain"> Rules </span><span class="token function" style="color:#d73a49">parseRules</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">string</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> name</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>æ”¯æ´çš„è¦å‰‡ï¼š</p>
<ul>
<li class=""><code>chinese</code>ï¼šä¸­åœ‹è¦å‰‡ï¼ˆæ•¸å­ï¼‰</li>
<li class=""><code>japanese</code>ï¼šæ—¥æœ¬è¦å‰‡ï¼ˆæ•¸ç›®ï¼‰</li>
<li class=""><code>korean</code>ï¼šéŸ“åœ‹è¦å‰‡</li>
<li class=""><code>aga</code>ï¼šç¾åœ‹è¦å‰‡</li>
<li class=""><code>tromp-taylor</code>ï¼šTromp-Taylor è¦å‰‡</li>
</ul>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_l_sM" id="2-search--mcts-æœç´¢">2. search/ â€” MCTS æœç´¢<a href="#2-search--mcts-æœç´¢" class="hash-link" aria-label="2. search/ â€” MCTS æœç´¢çš„ç›´æ¥é€£çµ" title="2. search/ â€” MCTS æœç´¢çš„ç›´æ¥é€£çµ" translate="no">â€‹</a></h3>
<p>è’™åœ°å¡ç¾…æ¨¹æœç´¢çš„å¯¦ä½œã€‚</p>
<h4 class="anchor anchorTargetStickyNavbar_l_sM" id="searchh--searchcpp">search.h / search.cpp<a href="#searchh--searchcpp" class="hash-link" aria-label="search.h / search.cppçš„ç›´æ¥é€£çµ" title="search.h / search.cppçš„ç›´æ¥é€£çµ" translate="no">â€‹</a></h4>
<div class="language-cpp codeBlockContainer_huE5 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_oko_"><pre tabindex="0" class="prism-code language-cpp codeBlock_BBgU thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_t9f9"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Search</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">public</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// æ ¸å¿ƒæœç´¢</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">runWholeSearch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Player pla</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// MCTS æ­¥é©Ÿ</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">selectNode</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">           </span><span class="token comment" style="color:#999988;font-style:italic">// é¸æ“‡ç¯€é»</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">expandNode</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">           </span><span class="token comment" style="color:#999988;font-style:italic">// æ“´å±•ç¯€é»</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">evaluateNode</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">         </span><span class="token comment" style="color:#999988;font-style:italic">// ç¥ç¶“ç¶²è·¯è©•ä¼°</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">backpropValue</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// å›å‚³æ›´æ–°</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// çµæœå–å¾—</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Loc </span><span class="token function" style="color:#d73a49">getChosenMove</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">vector</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">MoveInfo</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">getSortedMoveInfos</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p><strong>å‹•ç•«å°æ‡‰</strong>ï¼š</p>
<ul>
<li class="">ğŸ¬ C5 MCTS å››æ­¥é©Ÿï¼šå°æ‡‰ select â†’ expand â†’ evaluate â†’ backprop</li>
<li class="">ğŸ¬ E4 PUCT å…¬å¼ï¼šåœ¨ <code>selectNode()</code> ä¸­å¯¦ä½œ</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_l_sM" id="searchparamsh">searchparams.h<a href="#searchparamsh" class="hash-link" aria-label="searchparams.hçš„ç›´æ¥é€£çµ" title="searchparams.hçš„ç›´æ¥é€£çµ" translate="no">â€‹</a></h4>
<div class="language-cpp codeBlockContainer_huE5 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_oko_"><pre tabindex="0" class="prism-code language-cpp codeBlock_BBgU thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_t9f9"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">SearchParams</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// æœç´¢æ§åˆ¶</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int64_t</span><span class="token plain"> maxVisits</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">          </span><span class="token comment" style="color:#999988;font-style:italic">// æœ€å¤§è¨ªå•æ¬¡æ•¸</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> maxTime</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">             </span><span class="token comment" style="color:#999988;font-style:italic">// æœ€å¤§æ™‚é–“</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// PUCT åƒæ•¸</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> cpuctExploration</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// æ¢ç´¢å¸¸æ•¸</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> cpuctBase</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// è™›æ“¬æå¤±</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> virtualLoss</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// æ ¹ç¯€é»é›œè¨Š</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> rootNoiseEnabled</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> rootDirichletAlpha</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_l_sM" id="3-neuralnet--ç¥ç¶“ç¶²è·¯æ¨ç†">3. neuralnet/ â€” ç¥ç¶“ç¶²è·¯æ¨ç†<a href="#3-neuralnet--ç¥ç¶“ç¶²è·¯æ¨ç†" class="hash-link" aria-label="3. neuralnet/ â€” ç¥ç¶“ç¶²è·¯æ¨ç†çš„ç›´æ¥é€£çµ" title="3. neuralnet/ â€” ç¥ç¶“ç¶²è·¯æ¨ç†çš„ç›´æ¥é€£çµ" translate="no">â€‹</a></h3>
<p>ç¥ç¶“ç¶²è·¯çš„æ¨ç†å¼•æ“ã€‚</p>
<h4 class="anchor anchorTargetStickyNavbar_l_sM" id="nninputsh--nninputscpp">nninputs.h / nninputs.cpp<a href="#nninputsh--nninputscpp" class="hash-link" aria-label="nninputs.h / nninputs.cppçš„ç›´æ¥é€£çµ" title="nninputs.h / nninputs.cppçš„ç›´æ¥é€£çµ" translate="no">â€‹</a></h4>
<div class="language-cpp codeBlockContainer_huE5 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_oko_"><pre tabindex="0" class="prism-code language-cpp codeBlock_BBgU thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_t9f9"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// ç¥ç¶“ç¶²è·¯è¼¸å…¥ç‰¹å¾µ</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">NNInputs</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">public</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// ç‰¹å¾µå¹³é¢</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">static</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">constexpr</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> NUM_FEATURES </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">22</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// å¡«å……ç‰¹å¾µ</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">static</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">fillFeatures</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> Board</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> board</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> BoardHistory</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> hist</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">float</span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> features</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>è¼¸å…¥ç‰¹å¾µåŒ…æ‹¬ï¼š</p>
<ul>
<li class="">é»‘å­ä½ç½®ã€ç™½å­ä½ç½®</li>
<li class="">æ°£æ•¸ï¼ˆ1, 2, 3+ï¼‰</li>
<li class="">æ­·å²æ£‹æ­¥</li>
<li class="">è¦å‰‡ç·¨ç¢¼</li>
</ul>
<p><strong>å‹•ç•«å°æ‡‰</strong>ï¼š</p>
<ul>
<li class="">ğŸ¬ A10 æ­·å²å †ç–Šï¼šå¤šå¹€è¼¸å…¥</li>
<li class="">ğŸ¬ A11 åˆæ³•æ‰‹é®ç½©ï¼šç¦æ‰‹éæ¿¾</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_l_sM" id="nnevalh--nnevalcpp">nneval.h / nneval.cpp<a href="#nnevalh--nnevalcpp" class="hash-link" aria-label="nneval.h / nneval.cppçš„ç›´æ¥é€£çµ" title="nneval.h / nneval.cppçš„ç›´æ¥é€£çµ" translate="no">â€‹</a></h4>
<div class="language-cpp codeBlockContainer_huE5 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_oko_"><pre tabindex="0" class="prism-code language-cpp codeBlock_BBgU thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_t9f9"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// ç¥ç¶“ç¶²è·¯è©•ä¼°çµæœ</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">NNOutput</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Policy è¼¸å‡ºï¼ˆ362 å€‹ä½ç½®ï¼Œå« passï¼‰</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">float</span><span class="token plain"> policyProbs</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">NNPos</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">MAX_NN_POLICY_SIZE</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Value è¼¸å‡º</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">float</span><span class="token plain"> winProb</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">       </span><span class="token comment" style="color:#999988;font-style:italic">// å‹ç‡</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">float</span><span class="token plain"> lossProb</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// æ•—ç‡</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">float</span><span class="token plain"> noResultProb</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// å’Œæ£‹ç‡</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// è¼”åŠ©è¼¸å‡º</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">float</span><span class="token plain"> scoreMean</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">     </span><span class="token comment" style="color:#999988;font-style:italic">// ç›®æ•¸é æ¸¬</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">float</span><span class="token plain"> scoreStdev</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// ç›®æ•¸æ¨™æº–å·®</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">float</span><span class="token plain"> lead</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">          </span><span class="token comment" style="color:#999988;font-style:italic">// é ˜å…ˆç›®æ•¸</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// é ˜åœ°é æ¸¬</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">float</span><span class="token plain"> ownership</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">NNPos</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">MAX_BOARD_AREA</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p><strong>å‹•ç•«å°æ‡‰</strong>ï¼š</p>
<ul>
<li class="">ğŸ¬ E1 ç­–ç•¥ç¶²è·¯ï¼špolicyProbs</li>
<li class="">ğŸ¬ E2 åƒ¹å€¼ç¶²è·¯ï¼šwinProb, scoreMean</li>
<li class="">ğŸ¬ E3 é›™é ­ç¶²è·¯ï¼šå¤šè¼¸å‡ºé ­è¨­è¨ˆ</li>
</ul>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_l_sM" id="4-command--æŒ‡ä»¤è™•ç†">4. command/ â€” æŒ‡ä»¤è™•ç†<a href="#4-command--æŒ‡ä»¤è™•ç†" class="hash-link" aria-label="4. command/ â€” æŒ‡ä»¤è™•ç†çš„ç›´æ¥é€£çµ" title="4. command/ â€” æŒ‡ä»¤è™•ç†çš„ç›´æ¥é€£çµ" translate="no">â€‹</a></h3>
<p>ä¸åŒé‹è¡Œæ¨¡å¼çš„å¯¦ä½œã€‚</p>
<h4 class="anchor anchorTargetStickyNavbar_l_sM" id="gtpcpp">gtp.cpp<a href="#gtpcpp" class="hash-link" aria-label="gtp.cppçš„ç›´æ¥é€£çµ" title="gtp.cppçš„ç›´æ¥é€£çµ" translate="no">â€‹</a></h4>
<p>GTPï¼ˆGo Text Protocolï¼‰æ¨¡å¼çš„å¯¦ä½œï¼š</p>
<div class="language-cpp codeBlockContainer_huE5 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_oko_"><pre tabindex="0" class="prism-code language-cpp codeBlock_BBgU thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_t9f9"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token class-name">MainCmds</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">gtp</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">vector</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">string</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> args</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// æŒ‡ä»¤è§£æèˆ‡åŸ·è¡Œ</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">while</span><span class="token punctuation" style="color:#393A34">(</span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">string line</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">getline</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">cin</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> line</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">line </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;name&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token function" style="color:#d73a49">respond</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;KataGo&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">line</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">find</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;play&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">// è™•ç†ä¸‹æ£‹æŒ‡ä»¤</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">line</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">find</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;genmove&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">// åŸ·è¡Œæœç´¢ä¸¦å›å‚³æœ€ä½³ä¸‹æ³•</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// ... å…¶ä»–æŒ‡ä»¤</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_l_sM" id="analysiscpp">analysis.cpp<a href="#analysiscpp" class="hash-link" aria-label="analysis.cppçš„ç›´æ¥é€£çµ" title="analysis.cppçš„ç›´æ¥é€£çµ" translate="no">â€‹</a></h4>
<p>Analysis Engine çš„å¯¦ä½œï¼š</p>
<div class="language-cpp codeBlockContainer_huE5 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_oko_"><pre tabindex="0" class="prism-code language-cpp codeBlock_BBgU thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_t9f9"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token class-name">MainCmds</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">analysis</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">vector</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">string</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> args</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">while</span><span class="token punctuation" style="color:#393A34">(</span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// è®€å– JSON è«‹æ±‚</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">string line</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">getline</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">cin</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> line</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        json query </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> json</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">parse</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">line</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// å»ºç«‹æ£‹ç›¤ç‹€æ…‹</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Board board </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">setupBoard</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">query</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// åŸ·è¡Œåˆ†æ</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Search </span><span class="token function" style="color:#d73a49">search</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        search</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">runWholeSearch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// è¼¸å‡º JSON å›æ‡‰</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        json response </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">formatResponse</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">search</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">cout </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> response</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">dump</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> std</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token plain">endl</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_l_sM" id="python-è¨“ç·´ç¨‹å¼ç¢¼">Python è¨“ç·´ç¨‹å¼ç¢¼<a href="#python-è¨“ç·´ç¨‹å¼ç¢¼" class="hash-link" aria-label="Python è¨“ç·´ç¨‹å¼ç¢¼çš„ç›´æ¥é€£çµ" title="Python è¨“ç·´ç¨‹å¼ç¢¼çš„ç›´æ¥é€£çµ" translate="no">â€‹</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_l_sM" id="modelpy--ç¶²è·¯æ¶æ§‹">model.py â€” ç¶²è·¯æ¶æ§‹<a href="#modelpy--ç¶²è·¯æ¶æ§‹" class="hash-link" aria-label="model.py â€” ç¶²è·¯æ¶æ§‹çš„ç›´æ¥é€£çµ" title="model.py â€” ç¶²è·¯æ¶æ§‹çš„ç›´æ¥é€£çµ" translate="no">â€‹</a></h3>
<div class="language-python codeBlockContainer_huE5 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_oko_"><pre tabindex="0" class="prism-code language-python codeBlock_BBgU thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_t9f9"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Model</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">nn</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Module</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">__init__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> config</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token builtin">super</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">__init__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># åˆå§‹å·ç©</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">initial_conv </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> nn</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Conv2d</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            in_channels</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">config</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">input_features</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            out_channels</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">config</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">trunk_channels</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            kernel_size</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> padding</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># æ®˜å·®å¡”</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">trunk </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> nn</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ModuleList</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ResidualBlock</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">config</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">trunk_channels</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> _ </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">config</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">num_blocks</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># è¼¸å‡ºé ­</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">policy_head </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> PolicyHead</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">config</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">value_head </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ValueHead</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">config</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ownership_head </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> OwnershipHead</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">config</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">forward</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> x</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># åˆå§‹å·ç©</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        x </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">initial_conv</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">x</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># æ®˜å·®å¡”</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> block </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">trunk</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            x </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> block</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">x</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># å¤šé ­è¼¸å‡º</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        policy </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">policy_head</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">x</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        value </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">value_head</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">x</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ownership </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ownership_head</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">x</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> policy</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> value</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ownership</span><br></span></code></pre></div></div>
<p><strong>å‹•ç•«å°æ‡‰</strong>ï¼š</p>
<ul>
<li class="">ğŸ¬ D9 å·ç©é‹ç®—ï¼šConv2d</li>
<li class="">ğŸ¬ D12 æ®˜å·®é€£æ¥ï¼šResidualBlock</li>
<li class="">ğŸ¬ E11 æ®˜å·®å¡”ï¼štrunk çµæ§‹</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_l_sM" id="trainpy--è¨“ç·´å¾ªç’°">train.py â€” è¨“ç·´å¾ªç’°<a href="#trainpy--è¨“ç·´å¾ªç’°" class="hash-link" aria-label="train.py â€” è¨“ç·´å¾ªç’°çš„ç›´æ¥é€£çµ" title="train.py â€” è¨“ç·´å¾ªç’°çš„ç›´æ¥é€£çµ" translate="no">â€‹</a></h3>
<div class="language-python codeBlockContainer_huE5 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_oko_"><pre tabindex="0" class="prism-code language-python codeBlock_BBgU thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_t9f9"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">train_step</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">model</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> optimizer</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> batch</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># å‰å‘å‚³æ’­</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    policy_pred</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> value_pred</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ownership_pred </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> model</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">batch</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">inputs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># è¨ˆç®—æå¤±</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    policy_loss </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> cross_entropy</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">policy_pred</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> batch</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">policy_target</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    value_loss </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> mse_loss</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">value_pred</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> batch</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">value_target</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ownership_loss </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> mse_loss</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ownership_pred</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> batch</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ownership_target</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    total_loss </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> policy_loss </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> value_loss </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> ownership_loss</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># åå‘å‚³æ’­</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    optimizer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">zero_grad</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    total_loss</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">backward</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    optimizer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">step</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> total_loss</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">item</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p><strong>å‹•ç•«å°æ‡‰</strong>ï¼š</p>
<ul>
<li class="">ğŸ¬ D3 å‰å‘å‚³æ’­ï¼šmodel(batch.inputs)</li>
<li class="">ğŸ¬ D13 åå‘å‚³æ’­ï¼štotal_loss.backward()</li>
<li class="">ğŸ¬ K3 Adamï¼šoptimizer.step()</li>
</ul>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_l_sM" id="é—œéµæ¼”ç®—æ³•å¯¦ä½œ">é—œéµæ¼”ç®—æ³•å¯¦ä½œ<a href="#é—œéµæ¼”ç®—æ³•å¯¦ä½œ" class="hash-link" aria-label="é—œéµæ¼”ç®—æ³•å¯¦ä½œçš„ç›´æ¥é€£çµ" title="é—œéµæ¼”ç®—æ³•å¯¦ä½œçš„ç›´æ¥é€£çµ" translate="no">â€‹</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_l_sM" id="puct-é¸æ“‡å…¬å¼">PUCT é¸æ“‡å…¬å¼<a href="#puct-é¸æ“‡å…¬å¼" class="hash-link" aria-label="PUCT é¸æ“‡å…¬å¼çš„ç›´æ¥é€£çµ" title="PUCT é¸æ“‡å…¬å¼çš„ç›´æ¥é€£çµ" translate="no">â€‹</a></h3>
<div class="language-cpp codeBlockContainer_huE5 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_oko_"><pre tabindex="0" class="prism-code language-cpp codeBlock_BBgU thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_t9f9"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// search.cpp</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> </span><span class="token class-name">Search</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">getPUCTScore</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> SearchNode</span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> node</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> moveIdx</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> Q </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> node</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token function" style="color:#d73a49">getChildValue</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">moveIdx</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> P </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> node</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token function" style="color:#d73a49">getChildPolicy</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">moveIdx</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> N_parent </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> node</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">visits</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> N_child </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> node</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token function" style="color:#d73a49">getChildVisits</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">moveIdx</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> exploration </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> params</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">cpuctExploration</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> cpuct </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> exploration </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">sqrt</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">N_parent</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1.0</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> N_child</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> Q </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> cpuct </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> P</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_l_sM" id="è™›æ“¬æå¤±">è™›æ“¬æå¤±<a href="#è™›æ“¬æå¤±" class="hash-link" aria-label="è™›æ“¬æå¤±çš„ç›´æ¥é€£çµ" title="è™›æ“¬æå¤±çš„ç›´æ¥é€£çµ" translate="no">â€‹</a></h3>
<div class="language-cpp codeBlockContainer_huE5 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_oko_"><pre tabindex="0" class="prism-code language-cpp codeBlock_BBgU thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_t9f9"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// é¿å…å¤šåŸ·è¡Œç·’é¸æ“‡ç›¸åŒç¯€é»</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token class-name">Search</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">applyVirtualLoss</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">SearchNode</span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> node</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    node</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">virtualLoss </span><span class="token operator" style="color:#393A34">+=</span><span class="token plain"> params</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">virtualLoss</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token class-name">Search</span><span class="token double-colon punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">removeVirtualLoss</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">SearchNode</span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> node</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    node</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">virtualLoss </span><span class="token operator" style="color:#393A34">-=</span><span class="token plain"> params</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">virtualLoss</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p><strong>å‹•ç•«å°æ‡‰</strong>ï¼š</p>
<ul>
<li class="">ğŸ¬ C9 è™›æ“¬æå¤±ï¼šä¸¦è¡Œæœç´¢çš„æŠ€å·§</li>
</ul>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_l_sM" id="ç·¨è­¯èˆ‡é™¤éŒ¯">ç·¨è­¯èˆ‡é™¤éŒ¯<a href="#ç·¨è­¯èˆ‡é™¤éŒ¯" class="hash-link" aria-label="ç·¨è­¯èˆ‡é™¤éŒ¯çš„ç›´æ¥é€£çµ" title="ç·¨è­¯èˆ‡é™¤éŒ¯çš„ç›´æ¥é€£çµ" translate="no">â€‹</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_l_sM" id="ç·¨è­¯debug-æ¨¡å¼">ç·¨è­¯ï¼ˆDebug æ¨¡å¼ï¼‰<a href="#ç·¨è­¯debug-æ¨¡å¼" class="hash-link" aria-label="ç·¨è­¯ï¼ˆDebug æ¨¡å¼ï¼‰çš„ç›´æ¥é€£çµ" title="ç·¨è­¯ï¼ˆDebug æ¨¡å¼ï¼‰çš„ç›´æ¥é€£çµ" translate="no">â€‹</a></h3>
<div class="language-bash codeBlockContainer_huE5 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_oko_"><pre tabindex="0" class="prism-code language-bash codeBlock_BBgU thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_t9f9"><span class="token-line" style="color:#393A34"><span class="token plain">cd cpp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mkdir build &amp;&amp; cd build</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cmake .. -DUSE_BACKEND=OPENCL -DCMAKE_BUILD_TYPE=Debug</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">make -j$(nproc)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_l_sM" id="å–®å…ƒæ¸¬è©¦">å–®å…ƒæ¸¬è©¦<a href="#å–®å…ƒæ¸¬è©¦" class="hash-link" aria-label="å–®å…ƒæ¸¬è©¦çš„ç›´æ¥é€£çµ" title="å–®å…ƒæ¸¬è©¦çš„ç›´æ¥é€£çµ" translate="no">â€‹</a></h3>
<div class="language-bash codeBlockContainer_huE5 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_oko_"><pre tabindex="0" class="prism-code language-bash codeBlock_BBgU thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_t9f9"><span class="token-line" style="color:#393A34"><span class="token plain">./katago runtests</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_l_sM" id="é™¤éŒ¯æŠ€å·§">é™¤éŒ¯æŠ€å·§<a href="#é™¤éŒ¯æŠ€å·§" class="hash-link" aria-label="é™¤éŒ¯æŠ€å·§çš„ç›´æ¥é€£çµ" title="é™¤éŒ¯æŠ€å·§çš„ç›´æ¥é€£çµ" translate="no">â€‹</a></h3>
<div class="language-cpp codeBlockContainer_huE5 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_oko_"><pre tabindex="0" class="prism-code language-cpp codeBlock_BBgU thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_t9f9"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// å•Ÿç”¨è©³ç´°æ—¥èªŒ</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">define</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property macro-name" style="color:#36acaa">SEARCH_DEBUG</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property expression number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// åœ¨æœç´¢ä¸­åŠ å…¥æ–·é»</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">node</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">visits </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// è¨­ç½®æ–·é»æª¢æŸ¥æœç´¢ç‹€æ…‹</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_l_sM" id="å»¶ä¼¸é–±è®€">å»¶ä¼¸é–±è®€<a href="#å»¶ä¼¸é–±è®€" class="hash-link" aria-label="å»¶ä¼¸é–±è®€çš„ç›´æ¥é€£çµ" title="å»¶ä¼¸é–±è®€çš„ç›´æ¥é€£çµ" translate="no">â€‹</a></h2>
<ul>
<li class=""><a class="" href="/docs/for-engineers/deep-dive/training/">KataGo è¨“ç·´æ©Ÿåˆ¶è§£æ</a> â€” å®Œæ•´è¨“ç·´æµç¨‹</li>
<li class=""><a class="" href="/docs/for-engineers/deep-dive/contributing/">åƒèˆ‡é–‹æºç¤¾ç¾¤</a> â€” è²¢ç»æŒ‡å—</li>
<li class=""><a class="" href="/docs/for-engineers/how-it-works/concepts/">æ¦‚å¿µé€ŸæŸ¥è¡¨</a> â€” 109 å€‹æ¦‚å¿µå°ç…§</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_YM8j"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/for-engineers/deep-dive/source-code.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_hRvp" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>ç·¨è¼¯æ­¤é </a></div><div class="col lastUpdated_LNbR"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="æ–‡ä»¶é¸é …å¡"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/for-engineers/deep-dive/"><div class="pagination-nav__sublabel">ä¸Šä¸€é </div><div class="pagination-nav__label">çµ¦æƒ³æ·±å…¥ç ”ç©¶çš„äºº</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/for-engineers/deep-dive/training/"><div class="pagination-nav__sublabel">ä¸‹ä¸€é </div><div class="pagination-nav__label">KataGo è¨“ç·´æ©Ÿåˆ¶è§£æ</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_VU0O thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#å–å¾—åŸå§‹ç¢¼" class="table-of-contents__link toc-highlight">å–å¾—åŸå§‹ç¢¼</a></li><li><a href="#ç›®éŒ„çµæ§‹" class="table-of-contents__link toc-highlight">ç›®éŒ„çµæ§‹</a></li><li><a href="#æ ¸å¿ƒæ¨¡çµ„è§£æ" class="table-of-contents__link toc-highlight">æ ¸å¿ƒæ¨¡çµ„è§£æ</a><ul><li><a href="#1-game--åœæ£‹è¦å‰‡" class="table-of-contents__link toc-highlight">1. game/ â€” åœæ£‹è¦å‰‡</a></li><li><a href="#2-search--mcts-æœç´¢" class="table-of-contents__link toc-highlight">2. search/ â€” MCTS æœç´¢</a></li><li><a href="#3-neuralnet--ç¥ç¶“ç¶²è·¯æ¨ç†" class="table-of-contents__link toc-highlight">3. neuralnet/ â€” ç¥ç¶“ç¶²è·¯æ¨ç†</a></li><li><a href="#4-command--æŒ‡ä»¤è™•ç†" class="table-of-contents__link toc-highlight">4. command/ â€” æŒ‡ä»¤è™•ç†</a></li></ul></li><li><a href="#python-è¨“ç·´ç¨‹å¼ç¢¼" class="table-of-contents__link toc-highlight">Python è¨“ç·´ç¨‹å¼ç¢¼</a><ul><li><a href="#modelpy--ç¶²è·¯æ¶æ§‹" class="table-of-contents__link toc-highlight">model.py â€” ç¶²è·¯æ¶æ§‹</a></li><li><a href="#trainpy--è¨“ç·´å¾ªç’°" class="table-of-contents__link toc-highlight">train.py â€” è¨“ç·´å¾ªç’°</a></li></ul></li><li><a href="#é—œéµæ¼”ç®—æ³•å¯¦ä½œ" class="table-of-contents__link toc-highlight">é—œéµæ¼”ç®—æ³•å¯¦ä½œ</a><ul><li><a href="#puct-é¸æ“‡å…¬å¼" class="table-of-contents__link toc-highlight">PUCT é¸æ“‡å…¬å¼</a></li><li><a href="#è™›æ“¬æå¤±" class="table-of-contents__link toc-highlight">è™›æ“¬æå¤±</a></li></ul></li><li><a href="#ç·¨è­¯èˆ‡é™¤éŒ¯" class="table-of-contents__link toc-highlight">ç·¨è­¯èˆ‡é™¤éŒ¯</a><ul><li><a href="#ç·¨è­¯debug-æ¨¡å¼" class="table-of-contents__link toc-highlight">ç·¨è­¯ï¼ˆDebug æ¨¡å¼ï¼‰</a></li><li><a href="#å–®å…ƒæ¸¬è©¦" class="table-of-contents__link toc-highlight">å–®å…ƒæ¸¬è©¦</a></li><li><a href="#é™¤éŒ¯æŠ€å·§" class="table-of-contents__link toc-highlight">é™¤éŒ¯æŠ€å·§</a></li></ul></li><li><a href="#å»¶ä¼¸é–±è®€" class="table-of-contents__link toc-highlight">å»¶ä¼¸é–±è®€</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2025 Weiqi.Kids. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>